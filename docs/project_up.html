<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.55">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="DSAN student">

<title>Aid Under Attack: Analyzing Security Threats to Humanitarian Operations – Aid Under Attack</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="styles.css">
</head>

<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#executive-summary" id="toc-executive-summary" class="nav-link active" data-scroll-target="#executive-summary">Executive Summary</a></li>
  <li><a href="#the-escalating-crisis-incidents-over-time" id="toc-the-escalating-crisis-incidents-over-time" class="nav-link" data-scroll-target="#the-escalating-crisis-incidents-over-time">1. The Escalating Crisis: Incidents Over Time</a></li>
  <li><a href="#dangerous-ground-geographic-distribution-of-risk" id="toc-dangerous-ground-geographic-distribution-of-risk" class="nav-link" data-scroll-target="#dangerous-ground-geographic-distribution-of-risk">2. Dangerous Ground: Geographic Distribution of Risk</a></li>
  <li><a href="#weapons-of-choice-attack-methods-and-their-impact" id="toc-weapons-of-choice-attack-methods-and-their-impact" class="nav-link" data-scroll-target="#weapons-of-choice-attack-methods-and-their-impact">3. Weapons of Choice: Attack Methods and Their Impact</a></li>
  <li><a href="#the-protection-gap-national-vs.-international-staff-vulnerability" id="toc-the-protection-gap-national-vs.-international-staff-vulnerability" class="nav-link" data-scroll-target="#the-protection-gap-national-vs.-international-staff-vulnerability">4. The Protection Gap: National vs.&nbsp;International Staff Vulnerability</a></li>
  <li><a href="#behind-the-attacks-perpetrator-patterns" id="toc-behind-the-attacks-perpetrator-patterns" class="nav-link" data-scroll-target="#behind-the-attacks-perpetrator-patterns">5. Behind the Attacks: Perpetrator Patterns</a></li>
  <li><a href="#timing-matters-temporal-patterns-in-attacks" id="toc-timing-matters-temporal-patterns-in-attacks" class="nav-link" data-scroll-target="#timing-matters-temporal-patterns-in-attacks">6. Timing Matters: Temporal Patterns in Attacks</a></li>
  <li><a href="#conclusions-and-recommendations" id="toc-conclusions-and-recommendations" class="nav-link" data-scroll-target="#conclusions-and-recommendations">Conclusions and Recommendations</a>
  <ul class="collapse">
  <li><a href="#key-evidence-based-findings" id="toc-key-evidence-based-findings" class="nav-link" data-scroll-target="#key-evidence-based-findings">Key Evidence-Based Findings</a></li>
  <li><a href="#evidence-based-recommendations-for-humanitarian-organizations" id="toc-evidence-based-recommendations-for-humanitarian-organizations" class="nav-link" data-scroll-target="#evidence-based-recommendations-for-humanitarian-organizations">Evidence-Based Recommendations for Humanitarian Organizations</a></li>
  <li><a href="#recommendations-for-policy-makers-and-donors" id="toc-recommendations-for-policy-makers-and-donors" class="nav-link" data-scroll-target="#recommendations-for-policy-makers-and-donors">Recommendations for Policy Makers and Donors</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Aid Under Attack: Analyzing Security Threats to Humanitarian Operations</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>DSAN student </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<blockquote class="blockquote">
<p>“The ultimate tragedy is not the brutality of the bad people, but the silence of the good people.”</p>
<p>— Martin Luther King Jr.</p>
</blockquote>
<section id="executive-summary" class="level2">
<h2 class="anchored" data-anchor-id="executive-summary">Executive Summary</h2>
<p>This analysis explores security threats facing humanitarian aid workers worldwide based on over 4,300 incidents from 1997 to 2025. Through data visualization and analysis, we uncover patterns that can help organizations better protect their personnel and operations.</p>
<p>Key findings include:</p>
<ol type="1">
<li>A <strong>dramatic 900% increase</strong> in security incidents over time (from 34 in 1997 to 353 in 2024)</li>
<li><strong>Geographic concentration</strong> of high-risk areas in South Sudan, Syria, Afghanistan, and Gaza</li>
<li><strong>Shootings, kidnappings, and assaults</strong> emerging as the predominant attack methods</li>
<li>An alarming <strong>vulnerability gap</strong> between national and international staff, with national staff bearing over 80% of casualties</li>
<li>A concerning pattern of <strong>unidentified perpetrators</strong> (52% of incidents), hindering accountability</li>
</ol>
<p>Our visualizations tell a compelling story of increasing danger for humanitarian workers and highlight critical areas where protective measures are most needed.</p>
</section>
<section id="the-escalating-crisis-incidents-over-time" class="level2">
<h2 class="anchored" data-anchor-id="the-escalating-crisis-incidents-over-time">1. The Escalating Crisis: Incidents Over Time</h2>
<div id="cell-fig-incidents-over-time" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by year and count incidents</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>yearly_incidents <span class="op">=</span> df.groupby(<span class="st">'Year'</span>).size().reset_index(name<span class="op">=</span><span class="st">'Incidents'</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate year-over-year percent change</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>yearly_incidents[<span class="st">'YoY_Change'</span>] <span class="op">=</span> yearly_incidents[<span class="st">'Incidents'</span>].pct_change() <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a figure with two subplots - one for the trend and one for YoY change</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>fig, (ax1, ax2) <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">7</span>), height_ratios<span class="op">=</span>[<span class="dv">2</span>, <span class="dv">1</span>], gridspec_kw<span class="op">=</span>{<span class="st">'hspace'</span>: <span class="fl">0.3</span>})</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot incidents over time</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>bars <span class="op">=</span> ax1.bar(yearly_incidents[<span class="st">'Year'</span>], yearly_incidents[<span class="st">'Incidents'</span>], color<span class="op">=</span>main_palette[<span class="dv">2</span>], alpha<span class="op">=</span><span class="fl">0.8</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>ax1 <span class="op">=</span> style_plot(ax1, <span class="st">'Total Security Incidents by Year'</span>, <span class="st">''</span>, <span class="st">'Number of Incidents'</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a trend line</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> yearly_incidents[<span class="st">'Year'</span>]</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> yearly_incidents[<span class="st">'Incidents'</span>]</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> np.polyfit(x, y, <span class="dv">1</span>)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> np.poly1d(z)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>ax1.plot(x, p(x), <span class="st">"r--"</span>, alpha<span class="op">=</span><span class="fl">0.7</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Add milestone annotations </span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>milestones <span class="op">=</span> {</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2003</span>: (<span class="st">'Iraq War (2003)'</span>, <span class="fl">0.6</span>),</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2011</span>: (<span class="st">'Arab Spring (2011)'</span>, <span class="fl">0.18</span>), </span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2013</span>: (<span class="st">'S. Sudan Civil War (2013)'</span>, <span class="fl">0.7</span>),</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2014</span>: (<span class="st">'Rise of ISIS (2014)'</span>, <span class="fl">0.1</span>),</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2020</span>: (<span class="st">'COVID-19 Pandemic (2020)'</span>, <span class="fl">0.9</span>),</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2022</span>: (<span class="st">'Russia-Ukraine War (2022)'</span>, <span class="fl">0.25</span>)</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> year, (event, vert_pos_factor) <span class="kw">in</span> milestones.items():</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> year <span class="kw">in</span> yearly_incidents[<span class="st">'Year'</span>].values:</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>        idx <span class="op">=</span> yearly_incidents[yearly_incidents[<span class="st">'Year'</span>] <span class="op">==</span> year].index[<span class="dv">0</span>]</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>        incidents <span class="op">=</span> yearly_incidents.loc[idx, <span class="st">'Incidents'</span>]</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>        max_height <span class="op">=</span> ax1.get_ylim()[<span class="dv">1</span>]</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Position the annotation at a percentage of max height</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>        vert_pos <span class="op">=</span> vert_pos_factor <span class="op">*</span> max_height</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Draw a line to the bar</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>        ax1.annotate(<span class="st">""</span>, xy<span class="op">=</span>(year, incidents), xytext<span class="op">=</span>(year, vert_pos),</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>                    arrowprops<span class="op">=</span><span class="bu">dict</span>(arrowstyle<span class="op">=</span><span class="st">"-"</span>, color<span class="op">=</span><span class="st">"gray"</span>, alpha<span class="op">=</span><span class="fl">0.7</span>))</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Add the text annotation</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>        ax1.annotate(<span class="ss">f"</span><span class="sc">{</span>event<span class="sc">}</span><span class="ch">\n</span><span class="ss">(</span><span class="sc">{</span>incidents<span class="sc">}</span><span class="ss"> incidents)"</span>, </span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>                    xy<span class="op">=</span>(year, vert_pos),</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>                    xytext<span class="op">=</span>(<span class="dv">0</span>, <span class="dv">5</span>),</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>                    textcoords<span class="op">=</span><span class="st">"offset points"</span>,</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>                    ha<span class="op">=</span><span class="st">'center'</span>, va<span class="op">=</span><span class="st">'bottom'</span>,</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>                    bbox<span class="op">=</span><span class="bu">dict</span>(boxstyle<span class="op">=</span><span class="st">"round,pad=0.3"</span>, fc<span class="op">=</span><span class="st">"white"</span>, alpha<span class="op">=</span><span class="fl">0.9</span>),</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>                    fontsize<span class="op">=</span><span class="dv">8</span>)</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot YoY percentage change</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>bars2 <span class="op">=</span> ax2.bar(yearly_incidents[<span class="st">'Year'</span>][<span class="dv">1</span>:], yearly_incidents[<span class="st">'YoY_Change'</span>][<span class="dv">1</span>:],</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>              color<span class="op">=</span>[accent_palette[<span class="dv">1</span>] <span class="cf">if</span> x <span class="op">&lt;</span> <span class="dv">0</span> <span class="cf">else</span> accent_palette[<span class="dv">5</span>] <span class="cf">for</span> x <span class="kw">in</span> yearly_incidents[<span class="st">'YoY_Change'</span>][<span class="dv">1</span>:]])</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> style_plot(ax2, <span class="st">'Year-over-Year Change in Incidents (%)'</span>, <span class="st">'Year'</span>, <span class="st">'Percent Change (%)'</span>)</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>ax2.axhline(y<span class="op">=</span><span class="dv">0</span>, color<span class="op">=</span><span class="st">'gray'</span>, linestyle<span class="op">=</span><span class="st">'-'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a><span class="co"># Format y-axis with percent sign</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>ax2.yaxis.set_major_formatter(ticker.PercentFormatter(decimals<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-incidents-over-time" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-incidents-over-time-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="project_up_files/figure-html/fig-incidents-over-time-output-1.svg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-incidents-over-time-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Security Incidents Affecting Humanitarian Workers (1997-2024)
</figcaption>
</figure>
</div>
</div>
</div>
<p>The data reveals a disturbing upward trend in attacks on humanitarian workers. From just 34 incidents in 1997, the number surged to 353 in 2024—a staggering 938% increase.</p>
<p>This trend correlates strongly with major global conflicts. The Iraq War (2003) marked the beginning of a steady rise, while the Arab Spring (2011), South Sudan Civil War (2013), and ISIS’s emergence (2014) all contributed to significant increases. More recently, the COVID-19 pandemic and Russia-Ukraine War coincided with continued high rates of attacks.</p>
<p>The year-over-year percentage changes (bottom chart) illustrate the volatility, with some years showing over 50% increases. Even in years with modest decreases, the overall trajectory remains sharply upward.</p>
<p>This erosion of humanitarian protection has critical implications: when aid workers become targets, vulnerable populations suffer doubly—first from the conflict or disaster that created their needs, and second from diminished assistance when security concerns hamper operations.</p>
</section>
<section id="dangerous-ground-geographic-distribution-of-risk" class="level2">
<h2 class="anchored" data-anchor-id="dangerous-ground-geographic-distribution-of-risk">2. Dangerous Ground: Geographic Distribution of Risk</h2>
<div id="cell-fig-region-incidents" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For regions analysis, we'll filter out "Unknown" region as it doesn't provide actionable insights</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># This is a data cleaning decision based on the fact that Unknown regions don't help with geographic targeting</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>filtered_regions <span class="op">=</span> df[df[<span class="st">'Region'</span>] <span class="op">!=</span> <span class="st">'Unknown'</span>]</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Count incidents by region, sort and take top 20</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>region_counts <span class="op">=</span> filtered_regions[<span class="st">'Region'</span>].value_counts().reset_index()</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>region_counts.columns <span class="op">=</span> [<span class="st">'Region'</span>, <span class="st">'Incidents'</span>]</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>top_regions <span class="op">=</span> region_counts.head(<span class="dv">20</span>).sort_values(<span class="st">'Incidents'</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create horizontal bar chart for top regions</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>bars <span class="op">=</span> ax.barh(top_regions[<span class="st">'Region'</span>], top_regions[<span class="st">'Incidents'</span>], color<span class="op">=</span>main_palette[<span class="dv">3</span>], alpha<span class="op">=</span><span class="fl">0.8</span>)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Add data labels</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, v <span class="kw">in</span> <span class="bu">enumerate</span>(top_regions[<span class="st">'Incidents'</span>]):</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    ax.text(v <span class="op">+</span> <span class="dv">2</span>, i, <span class="bu">str</span>(v), va<span class="op">=</span><span class="st">'center'</span>, fontsize<span class="op">=</span><span class="dv">9</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Style the plot</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> style_plot(ax, <span class="st">'Top 20 Regions by Number of Security Incidents (1997-2024)'</span>, <span class="st">'Number of Incidents'</span>, <span class="st">''</span>)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: We've removed "Unknown" regions from this analysis as they don't provide actionable geographic insights.</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="co"># This represents a data cleaning decision to focus on known locations where specific security measures can be implemented.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-region-incidents" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-region-incidents-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="project_up_files/figure-html/fig-region-incidents-output-1.svg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-region-incidents-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Top 20 Most Dangerous Regions for Humanitarian Workers
</figcaption>
</figure>
</div>
</div>
</div>
<div id="cell-fig-country-casualties" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate casualties by country</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>casualties_by_country <span class="op">=</span> df.groupby(<span class="st">'Country'</span>)[[<span class="st">'Total killed'</span>, <span class="st">'Total wounded'</span>, <span class="st">'Total kidnapped'</span>]].<span class="bu">sum</span>().reset_index()</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>casualties_by_country[<span class="st">'Total casualties'</span>] <span class="op">=</span> casualties_by_country[[<span class="st">'Total killed'</span>, <span class="st">'Total wounded'</span>, <span class="st">'Total kidnapped'</span>]].<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>top_countries <span class="op">=</span> casualties_by_country.sort_values(<span class="st">'Total casualties'</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">15</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a stacked bar chart for casualties by country</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>))</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot stacked bars</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>bars1 <span class="op">=</span> ax.bar(top_countries[<span class="st">'Country'</span>], top_countries[<span class="st">'Total killed'</span>], </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>       label<span class="op">=</span><span class="st">'Killed'</span>, color<span class="op">=</span>accent_palette[<span class="dv">6</span>])</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>bars2 <span class="op">=</span> ax.bar(top_countries[<span class="st">'Country'</span>], top_countries[<span class="st">'Total wounded'</span>], </span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>       bottom<span class="op">=</span>top_countries[<span class="st">'Total killed'</span>], label<span class="op">=</span><span class="st">'Wounded'</span>, color<span class="op">=</span>accent_palette[<span class="dv">4</span>])</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>bars3 <span class="op">=</span> ax.bar(top_countries[<span class="st">'Country'</span>], top_countries[<span class="st">'Total kidnapped'</span>], </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>       bottom<span class="op">=</span>top_countries[<span class="st">'Total killed'</span>] <span class="op">+</span> top_countries[<span class="st">'Total wounded'</span>], </span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>       label<span class="op">=</span><span class="st">'Kidnapped'</span>, color<span class="op">=</span>accent_palette[<span class="dv">1</span>])</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Add data labels for total casualties with better visibility</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, country <span class="kw">in</span> <span class="bu">enumerate</span>(top_countries[<span class="st">'Country'</span>]):</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    total <span class="op">=</span> top_countries.loc[top_countries[<span class="st">'Country'</span>] <span class="op">==</span> country, <span class="st">'Total casualties'</span>].iloc[<span class="dv">0</span>]</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    ax.text(i, total <span class="op">+</span> <span class="dv">10</span>, <span class="ss">f'</span><span class="sc">{</span><span class="bu">int</span>(total)<span class="sc">}</span><span class="ss">'</span>, ha<span class="op">=</span><span class="st">'center'</span>, fontsize<span class="op">=</span><span class="dv">9</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>,</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>           path_effects<span class="op">=</span>[pe.withStroke(linewidth<span class="op">=</span><span class="dv">2</span>, foreground<span class="op">=</span><span class="st">'white'</span>)])</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Style the plot</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> style_plot(ax, <span class="st">'Humanitarian Worker Casualties by Country (Top 15)'</span>, <span class="st">''</span>, <span class="st">'Number of Casualties'</span>)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>, ha<span class="op">=</span><span class="st">'right'</span>)</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="st">'upper right'</span>)</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-country-casualties" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-country-casualties-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="project_up_files/figure-html/fig-country-casualties-output-1.svg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-country-casualties-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Humanitarian Worker Casualties by Country (Top 15 Countries)
</figcaption>
</figure>
</div>
</div>
</div>
<p><em>Interactive Map: Use the dropdown menu in the top right corner to view total incidents, killed, wounded, or kidnapped aid workers by country. Hover over countries to see detailed statistics.</em></p>
<div class="cell" data-execution_count="5">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import required libraries</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pycountry</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert country codes from Alpha-2 to Alpha-3 format (required by Plotly)</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> alpha2_to_alpha3(code):</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> pd.isnull(code):</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> pycountry.countries.get(alpha_2<span class="op">=</span>code).alpha_3</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> (<span class="pp">AttributeError</span>, <span class="pp">KeyError</span>):</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Alpha-3 code column</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Country Code Alpha-3'</span>] <span class="op">=</span> df[<span class="st">'Country Code'</span>].<span class="bu">apply</span>(alpha2_to_alpha3)</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate data by country</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>df_map <span class="op">=</span> df.groupby([<span class="st">'Country'</span>, <span class="st">'Country Code Alpha-3'</span>]).agg(</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    Incidents<span class="op">=</span>(<span class="st">'Incident ID'</span>, <span class="st">'count'</span>),</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    Total_Killed<span class="op">=</span>(<span class="st">'Total killed'</span>, <span class="st">'sum'</span>),</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    Total_Wounded<span class="op">=</span>(<span class="st">'Total wounded'</span>, <span class="st">'sum'</span>),</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    Total_Kidnapped<span class="op">=</span>(<span class="st">'Total kidnapped'</span>, <span class="st">'sum'</span>)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>).reset_index()</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Create map visualization</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>color_scale <span class="op">=</span> <span class="st">'Reds'</span>  <span class="co"># Use red gradient to show severity</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Choropleth layer for each metric</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, metric <span class="kw">in</span> <span class="bu">enumerate</span>([<span class="st">'Incidents'</span>, <span class="st">'Total_Killed'</span>, <span class="st">'Total_Wounded'</span>, <span class="st">'Total_Kidnapped'</span>]):</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Process data, replace 0 values with NaN to avoid showing them on the map</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>    z_values <span class="op">=</span> df_map[metric].copy()</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    z_masked <span class="op">=</span> np.where(z_values <span class="op">==</span> <span class="dv">0</span>, np.nan, z_values)</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set visibility (only first metric initially visible)</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    visible <span class="op">=</span> <span class="va">True</span> <span class="cf">if</span> i <span class="op">==</span> <span class="dv">0</span> <span class="cf">else</span> <span class="va">False</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create Choropleth layer</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(go.Choropleth(</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>        locations<span class="op">=</span>df_map[<span class="st">'Country Code Alpha-3'</span>],</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>        z<span class="op">=</span>z_masked,</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span>df_map[<span class="st">'Country'</span>],</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>        colorscale<span class="op">=</span>color_scale,</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>        colorbar_title<span class="op">=</span>metric.replace(<span class="st">'_'</span>, <span class="st">' '</span>),</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>        zmin<span class="op">=</span><span class="dv">1</span>,  <span class="co"># Start from 1 to avoid including areas with no data</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>        zmax<span class="op">=</span>df_map[metric].quantile(<span class="fl">0.95</span>),  <span class="co"># Use 95th percentile to avoid extreme values distorting the color scale</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>        visible<span class="op">=</span>visible,</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>        hovertemplate<span class="op">=</span><span class="st">'&lt;b&gt;%</span><span class="sc">{text}</span><span class="st">&lt;/b&gt;&lt;br&gt;'</span> <span class="op">+</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>                      <span class="st">'Incidents: %</span><span class="sc">{customdata[0]}</span><span class="st">&lt;br&gt;'</span> <span class="op">+</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>                      <span class="st">'Killed: %</span><span class="sc">{customdata[1]}</span><span class="st">&lt;br&gt;'</span> <span class="op">+</span></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>                      <span class="st">'Wounded: %</span><span class="sc">{customdata[2]}</span><span class="st">&lt;br&gt;'</span> <span class="op">+</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>                      <span class="st">'Kidnapped: %</span><span class="sc">{customdata[3]}</span><span class="st">&lt;extra&gt;&lt;/extra&gt;'</span>,</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>        customdata<span class="op">=</span>np.stack([df_map[<span class="st">'Incidents'</span>], </span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>                            df_map[<span class="st">'Total_Killed'</span>], </span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>                            df_map[<span class="st">'Total_Wounded'</span>],</span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>                            df_map[<span class="st">'Total_Kidnapped'</span>]], axis<span class="op">=-</span><span class="dv">1</span>)</span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a><span class="co"># Add dropdown menu to switch between different metrics</span></span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span><span class="st">"Attacks on Humanitarian Workers by Country (1997-2024)"</span>,</span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="fl">0.93</span>,  </span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(l<span class="op">=</span><span class="dv">0</span>, r<span class="op">=</span><span class="dv">0</span>, t<span class="op">=</span><span class="dv">80</span>, b<span class="op">=</span><span class="dv">0</span>),  </span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">450</span>,  <span class="co"># Control map height</span></span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">700</span>,   <span class="co"># Control map width</span></span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>    geo<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>        showframe<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>        showcoastlines<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>        projection_type<span class="op">=</span><span class="st">'equirectangular'</span></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>    updatemenus<span class="op">=</span>[</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>        <span class="bu">dict</span>(</span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>            buttons<span class="op">=</span><span class="bu">list</span>([</span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>                <span class="bu">dict</span>(label<span class="op">=</span><span class="st">"Total Incidents"</span>,</span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>                     method<span class="op">=</span><span class="st">"update"</span>,</span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a>                     args<span class="op">=</span>[{<span class="st">"visible"</span>: [<span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>]},</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a>                           {<span class="st">"title.text"</span>: <span class="st">"Total Security Incidents by Country (1997-2024)"</span>}]),</span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a>                <span class="bu">dict</span>(label<span class="op">=</span><span class="st">"Total Killed"</span>,</span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a>                     method<span class="op">=</span><span class="st">"update"</span>,</span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a>                     args<span class="op">=</span>[{<span class="st">"visible"</span>: [<span class="va">False</span>, <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>]},</span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a>                           {<span class="st">"title.text"</span>: <span class="st">"Total Humanitarian Workers Killed by Country (1997-2024)"</span>}]),</span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a>                <span class="bu">dict</span>(label<span class="op">=</span><span class="st">"Total Wounded"</span>,</span>
<span id="cb4-86"><a href="#cb4-86" aria-hidden="true" tabindex="-1"></a>                     method<span class="op">=</span><span class="st">"update"</span>,</span>
<span id="cb4-87"><a href="#cb4-87" aria-hidden="true" tabindex="-1"></a>                     args<span class="op">=</span>[{<span class="st">"visible"</span>: [<span class="va">False</span>, <span class="va">False</span>, <span class="va">True</span>, <span class="va">False</span>]},</span>
<span id="cb4-88"><a href="#cb4-88" aria-hidden="true" tabindex="-1"></a>                           {<span class="st">"title.text"</span>: <span class="st">"Total Humanitarian Workers Wounded by Country (1997-2024)"</span>}]),</span>
<span id="cb4-89"><a href="#cb4-89" aria-hidden="true" tabindex="-1"></a>                <span class="bu">dict</span>(label<span class="op">=</span><span class="st">"Total Kidnapped"</span>,</span>
<span id="cb4-90"><a href="#cb4-90" aria-hidden="true" tabindex="-1"></a>                     method<span class="op">=</span><span class="st">"update"</span>,</span>
<span id="cb4-91"><a href="#cb4-91" aria-hidden="true" tabindex="-1"></a>                     args<span class="op">=</span>[{<span class="st">"visible"</span>: [<span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">True</span>]},</span>
<span id="cb4-92"><a href="#cb4-92" aria-hidden="true" tabindex="-1"></a>                           {<span class="st">"title.text"</span>: <span class="st">"Total Humanitarian Workers Kidnapped by Country (1997-2024)"</span>}])</span>
<span id="cb4-93"><a href="#cb4-93" aria-hidden="true" tabindex="-1"></a>            ]),</span>
<span id="cb4-94"><a href="#cb4-94" aria-hidden="true" tabindex="-1"></a>            direction<span class="op">=</span><span class="st">"down"</span>,</span>
<span id="cb4-95"><a href="#cb4-95" aria-hidden="true" tabindex="-1"></a>            showactive<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb4-96"><a href="#cb4-96" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="fl">0.85</span>,  <span class="co"># Positioned in top right</span></span>
<span id="cb4-97"><a href="#cb4-97" aria-hidden="true" tabindex="-1"></a>            xanchor<span class="op">=</span><span class="st">"right"</span>,</span>
<span id="cb4-98"><a href="#cb4-98" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="fl">1.1</span>,  <span class="co"># Moved above the figure for better visibility</span></span>
<span id="cb4-99"><a href="#cb4-99" aria-hidden="true" tabindex="-1"></a>            yanchor<span class="op">=</span><span class="st">"top"</span></span>
<span id="cb4-100"><a href="#cb4-100" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb4-101"><a href="#cb4-101" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb4-102"><a href="#cb4-102" aria-hidden="true" tabindex="-1"></a>    annotations<span class="op">=</span>[</span>
<span id="cb4-103"><a href="#cb4-103" aria-hidden="true" tabindex="-1"></a>        <span class="bu">dict</span>(</span>
<span id="cb4-104"><a href="#cb4-104" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="fl">0.8</span>,</span>
<span id="cb4-105"><a href="#cb4-105" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="fl">1.05</span>,</span>
<span id="cb4-106"><a href="#cb4-106" aria-hidden="true" tabindex="-1"></a>            xref<span class="op">=</span><span class="st">"paper"</span>,</span>
<span id="cb4-107"><a href="#cb4-107" aria-hidden="true" tabindex="-1"></a>            yref<span class="op">=</span><span class="st">"paper"</span>,</span>
<span id="cb4-108"><a href="#cb4-108" aria-hidden="true" tabindex="-1"></a>            text<span class="op">=</span><span class="st">"View by:"</span>,</span>
<span id="cb4-109"><a href="#cb4-109" aria-hidden="true" tabindex="-1"></a>            showarrow<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb4-110"><a href="#cb4-110" aria-hidden="true" tabindex="-1"></a>            font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb4-111"><a href="#cb4-111" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb4-112"><a href="#cb4-112" aria-hidden="true" tabindex="-1"></a>        <span class="bu">dict</span>(</span>
<span id="cb4-113"><a href="#cb4-113" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb4-114"><a href="#cb4-114" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=-</span><span class="fl">0.1</span>,</span>
<span id="cb4-115"><a href="#cb4-115" aria-hidden="true" tabindex="-1"></a>            xref<span class="op">=</span><span class="st">"paper"</span>,</span>
<span id="cb4-116"><a href="#cb4-116" aria-hidden="true" tabindex="-1"></a>            yref<span class="op">=</span><span class="st">"paper"</span>,</span>
<span id="cb4-117"><a href="#cb4-117" aria-hidden="true" tabindex="-1"></a>            text<span class="op">=</span><span class="st">"Interactive Map of Humanitarian Worker Security Incidents"</span>,</span>
<span id="cb4-118"><a href="#cb4-118" aria-hidden="true" tabindex="-1"></a>            showarrow<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb4-119"><a href="#cb4-119" aria-hidden="true" tabindex="-1"></a>            font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb4-120"><a href="#cb4-120" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb4-121"><a href="#cb4-121" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb4-122"><a href="#cb4-122" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-123"><a href="#cb4-123" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-incidents-map" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-execution_count="5">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-incidents-map-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div id="fig-incidents-map-1" class="cell-output cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-incidents-map-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        </script>
        <script type="module">import "https://cdn.plot.ly/plotly-3.0.1.min"</script>
        
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-incidents-map-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Interactive Map of Humanitarian Worker Security Incidents
</figcaption>
</figure>
</div>
<div id="fig-incidents-map-2" class="cell-output cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-incidents-map-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script>                <div id="e8fa09a7-2682-4b85-b26b-c6094bef27bd" class="plotly-graph-div" style="height:450px; width:700px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("e8fa09a7-2682-4b85-b26b-c6094bef27bd")) {                    Plotly.newPlot(                        "e8fa09a7-2682-4b85-b26b-c6094bef27bd",                        [{"colorbar":{"title":{"text":"Incidents"}},"colorscale":[[0.0,"rgb(255,245,240)"],[0.125,"rgb(254,224,210)"],[0.25,"rgb(252,187,161)"],[0.375,"rgb(252,146,114)"],[0.5,"rgb(251,106,74)"],[0.625,"rgb(239,59,44)"],[0.75,"rgb(203,24,29)"],[0.875,"rgb(165,15,21)"],[1.0,"rgb(103,0,13)"]],"customdata":{"dtype":"i2","bdata":"YgLmAYwB2AECAAgABAAAABUAJQARAAAAAQAAAAEAAAABAAAAAQAAAAEAAwACAAAAHQAMABQAAwABAAAAAQAAAAIAAAACAAAAAQAAAAEAAAAhAA0ABQAlABwAFQANAAwABAADAAEAAAAzAAgAEwBLAI4AUwB7ACgAIgANACAACQACAAAAAgAAABEACAAHAAgAAwABAAQAAgAHAAgAAgABAOkAawCBANQAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAABwAEAAUAAAACAAIAAwAAAGoAQQA3ACEABAABAAQAAAABAAAAAAADAAgAAgAGAAAACQAEAAQAAgACAAAAAgAAAAEAAAABAAAARgAPABwAMQAFAAEAAwABAAYAAQAFAAAAEQAIABUAAQACAAAAAgAAAEwARAA\u002fACAABwAIAAAAAAABAAAAAQAAAAcAAgAOAAAAQQAXADAADQADAAAAAwAAABQAEgAcAAAAAwADAAAAAAAJAAUABAAIABQAAgAQABUABwADAAUAAAAKAAEADQAAAH4AGgA3ALcAAwABAAEAAwABAAAAAQAAAAYABAAJAAEAFQAIABEAAABJADMAJAAQAAMAAAADAAEABAAAAAMAAQAUAA8ACAAYAFcATABSAEcAngCvAZIAAgBxAGkAYQA5AAcAAAAJAAAAAQAAAAEAAAAPAAcACgAGAAIAAAACAAAACgANAAIAAAABAAAAAQAAAAUAAQAIAAAADQADAAoAAwA7AQQBpQCgAAUAAgADAAAARwILAdIBngA2ADQAIQAGAH0B5wAZAZsAAQAAAAEAAABwATYB5ABGAAQAAgAAABYADAACAAsAAAABAAEABAAAAAQAAAAFAAAABQAEAAMAAAAtABQAKgAFACwAHAA6ACcAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAwBqADcAMgBcAAMAAAADAAAAAgABAAEAAAA=","shape":"91, 4"},"hovertemplate":"\u003cb\u003e%{text}\u003c\u002fb\u003e\u003cbr\u003eIncidents: %{customdata[0]}\u003cbr\u003eKilled: %{customdata[1]}\u003cbr\u003eWounded: %{customdata[2]}\u003cbr\u003eKidnapped: %{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","locations":["AFG","DZA","AGO","ARG","ARM","AZE","BGD","BEN","BOL","BWA","BFA","BDI","KHM","CMR","CAF","TCD","CHL","COL","COG","CIV","COD","DOM","ECU","EGY","SLV","ERI","ETH","FJI","GEO","GTM","GIN","GNB","GUY","HTI","HND","IND","IDN","IRN","IRQ","ISR","JAM","JOR","KEN","KGZ","LBN","LSO","LBR","LBY","MDG","MWI","MLI","MRT","MUS","MEX","MOZ","MMR","NPL","NIC","NER","NGA","PSE","PAK","PNG","PER","PHL","POL","RWA","SAU","SEN","SLE","SOM","ZAF","SSD","LKA","SDN","SWZ","SYR","TJK","TZA","THA","TUN","TUR","UGA","UKR","URY","VEN","VNM","ESH","YEM","ZMB","ZWE"],"text":["Afghanistan","Algeria","Angola","Argentina","Armenia","Azerbaijan","Bangladesh","Benin","Bolivia","Botswana","Burkina Faso","Burundi","Cambodia","Cameroon","Central African Republic","Chad","Chile","Colombia","Congo","Cote D'Ivoire","DR Congo","Dominican Republic","Ecuador","Egypt","El Salvador","Eritrea","Ethiopia","Fiji","Georgia","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","India","Indonesia","Iran, Islamic Republic of","Iraq","Israel","Jamaica","Jordan","Kenya","Kyrgyzstan","Lebanon","Lesotho","Liberia","Libyan Arab Jamahiriya","Madagascar","Malawi","Mali","Mauritania","Mauritius","Mexico","Mozambique","Myanmar","Nepal","Nicaragua","Niger","Nigeria","Occupied Palestinian Territories","Pakistan","Papua New Guinea","Peru","Philippines","Poland","Rwanda","Saudi Arabia","Senegal","Sierra Leone","Somalia","South Africa","South Sudan","Sri Lanka","Sudan","Swaziland","Syrian Arab Republic","Tajikistan","Tanzania","Thailand","Tunisia","Turkey","Uganda","Ukraine","Uruguay","Venezuela","Vietnam","Western Sahara","Yemen","Zambia","Zimbabwe"],"visible":true,"z":{"dtype":"f8","bdata":"AAAAAAAQg0AAAAAAAAAAQAAAAAAAADVAAAAAAAAA8D8AAAAAAADwPwAAAAAAAPA\u002fAAAAAAAAPUAAAAAAAADwPwAAAAAAAABAAAAAAAAA8D8AAAAAAIBAQAAAAAAAADxAAAAAAAAAEEAAAAAAAIBJQAAAAAAAwGFAAAAAAAAAQUAAAAAAAAAAQAAAAAAAADFAAAAAAAAACEAAAAAAAAAcQAAAAAAAIG1AAAAAAAAA8D8AAAAAAADwPwAAAAAAAPA\u002fAAAAAAAAHEAAAAAAAAAAQAAAAAAAgFpAAAAAAAAAEEAAAAAAAADwPwAAAAAAACBAAAAAAAAAIkAAAAAAAAAAQAAAAAAAAPA\u002fAAAAAACAUUAAAAAAAAAUQAAAAAAAABhAAAAAAAAAMUAAAAAAAAAAQAAAAAAAAFNAAAAAAAAAHEAAAAAAAADwPwAAAAAAABxAAAAAAABAUEAAAAAAAAAIQAAAAAAAADRAAAAAAAAACEAAAAAAAAAiQAAAAAAAADRAAAAAAAAAHEAAAAAAAAAkQAAAAAAAgF9AAAAAAAAACEAAAAAAAADwPwAAAAAAABhAAAAAAAAANUAAAAAAAEBSQAAAAAAAAAhAAAAAAAAAEEAAAAAAAAA0QAAAAAAAwFVAAAAAAADAY0AAAAAAAEBcQAAAAAAAABxAAAAAAAAA8D8AAAAAAAAuQAAAAAAAAABAAAAAAAAAJEAAAAAAAADwPwAAAAAAABRAAAAAAAAAKkAAAAAAALBzQAAAAAAAABRAAAAAAAA4gkAAAAAAAABLQAAAAAAA0HdAAAAAAAAA8D8AAAAAAAB3QAAAAAAAABBAAAAAAAAAKEAAAAAAAADwPwAAAAAAABBAAAAAAAAAFEAAAAAAAIBGQAAAAAAAAEZAAAAAAAAA8D8AAAAAAADwPwAAAAAAAPA\u002fAAAAAAAA8D8AAAAAAIBaQAAAAAAAAAhAAAAAAAAAAEA="},"zmax":274.0,"zmin":1,"type":"choropleth"},{"colorbar":{"title":{"text":"Total Killed"}},"colorscale":[[0.0,"rgb(255,245,240)"],[0.125,"rgb(254,224,210)"],[0.25,"rgb(252,187,161)"],[0.375,"rgb(252,146,114)"],[0.5,"rgb(251,106,74)"],[0.625,"rgb(239,59,44)"],[0.75,"rgb(203,24,29)"],[0.875,"rgb(165,15,21)"],[1.0,"rgb(103,0,13)"]],"customdata":{"dtype":"i2","bdata":"YgLmAYwB2AECAAgABAAAABUAJQARAAAAAQAAAAEAAAABAAAAAQAAAAEAAwACAAAAHQAMABQAAwABAAAAAQAAAAIAAAACAAAAAQAAAAEAAAAhAA0ABQAlABwAFQANAAwABAADAAEAAAAzAAgAEwBLAI4AUwB7ACgAIgANACAACQACAAAAAgAAABEACAAHAAgAAwABAAQAAgAHAAgAAgABAOkAawCBANQAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAABwAEAAUAAAACAAIAAwAAAGoAQQA3ACEABAABAAQAAAABAAAAAAADAAgAAgAGAAAACQAEAAQAAgACAAAAAgAAAAEAAAABAAAARgAPABwAMQAFAAEAAwABAAYAAQAFAAAAEQAIABUAAQACAAAAAgAAAEwARAA\u002fACAABwAIAAAAAAABAAAAAQAAAAcAAgAOAAAAQQAXADAADQADAAAAAwAAABQAEgAcAAAAAwADAAAAAAAJAAUABAAIABQAAgAQABUABwADAAUAAAAKAAEADQAAAH4AGgA3ALcAAwABAAEAAwABAAAAAQAAAAYABAAJAAEAFQAIABEAAABJADMAJAAQAAMAAAADAAEABAAAAAMAAQAUAA8ACAAYAFcATABSAEcAngCvAZIAAgBxAGkAYQA5AAcAAAAJAAAAAQAAAAEAAAAPAAcACgAGAAIAAAACAAAACgANAAIAAAABAAAAAQAAAAUAAQAIAAAADQADAAoAAwA7AQQBpQCgAAUAAgADAAAARwILAdIBngA2ADQAIQAGAH0B5wAZAZsAAQAAAAEAAABwATYB5ABGAAQAAgAAABYADAACAAsAAAABAAEABAAAAAQAAAAFAAAABQAEAAMAAAAtABQAKgAFACwAHAA6ACcAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAwBqADcAMgBcAAMAAAADAAAAAgABAAEAAAA=","shape":"91, 4"},"hovertemplate":"\u003cb\u003e%{text}\u003c\u002fb\u003e\u003cbr\u003eIncidents: %{customdata[0]}\u003cbr\u003eKilled: %{customdata[1]}\u003cbr\u003eWounded: %{customdata[2]}\u003cbr\u003eKidnapped: %{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","locations":["AFG","DZA","AGO","ARG","ARM","AZE","BGD","BEN","BOL","BWA","BFA","BDI","KHM","CMR","CAF","TCD","CHL","COL","COG","CIV","COD","DOM","ECU","EGY","SLV","ERI","ETH","FJI","GEO","GTM","GIN","GNB","GUY","HTI","HND","IND","IDN","IRN","IRQ","ISR","JAM","JOR","KEN","KGZ","LBN","LSO","LBR","LBY","MDG","MWI","MLI","MRT","MUS","MEX","MOZ","MMR","NPL","NIC","NER","NGA","PSE","PAK","PNG","PER","PHL","POL","RWA","SAU","SEN","SLE","SOM","ZAF","SSD","LKA","SDN","SWZ","SYR","TJK","TZA","THA","TUN","TUR","UGA","UKR","URY","VEN","VNM","ESH","YEM","ZMB","ZWE"],"text":["Afghanistan","Algeria","Angola","Argentina","Armenia","Azerbaijan","Bangladesh","Benin","Bolivia","Botswana","Burkina Faso","Burundi","Cambodia","Cameroon","Central African Republic","Chad","Chile","Colombia","Congo","Cote D'Ivoire","DR Congo","Dominican Republic","Ecuador","Egypt","El Salvador","Eritrea","Ethiopia","Fiji","Georgia","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","India","Indonesia","Iran, Islamic Republic of","Iraq","Israel","Jamaica","Jordan","Kenya","Kyrgyzstan","Lebanon","Lesotho","Liberia","Libyan Arab Jamahiriya","Madagascar","Malawi","Mali","Mauritania","Mauritius","Mexico","Mozambique","Myanmar","Nepal","Nicaragua","Niger","Nigeria","Occupied Palestinian Territories","Pakistan","Papua New Guinea","Peru","Philippines","Poland","Rwanda","Saudi Arabia","Senegal","Sierra Leone","Somalia","South Africa","South Sudan","Sri Lanka","Sudan","Swaziland","Syrian Arab Republic","Tajikistan","Tanzania","Thailand","Tunisia","Turkey","Uganda","Ukraine","Uruguay","Venezuela","Vietnam","Western Sahara","Yemen","Zambia","Zimbabwe"],"visible":false,"z":{"dtype":"f8","bdata":"AAAAAABgfkAAAAAAAAAgQAAAAAAAgEJAAAAAAAAA+H8AAAAAAAD4fwAAAAAAAAhAAAAAAAAAKEAAAAAAAAD4fwAAAAAAAPh\u002fAAAAAAAA+H8AAAAAAAAqQAAAAAAAADVAAAAAAAAACEAAAAAAAAAgQAAAAAAAwFRAAAAAAAAAKkAAAAAAAAD4fwAAAAAAACBAAAAAAAAA8D8AAAAAAAAgQAAAAAAAwFpAAAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh\u002fAAAAAAAAEEAAAAAAAAAAQAAAAAAAQFBAAAAAAAAA8D8AAAAAAAD4fwAAAAAAAABAAAAAAAAAEEAAAAAAAAD4fwAAAAAAAPh\u002fAAAAAAAALkAAAAAAAADwPwAAAAAAAPA\u002fAAAAAAAAIEAAAAAAAAD4fwAAAAAAAFFAAAAAAAAAIEAAAAAAAAD4fwAAAAAAAABAAAAAAAAAN0AAAAAAAAD4fwAAAAAAADJAAAAAAAAACEAAAAAAAAAUQAAAAAAAAABAAAAAAAAACEAAAAAAAADwPwAAAAAAADpAAAAAAAAA8D8AAAAAAAD4fwAAAAAAABBAAAAAAAAAIEAAAAAAAIBJQAAAAAAAAPh\u002fAAAAAAAA+H8AAAAAAAAuQAAAAAAAAFNAAAAAAADwekAAAAAAAEBaQAAAAAAAAPh\u002fAAAAAAAA+H8AAAAAAAAcQAAAAAAAAPh\u002fAAAAAAAAKkAAAAAAAAD4fwAAAAAAAPA\u002fAAAAAAAACEAAAAAAAEBwQAAAAAAAAABAAAAAAACwcEAAAAAAAABKQAAAAAAA4GxAAAAAAAAA+H8AAAAAAGBzQAAAAAAAAABAAAAAAAAAAEAAAAAAAADwPwAAAAAAAPh\u002fAAAAAAAAEEAAAAAAAAA0QAAAAAAAADxAAAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh\u002fAAAAAAAA+H8AAAAAAIBLQAAAAAAAAPh\u002fAAAAAAAA8D8="},"zmax":245.5,"zmin":1,"type":"choropleth"},{"colorbar":{"title":{"text":"Total Wounded"}},"colorscale":[[0.0,"rgb(255,245,240)"],[0.125,"rgb(254,224,210)"],[0.25,"rgb(252,187,161)"],[0.375,"rgb(252,146,114)"],[0.5,"rgb(251,106,74)"],[0.625,"rgb(239,59,44)"],[0.75,"rgb(203,24,29)"],[0.875,"rgb(165,15,21)"],[1.0,"rgb(103,0,13)"]],"customdata":{"dtype":"i2","bdata":"YgLmAYwB2AECAAgABAAAABUAJQARAAAAAQAAAAEAAAABAAAAAQAAAAEAAwACAAAAHQAMABQAAwABAAAAAQAAAAIAAAACAAAAAQAAAAEAAAAhAA0ABQAlABwAFQANAAwABAADAAEAAAAzAAgAEwBLAI4AUwB7ACgAIgANACAACQACAAAAAgAAABEACAAHAAgAAwABAAQAAgAHAAgAAgABAOkAawCBANQAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAABwAEAAUAAAACAAIAAwAAAGoAQQA3ACEABAABAAQAAAABAAAAAAADAAgAAgAGAAAACQAEAAQAAgACAAAAAgAAAAEAAAABAAAARgAPABwAMQAFAAEAAwABAAYAAQAFAAAAEQAIABUAAQACAAAAAgAAAEwARAA\u002fACAABwAIAAAAAAABAAAAAQAAAAcAAgAOAAAAQQAXADAADQADAAAAAwAAABQAEgAcAAAAAwADAAAAAAAJAAUABAAIABQAAgAQABUABwADAAUAAAAKAAEADQAAAH4AGgA3ALcAAwABAAEAAwABAAAAAQAAAAYABAAJAAEAFQAIABEAAABJADMAJAAQAAMAAAADAAEABAAAAAMAAQAUAA8ACAAYAFcATABSAEcAngCvAZIAAgBxAGkAYQA5AAcAAAAJAAAAAQAAAAEAAAAPAAcACgAGAAIAAAACAAAACgANAAIAAAABAAAAAQAAAAUAAQAIAAAADQADAAoAAwA7AQQBpQCgAAUAAgADAAAARwILAdIBngA2ADQAIQAGAH0B5wAZAZsAAQAAAAEAAABwATYB5ABGAAQAAgAAABYADAACAAsAAAABAAEABAAAAAQAAAAFAAAABQAEAAMAAAAtABQAKgAFACwAHAA6ACcAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAwBqADcAMgBcAAMAAAADAAAAAgABAAEAAAA=","shape":"91, 4"},"hovertemplate":"\u003cb\u003e%{text}\u003c\u002fb\u003e\u003cbr\u003eIncidents: %{customdata[0]}\u003cbr\u003eKilled: %{customdata[1]}\u003cbr\u003eWounded: %{customdata[2]}\u003cbr\u003eKidnapped: %{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","locations":["AFG","DZA","AGO","ARG","ARM","AZE","BGD","BEN","BOL","BWA","BFA","BDI","KHM","CMR","CAF","TCD","CHL","COL","COG","CIV","COD","DOM","ECU","EGY","SLV","ERI","ETH","FJI","GEO","GTM","GIN","GNB","GUY","HTI","HND","IND","IDN","IRN","IRQ","ISR","JAM","JOR","KEN","KGZ","LBN","LSO","LBR","LBY","MDG","MWI","MLI","MRT","MUS","MEX","MOZ","MMR","NPL","NIC","NER","NGA","PSE","PAK","PNG","PER","PHL","POL","RWA","SAU","SEN","SLE","SOM","ZAF","SSD","LKA","SDN","SWZ","SYR","TJK","TZA","THA","TUN","TUR","UGA","UKR","URY","VEN","VNM","ESH","YEM","ZMB","ZWE"],"text":["Afghanistan","Algeria","Angola","Argentina","Armenia","Azerbaijan","Bangladesh","Benin","Bolivia","Botswana","Burkina Faso","Burundi","Cambodia","Cameroon","Central African Republic","Chad","Chile","Colombia","Congo","Cote D'Ivoire","DR Congo","Dominican Republic","Ecuador","Egypt","El Salvador","Eritrea","Ethiopia","Fiji","Georgia","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","India","Indonesia","Iran, Islamic Republic of","Iraq","Israel","Jamaica","Jordan","Kenya","Kyrgyzstan","Lebanon","Lesotho","Liberia","Libyan Arab Jamahiriya","Madagascar","Malawi","Mali","Mauritania","Mauritius","Mexico","Mozambique","Myanmar","Nepal","Nicaragua","Niger","Nigeria","Occupied Palestinian Territories","Pakistan","Papua New Guinea","Peru","Philippines","Poland","Rwanda","Saudi Arabia","Senegal","Sierra Leone","Somalia","South Africa","South Sudan","Sri Lanka","Sudan","Swaziland","Syrian Arab Republic","Tajikistan","Tanzania","Thailand","Tunisia","Turkey","Uganda","Ukraine","Uruguay","Venezuela","Vietnam","Western Sahara","Yemen","Zambia","Zimbabwe"],"visible":false,"z":{"dtype":"f8","bdata":"AAAAAADAeEAAAAAAAAAQQAAAAAAAADFAAAAAAAAA8D8AAAAAAADwPwAAAAAAAABAAAAAAAAANEAAAAAAAADwPwAAAAAAAABAAAAAAAAA8D8AAAAAAAAUQAAAAAAAACpAAAAAAAAA8D8AAAAAAAAzQAAAAAAAwF5AAAAAAAAAQEAAAAAAAAAAQAAAAAAAABxAAAAAAAAAEEAAAAAAAAAAQAAAAAAAIGBAAAAAAAAA8D8AAAAAAADwPwAAAAAAAPA\u002fAAAAAAAAFEAAAAAAAAAIQAAAAAAAgEtAAAAAAAAAEEAAAAAAAAD4fwAAAAAAABhAAAAAAAAAEEAAAAAAAAAAQAAAAAAAAPA\u002fAAAAAAAAPEAAAAAAAAAIQAAAAAAAABRAAAAAAAAANUAAAAAAAAAAQAAAAAAAgE9AAAAAAAAA+H8AAAAAAADwPwAAAAAAACxAAAAAAAAASEAAAAAAAAAIQAAAAAAAADxAAAAAAAAA+H8AAAAAAAAQQAAAAAAAADBAAAAAAAAAFEAAAAAAAAAqQAAAAAAAgEtAAAAAAAAA8D8AAAAAAADwPwAAAAAAACJAAAAAAAAAMUAAAAAAAABCQAAAAAAAAAhAAAAAAAAACEAAAAAAAAAgQAAAAAAAgFRAAAAAAABAYkAAAAAAAEBYQAAAAAAAACJAAAAAAAAA8D8AAAAAAAAkQAAAAAAAAABAAAAAAAAAAEAAAAAAAADwPwAAAAAAACBAAAAAAAAAJEAAAAAAAKBkQAAAAAAAAAhAAAAAAAAgfUAAAAAAAIBAQAAAAAAAkHFAAAAAAAAA8D8AAAAAAIBsQAAAAAAAAPh\u002fAAAAAAAAJkAAAAAAAAAQQAAAAAAAABRAAAAAAAAACEAAAAAAAABFQAAAAAAAAE1AAAAAAAAA8D8AAAAAAADwPwAAAAAAAPA\u002fAAAAAAAA8D8AAAAAAABJQAAAAAAAAAhAAAAAAAAA8D8="},"zmax":155.5,"zmin":1,"type":"choropleth"},{"colorbar":{"title":{"text":"Total Kidnapped"}},"colorscale":[[0.0,"rgb(255,245,240)"],[0.125,"rgb(254,224,210)"],[0.25,"rgb(252,187,161)"],[0.375,"rgb(252,146,114)"],[0.5,"rgb(251,106,74)"],[0.625,"rgb(239,59,44)"],[0.75,"rgb(203,24,29)"],[0.875,"rgb(165,15,21)"],[1.0,"rgb(103,0,13)"]],"customdata":{"dtype":"i2","bdata":"YgLmAYwB2AECAAgABAAAABUAJQARAAAAAQAAAAEAAAABAAAAAQAAAAEAAwACAAAAHQAMABQAAwABAAAAAQAAAAIAAAACAAAAAQAAAAEAAAAhAA0ABQAlABwAFQANAAwABAADAAEAAAAzAAgAEwBLAI4AUwB7ACgAIgANACAACQACAAAAAgAAABEACAAHAAgAAwABAAQAAgAHAAgAAgABAOkAawCBANQAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAABwAEAAUAAAACAAIAAwAAAGoAQQA3ACEABAABAAQAAAABAAAAAAADAAgAAgAGAAAACQAEAAQAAgACAAAAAgAAAAEAAAABAAAARgAPABwAMQAFAAEAAwABAAYAAQAFAAAAEQAIABUAAQACAAAAAgAAAEwARAA\u002fACAABwAIAAAAAAABAAAAAQAAAAcAAgAOAAAAQQAXADAADQADAAAAAwAAABQAEgAcAAAAAwADAAAAAAAJAAUABAAIABQAAgAQABUABwADAAUAAAAKAAEADQAAAH4AGgA3ALcAAwABAAEAAwABAAAAAQAAAAYABAAJAAEAFQAIABEAAABJADMAJAAQAAMAAAADAAEABAAAAAMAAQAUAA8ACAAYAFcATABSAEcAngCvAZIAAgBxAGkAYQA5AAcAAAAJAAAAAQAAAAEAAAAPAAcACgAGAAIAAAACAAAACgANAAIAAAABAAAAAQAAAAUAAQAIAAAADQADAAoAAwA7AQQBpQCgAAUAAgADAAAARwILAdIBngA2ADQAIQAGAH0B5wAZAZsAAQAAAAEAAABwATYB5ABGAAQAAgAAABYADAACAAsAAAABAAEABAAAAAQAAAAFAAAABQAEAAMAAAAtABQAKgAFACwAHAA6ACcAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAwBqADcAMgBcAAMAAAADAAAAAgABAAEAAAA=","shape":"91, 4"},"hovertemplate":"\u003cb\u003e%{text}\u003c\u002fb\u003e\u003cbr\u003eIncidents: %{customdata[0]}\u003cbr\u003eKilled: %{customdata[1]}\u003cbr\u003eWounded: %{customdata[2]}\u003cbr\u003eKidnapped: %{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","locations":["AFG","DZA","AGO","ARG","ARM","AZE","BGD","BEN","BOL","BWA","BFA","BDI","KHM","CMR","CAF","TCD","CHL","COL","COG","CIV","COD","DOM","ECU","EGY","SLV","ERI","ETH","FJI","GEO","GTM","GIN","GNB","GUY","HTI","HND","IND","IDN","IRN","IRQ","ISR","JAM","JOR","KEN","KGZ","LBN","LSO","LBR","LBY","MDG","MWI","MLI","MRT","MUS","MEX","MOZ","MMR","NPL","NIC","NER","NGA","PSE","PAK","PNG","PER","PHL","POL","RWA","SAU","SEN","SLE","SOM","ZAF","SSD","LKA","SDN","SWZ","SYR","TJK","TZA","THA","TUN","TUR","UGA","UKR","URY","VEN","VNM","ESH","YEM","ZMB","ZWE"],"text":["Afghanistan","Algeria","Angola","Argentina","Armenia","Azerbaijan","Bangladesh","Benin","Bolivia","Botswana","Burkina Faso","Burundi","Cambodia","Cameroon","Central African Republic","Chad","Chile","Colombia","Congo","Cote D'Ivoire","DR Congo","Dominican Republic","Ecuador","Egypt","El Salvador","Eritrea","Ethiopia","Fiji","Georgia","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","India","Indonesia","Iran, Islamic Republic of","Iraq","Israel","Jamaica","Jordan","Kenya","Kyrgyzstan","Lebanon","Lesotho","Liberia","Libyan Arab Jamahiriya","Madagascar","Malawi","Mali","Mauritania","Mauritius","Mexico","Mozambique","Myanmar","Nepal","Nicaragua","Niger","Nigeria","Occupied Palestinian Territories","Pakistan","Papua New Guinea","Peru","Philippines","Poland","Rwanda","Saudi Arabia","Senegal","Sierra Leone","Somalia","South Africa","South Sudan","Sri Lanka","Sudan","Swaziland","Syrian Arab Republic","Tajikistan","Tanzania","Thailand","Tunisia","Turkey","Uganda","Ukraine","Uruguay","Venezuela","Vietnam","Western Sahara","Yemen","Zambia","Zimbabwe"],"visible":false,"z":{"dtype":"f8","bdata":"AAAAAACAfUAAAAAAAAD4fwAAAAAAAPh\u002fAAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh\u002fAAAAAAAACEAAAAAAAAD4fwAAAAAAAPh\u002fAAAAAAAA+H8AAAAAAIBCQAAAAAAAAChAAAAAAAAA+H8AAAAAAMBSQAAAAAAAAERAAAAAAAAAIkAAAAAAAAD4fwAAAAAAACBAAAAAAAAAAEAAAAAAAADwPwAAAAAAgGpAAAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh\u002fAAAAAAAA+H8AAAAAAAD4fwAAAAAAgEBAAAAAAAAA+H8AAAAAAAAIQAAAAAAAAPh\u002fAAAAAAAAAEAAAAAAAAD4fwAAAAAAAPh\u002fAAAAAACASEAAAAAAAADwPwAAAAAAAPh\u002fAAAAAAAA8D8AAAAAAAD4fwAAAAAAAEBAAAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh\u002fAAAAAAAAKkAAAAAAAAD4fwAAAAAAAPh\u002fAAAAAAAA+H8AAAAAAAAgQAAAAAAAADVAAAAAAAAA+H8AAAAAAAD4fwAAAAAA4GZAAAAAAAAACEAAAAAAAAD4fwAAAAAAAPA\u002fAAAAAAAA+H8AAAAAAAAwQAAAAAAAAPA\u002fAAAAAAAA8D8AAAAAAAA4QAAAAAAAwFFAAAAAAAAAAEAAAAAAAIBMQAAAAAAAAPh\u002fAAAAAAAA+H8AAAAAAAAYQAAAAAAAAPh\u002fAAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh\u002fAAAAAAAACEAAAAAAAABkQAAAAAAAAPh\u002fAAAAAADAY0AAAAAAAAAYQAAAAAAAYGNAAAAAAAAA+H8AAAAAAIBRQAAAAAAAADZAAAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh\u002fAAAAAAAA+H8AAAAAAAAUQAAAAAAAgENAAAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh\u002fAAAAAAAACEAAAAAAAABXQAAAAAAAAPh\u002fAAAAAAAA+H8="},"zmax":156.5,"zmin":1,"type":"choropleth"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"title":{"text":"Attacks on Humanitarian Workers by Country (1997-2024)","y":0.93},"margin":{"l":0,"r":0,"t":80,"b":0},"geo":{"projection":{"type":"equirectangular"},"showframe":false,"showcoastlines":true},"height":450,"width":700,"updatemenus":[{"buttons":[{"args":[{"visible":[true,false,false,false]},{"title.text":"Total Security Incidents by Country (1997-2024)"}],"label":"Total Incidents","method":"update"},{"args":[{"visible":[false,true,false,false]},{"title.text":"Total Humanitarian Workers Killed by Country (1997-2024)"}],"label":"Total Killed","method":"update"},{"args":[{"visible":[false,false,true,false]},{"title.text":"Total Humanitarian Workers Wounded by Country (1997-2024)"}],"label":"Total Wounded","method":"update"},{"args":[{"visible":[false,false,false,true]},{"title.text":"Total Humanitarian Workers Kidnapped by Country (1997-2024)"}],"label":"Total Kidnapped","method":"update"}],"direction":"down","showactive":true,"x":0.85,"xanchor":"right","y":1.1,"yanchor":"top"}],"annotations":[{"font":{"size":10},"showarrow":false,"text":"View by:","x":0.8,"xref":"paper","y":1.05,"yref":"paper"},{"font":{"size":12},"showarrow":false,"text":"Interactive Map of Humanitarian Worker Security Incidents","x":0.5,"xref":"paper","y":-0.1,"yref":"paper"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('e8fa09a7-2682-4b85-b26b-c6094bef27bd');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-incidents-map-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b)
</figcaption>
</figure>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-incidents-map-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4
</figcaption>
</figure>
</div>
</div>
<p>The geographic distribution of incidents reveals clear patterns of risk concentration. After removing “Unknown” regions (which don’t provide actionable insights), we can see that:</p>
<ol type="1">
<li><p><strong>South Sudan</strong> emerges as a primary hotspot, with three regions (Jonglei, Central Equatoria, and Unity) among the top 10 most dangerous areas.</p></li>
<li><p><strong>Syria</strong> contains two of the most perilous regions (Idlib and Aleppo), while the <strong>Gaza Strip</strong> also ranks among the highest-risk locations.</p></li>
<li><p><strong>Democratic Republic of Congo</strong> (North and South Kivu), <strong>Somalia</strong> (Banadir), and <strong>Afghanistan</strong> (Kabul) complete the most dangerous regions.</p></li>
</ol>
<p>The casualty data adds another dimension, showing that Afghanistan, Syria, and South Sudan not only have high incident counts but also the highest numbers of casualties. The stacked bars reveal different casualty patterns by country—Afghanistan and South Sudan have high numbers of deaths, while Syria shows a larger proportion of wounded.</p>
<p>The interactive map offers a global perspective on this distribution. It reveals how humanitarian risk is heavily concentrated in specific regions experiencing protracted conflicts, while vast areas of the world see minimal incidents.</p>
<p>This geographic concentration has important implications for humanitarian operations, suggesting the need for context-specific security strategies rather than one-size-fits-all approaches.</p>
</section>
<section id="weapons-of-choice-attack-methods-and-their-impact" class="level2">
<h2 class="anchored" data-anchor-id="weapons-of-choice-attack-methods-and-their-impact">3. Weapons of Choice: Attack Methods and Their Impact</h2>
<div id="cell-fig-attack-methods" class="cell" data-execution_count="6">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count incidents by attack method</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>attack_counts <span class="op">=</span> df[<span class="st">'Means of attack'</span>].value_counts().reset_index()</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>attack_counts.columns <span class="op">=</span> [<span class="st">'Means of attack'</span>, <span class="st">'Incidents'</span>]</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate average casualties by attack method</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>attack_lethality <span class="op">=</span> df.groupby(<span class="st">'Means of attack'</span>)[[<span class="st">'Total killed'</span>, <span class="st">'Total wounded'</span>, <span class="st">'Total kidnapped'</span>]].mean().reset_index()</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>attack_lethality[<span class="st">'Avg casualties per incident'</span>] <span class="op">=</span> attack_lethality[[<span class="st">'Total killed'</span>, <span class="st">'Total wounded'</span>, <span class="st">'Total kidnapped'</span>]].<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge the two dataframes</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>attack_analysis <span class="op">=</span> pd.merge(attack_counts, attack_lethality, on<span class="op">=</span><span class="st">'Means of attack'</span>)</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter to include only the top 12 most common attack methods</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>top_attacks <span class="op">=</span> attack_analysis.sort_values(<span class="st">'Incidents'</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">12</span>)</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a figure with two subplots</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>fig, (ax1, ax2) <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>), gridspec_kw<span class="op">=</span>{<span class="st">'height_ratios'</span>: [<span class="fl">1.5</span>, <span class="dv">1</span>], <span class="st">'hspace'</span>: <span class="fl">0.8</span>})  <span class="co"># Increased spacing between subplots</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot incidents by attack method (top subplot)</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>bars1 <span class="op">=</span> ax1.bar(top_attacks[<span class="st">'Means of attack'</span>], top_attacks[<span class="st">'Incidents'</span>], color<span class="op">=</span>main_palette[<span class="dv">3</span>])</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>ax1 <span class="op">=</span> style_plot(ax1, <span class="st">'Frequency of Attack Methods Against Humanitarian Workers'</span>, <span class="st">''</span>, <span class="st">'Number of Incidents'</span>)</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>plt.setp(ax1.xaxis.get_majorticklabels(), rotation<span class="op">=</span><span class="dv">45</span>, ha<span class="op">=</span><span class="st">'right'</span>)</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Second subplot - average casualties per incident by attack method</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>bars2 <span class="op">=</span> ax2.bar(top_attacks[<span class="st">'Means of attack'</span>], top_attacks[<span class="st">'Avg casualties per incident'</span>], color<span class="op">=</span>accent_palette[<span class="dv">4</span>])</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> style_plot(ax2, <span class="st">'Average Casualties per Incident by Attack Method'</span>, <span class="st">''</span>, <span class="st">'Average Casualties'</span>)</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>plt.setp(ax2.xaxis.get_majorticklabels(), rotation<span class="op">=</span><span class="dv">45</span>, ha<span class="op">=</span><span class="st">'right'</span>)</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Annotate bars with values</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, v <span class="kw">in</span> <span class="bu">enumerate</span>(top_attacks[<span class="st">'Avg casualties per incident'</span>]):</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    ax2.text(i, v <span class="op">+</span> <span class="fl">0.1</span>, <span class="ss">f'</span><span class="sc">{</span>v<span class="sc">:.1f}</span><span class="ss">'</span>, ha<span class="op">=</span><span class="st">'center'</span>, fontsize<span class="op">=</span><span class="dv">9</span>)</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-attack-methods" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-attack-methods-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="project_up_files/figure-html/fig-attack-methods-output-1.svg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-attack-methods-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Frequency and Lethality of Different Attack Methods
</figcaption>
</figure>
</div>
</div>
</div>
<p><em>Interactive Chart: Hover over the chart to see the exact proportions of each attack method for any given year. Click on legend items to hide or show specific attack methods.</em></p>
<div id="cell-fig-attack-trend" class="cell" data-execution_count="7">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by year and attack method, count incidents, and calculate proportions</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>attack_trends <span class="op">=</span> df.groupby([<span class="st">'Year'</span>, <span class="st">'Means of attack'</span>]).size().reset_index(name<span class="op">=</span><span class="st">'count'</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter to only include top 5 attack methods for clarity</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>top5_methods <span class="op">=</span> df[<span class="st">'Means of attack'</span>].value_counts().head(<span class="dv">5</span>).index.tolist()</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>attack_trends <span class="op">=</span> attack_trends[attack_trends[<span class="st">'Means of attack'</span>].isin(top5_methods)]</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a pivot table for plotting</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>attack_pivot <span class="op">=</span> attack_trends.pivot(index<span class="op">=</span><span class="st">'Year'</span>, columns<span class="op">=</span><span class="st">'Means of attack'</span>, values<span class="op">=</span><span class="st">'count'</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate proportions for each year</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>props <span class="op">=</span> attack_pivot.div(attack_pivot.<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>), axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the area plot using Plotly for interactivity</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.area(props.reset_index(), x<span class="op">=</span><span class="st">'Year'</span>, y<span class="op">=</span>props.columns,</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>             title<span class="op">=</span><span class="st">'Proportion of Attack Methods Over Time (Top 5 Methods)'</span>,</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>             labels<span class="op">=</span>{<span class="st">'value'</span>: <span class="st">'Proportion of Incidents'</span>, <span class="st">'variable'</span>: <span class="st">'Attack Method'</span>},</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>             color_discrete_sequence<span class="op">=</span>px.colors.qualitative.Safe,</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>             width<span class="op">=</span><span class="dv">700</span>,  <span class="co"># Control the width</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>             height<span class="op">=</span><span class="dv">450</span>  <span class="co"># Increased height to avoid overlap</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Update layout to move the legend higher to avoid overlap with the title</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">'Year'</span>,</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Proportion of Incidents'</span>,</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    legend_title<span class="op">=</span><span class="st">'Attack Method'</span>,</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    hovermode<span class="op">=</span><span class="st">'x unified'</span>,</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    yaxis<span class="op">=</span><span class="bu">dict</span>(tickformat<span class="op">=</span><span class="st">'.0%'</span>),</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    legend<span class="op">=</span><span class="bu">dict</span>(orientation<span class="op">=</span><span class="st">'h'</span>, yanchor<span class="op">=</span><span class="st">'bottom'</span>, y<span class="op">=</span><span class="fl">1.25</span>, xanchor<span class="op">=</span><span class="st">'center'</span>, x<span class="op">=</span><span class="fl">0.5</span>)  <span class="co"># Moved higher to avoid overlap</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-attack-trend" class="cell-output cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-attack-trend-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script>                <div id="0e61e6c7-eba9-4535-90d5-99c45bf3cf9f" class="plotly-graph-div" style="height:450px; width:700px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("0e61e6c7-eba9-4535-90d5-99c45bf3cf9f")) {                    Plotly.newPlot(                        "0e61e6c7-eba9-4535-90d5-99c45bf3cf9f",                        [{"fillpattern":{"shape":""},"hovertemplate":"Attack Method=Aerial bombardment\u003cbr\u003eYear=%{x}\u003cbr\u003eProportion of Incidents=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Aerial bombardment","line":{"color":"rgb(136, 204, 238)"},"marker":{"symbol":"circle"},"mode":"lines","name":"Aerial bombardment","orientation":"v","showlegend":true,"stackgroup":"1","x":{"dtype":"i2","bdata":"zQfOB88H0AfRB9IH0wfUB9UH1gfXB9gH2QfaB9sH3AfdB94H3wfgB+EH4gfjB+QH5QfmB+cH6AfpBw=="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAAABVVVVVVVWlP5Z7GmG5p7E\u002fGIZhGIZhqD8UO7ETO7GjP\u002fQFfUFf0Kc\u002fAAAAAAAAAACSJEmSJEmSPwAAAAAAAAAAF2zBFmzBlj8AAAAAAAAAAJHhXgWzpHw\u002fDAaDwWAwqD8AAAAAAAAAAAAAAAAAAAAA4MCBAwcOfD9IB97zjWmDP1aKCbqrFKM\u002f8Af8AX\u002fArz\u002fuVTBLygHBP0sYmwXVnsM\u002f09LS0tLSwj+SJEmSJEnCP8idJezmt7A\u002fFaw+Faw+lT\u002ftG9a+Ye2bP3LYg0gOe7A\u002ftbgJ87tazD9eQ3kN5TXUPw=="},"yaxis":"y","type":"scatter"},{"fillpattern":{"shape":""},"hovertemplate":"Attack Method=Bodily assault\u003cbr\u003eYear=%{x}\u003cbr\u003eProportion of Incidents=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Bodily assault","line":{"color":"rgb(204, 102, 119)"},"marker":{"symbol":"circle"},"mode":"lines","name":"Bodily assault","orientation":"v","showlegend":true,"stackgroup":"1","x":{"dtype":"i2","bdata":"zQfOB88H0AfRB9IH0wfUB9UH1gfXB9gH2QfaB9sH3AfdB94H3wfgB+EH4gfjB+QH5QfmB+cH6AfpBw=="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAAAAAAAAAAAAAAJZ7GmG5p6E\u002fkiRJkiRJsj8UO7ETO7GzP3fEHXFH3LE\u002fFBQUFBQUtD\u002fbtm3btm27PyebbLLJJss\u002fmpmZmZmZyT+SJEmSJEnCPy0pB0SGe7U\u002fjUaj0Wg0yj+oOQnEhZrDPz744IMPPsg\u002f4MCBAwcOzD+a26k8OvDOP3K4DPjkcMk\u002fdUVdUVfUxT9SDogM9yrIP+05mb5KGMs\u002fxMPDw8PD0z+5JgK5JgLZP\u002fK4s4Td\u002fNY\u002fEfD+EPD+0D+oBHlKkKfUPybVjs6k2tE\u002fgqh0ZM9AxD9eQ3kN5TW0Pw=="},"yaxis":"y","type":"scatter"},{"fillpattern":{"shape":""},"hovertemplate":"Attack Method=Kidnapping\u003cbr\u003eYear=%{x}\u003cbr\u003eProportion of Incidents=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Kidnapping","line":{"color":"rgb(221, 204, 119)"},"marker":{"symbol":"circle"},"mode":"lines","name":"Kidnapping","orientation":"v","showlegend":true,"stackgroup":"1","x":{"dtype":"i2","bdata":"zQfOB88H0AfRB9IH0wfUB9UH1gfXB9gH2QfaB9sH3AfdB94H3wfgB+EH4gfjB+QH5QfmB+cH6AfpBw=="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAA1D9VVVVVVVXFP5Z7GmG5p9E\u002fVVVVVVVVxT+xEzuxEzvRP3fEHXFH3NE\u002fGRkZGRkZuT\u002fbtm3btm3LP1VVVVVVVcU\u002fn\u002fRJn\u002fRJzz+cwAmcwAnMP5HhXgWzpMw\u002fSSQSiUQi0T+oOQnEhZrTP1100UUXXdQ\u002fggMHDhw40D98vjFtAkrRP91Vigm6q9Q\u002fOOQNeUPe0D948wjVZ9rKP7l1eQccKco\u002fGRkZGRkZyT9YoTNYoTPIP1NNHneWsMs\u002f0Pwy0Pwy0D+oBHlKkKfUP1Lt6EyqHc0\u002fnDC\u002fq8VNyD9eQ3kN5TXEPw=="},"yaxis":"y","type":"scatter"},{"fillpattern":{"shape":""},"hovertemplate":"Attack Method=Shooting\u003cbr\u003eYear=%{x}\u003cbr\u003eProportion of Incidents=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Shooting","line":{"color":"rgb(17, 119, 51)"},"marker":{"symbol":"circle"},"mode":"lines","name":"Shooting","orientation":"v","showlegend":true,"stackgroup":"1","x":{"dtype":"i2","bdata":"zQfOB88H0AfRB9IH0wfUB9UH1gfXB9gH2QfaB9sH3AfdB94H3wfgB+EH4gfjB+QH5QfmB+cH6AfpBw=="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAA1D9VVVVVVVXFP5Z7GmG5p8E\u002fnud5nud5zj+xEzuxEzvRPzZlTVlT1tQ\u002f3dzc3Nzc3D9JkiRJkiTZP22yySabbNI\u002flD7pkz7p0z9YfMVXfMXXP1IOiAz3Ktg\u002fqVQqlUql0j9vMEU+6wbTP0422WSTTdY\u002f3blz586d2z9OQCnqZSTWP1aKCbqrFNM\u002fUVfUFXVF3T9r\u002fN08QvXZPwJHiob449Y\u002fxMPDw8PD0z+QayKQayLQP12rbDhi2tM\u002fWltKWltK2j\u002fpoosuuujSP4\u002fOpNrRmdQ\u002f3IT5XS1u0j9sKK+hvIbSPw=="},"yaxis":"y","type":"scatter"},{"fillpattern":{"shape":""},"hovertemplate":"Attack Method=Unknown\u003cbr\u003eYear=%{x}\u003cbr\u003eProportion of Incidents=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Unknown","line":{"color":"rgb(51, 34, 136)"},"marker":{"symbol":"circle"},"mode":"lines","name":"Unknown","orientation":"v","showlegend":true,"stackgroup":"1","x":{"dtype":"i2","bdata":"zQfOB88H0AfRB9IH0wfUB9UH1gfXB9gH2QfaB9sH3AfdB94H3wfgB+EH4gfjB+QH5QfmB+cH6AfpBw=="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAA2D8AAAAAAADkP0dY7mmE5d4\u002fnud5nud53j92Yid2YifWP3fEHXFH3NE\u002f2NfX19fX1z9JkiRJkiTRP1VVVVVVVdU\u002fHMdxHMdxzD8RERERERHRPxQ7sRM7sdM\u002fDAaDwWAwyD8q8lk3mCLPP22yySabbMI\u002ftmzZsmXLtj9fRmI1XPzAP5IkSZIkScI\u002f9AV9QV\u002fQpz\u002fiXgWzpBywPxZUe06mr7I\u002fFBQUFBQUpD8arNAZrNCZP6tsOGLaE6k\u002fGWh+GWh+qT9KkKcEeUqgPxS+23jCd7s\u002fdWTPQFQ6wj9eQ3kN5TXEPw=="},"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Year"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Proportion of Incidents"},"tickformat":".0%"},"legend":{"title":{"text":"Attack Method"},"tracegroupgap":0,"orientation":"h","yanchor":"bottom","y":1.25,"xanchor":"center","x":0.5},"title":{"text":"Proportion of Attack Methods Over Time (Top 5 Methods)"},"height":450,"width":700,"hovermode":"x unified"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('0e61e6c7-eba9-4535-90d5-99c45bf3cf9f');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-attack-trend-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Evolution of Attack Methods Over Time
</figcaption>
</figure>
</div>
</div>
<p>Our analysis of attack methods reveals both the frequency and lethality of different threats facing humanitarian workers.</p>
<p>Three methods dominate the landscape: <strong>shootings</strong> (1,240 incidents), <strong>kidnappings</strong> (890), and <strong>bodily assaults</strong> (836), together accounting for nearly 70% of all documented incidents. However, frequency doesn’t always correlate with lethality.</p>
<p>The bottom chart reveals that while vehicle-borne IEDs account for relatively few incidents, they produce the highest average casualties per incident (3.6), followed by aerial bombardments (3.1) and landmines (2.7). In contrast, bodily assaults, despite their frequency, cause fewer casualties per incident (1.4).</p>
<p>The interactive trend chart shows how attack methods have evolved over time. While “Unknown” methods and shootings have generally decreased proportionally, kidnappings have increased significantly since 2010. This suggests a strategic shift by perpetrators from simply eliminating aid workers to using them for ransom, propaganda, or political leverage.</p>
<p>This evolution in tactics demands corresponding evolution in security protocols. Organizations must develop different protective measures for different threat profiles – kidnap prevention training for areas with high abduction rates, and enhanced physical security where shootings predominate. The increased sophistication of attacks (including IEDs and aerial bombardments) also suggests perpetrators are becoming more organized and better-equipped.</p>
</section>
<section id="the-protection-gap-national-vs.-international-staff-vulnerability" class="level2">
<h2 class="anchored" data-anchor-id="the-protection-gap-national-vs.-international-staff-vulnerability">4. The Protection Gap: National vs.&nbsp;International Staff Vulnerability</h2>
<div id="cell-fig-staff-comparison" class="cell" data-execution_count="8">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total casualties for national and international staff</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>nationals <span class="op">=</span> df[[<span class="st">'Nationals killed'</span>, <span class="st">'Nationals wounded'</span>, <span class="st">'Nationals kidnapped'</span>]].<span class="bu">sum</span>()</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>nationals.index <span class="op">=</span> [<span class="st">'Killed'</span>, <span class="st">'Wounded'</span>, <span class="st">'Kidnapped'</span>]</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>internationals <span class="op">=</span> df[[<span class="st">'Internationals killed'</span>, <span class="st">'Internationals wounded'</span>, <span class="st">'Internationals kidnapped'</span>]].<span class="bu">sum</span>()</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>internationals.index <span class="op">=</span> [<span class="st">'Killed'</span>, <span class="st">'Wounded'</span>, <span class="st">'Kidnapped'</span>]</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine into a dataframe for plotting</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>staff_comparison <span class="op">=</span> pd.DataFrame({</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'National Staff'</span>: nationals, </span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'International Staff'</span>: internationals</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create horizontal stacked bar chart</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the bars</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>bars <span class="op">=</span> staff_comparison.plot(kind<span class="op">=</span><span class="st">'barh'</span>, ax<span class="op">=</span>ax, color<span class="op">=</span>[main_palette[<span class="dv">3</span>], accent_palette[<span class="dv">3</span>]])</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, row <span class="kw">in</span> <span class="bu">enumerate</span>(staff_comparison.index):</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    nat_val <span class="op">=</span> staff_comparison.loc[row, <span class="st">'National Staff'</span>]</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    int_val <span class="op">=</span> staff_comparison.loc[row, <span class="st">'International Staff'</span>]</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    total <span class="op">=</span> nat_val <span class="op">+</span> int_val</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    ratio <span class="op">=</span> nat_val <span class="op">/</span> total <span class="cf">if</span> total <span class="op">&gt;</span> <span class="dv">0</span> <span class="cf">else</span> <span class="dv">0</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    ax.text(nat_val <span class="op">*</span> <span class="fl">0.6</span>, i <span class="op">-</span> <span class="fl">0.15</span>, <span class="ss">f"</span><span class="sc">{</span><span class="bu">int</span>(nat_val)<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>            ha<span class="op">=</span><span class="st">'center'</span>, va<span class="op">=</span><span class="st">'center'</span>,</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span><span class="st">'white'</span>,</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>            fontweight<span class="op">=</span><span class="st">'bold'</span>,</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>            fontsize<span class="op">=</span><span class="dv">11</span>,</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>            path_effects<span class="op">=</span>[pe.withStroke(linewidth<span class="op">=</span><span class="dv">3</span>, foreground<span class="op">=</span><span class="st">'black'</span>)])</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>    ax.text(total <span class="op">*</span> <span class="fl">0.06</span>, i <span class="op">+</span> <span class="fl">0.15</span>, <span class="ss">f"</span><span class="sc">{</span><span class="bu">int</span>(int_val)<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>            ha<span class="op">=</span><span class="st">'center'</span>, va<span class="op">=</span><span class="st">'center'</span>,</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span><span class="st">'black'</span>,</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>            fontweight<span class="op">=</span><span class="st">'bold'</span>,</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>            fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>    ax.text(total <span class="op">+</span> <span class="dv">20</span>, i, <span class="ss">f"(</span><span class="sc">{</span>ratio<span class="sc">:.1%}</span><span class="ss"> national)"</span>,</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>            va<span class="op">=</span><span class="st">'center'</span>,</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>            fontsize<span class="op">=</span><span class="dv">10</span>,</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span><span class="st">'black'</span>)</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Style the plot</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> style_plot(ax, <span class="st">'Casualties by Staff Type (1997-2024)'</span>, <span class="st">'Number of Casualties'</span>, <span class="st">''</span>)</span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust legend and layout</span></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="st">'upper right'</span>)</span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-staff-comparison" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-staff-comparison-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="project_up_files/figure-html/fig-staff-comparison-output-1.svg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-staff-comparison-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Comparison of Casualties Between National and International Staff
</figcaption>
</figure>
</div>
</div>
</div>
<div id="cell-fig-staff-ratio-time" class="cell" data-execution_count="9">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate annual casualties by staff type</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>annual_casualties <span class="op">=</span> df.groupby(<span class="st">'Year'</span>)[[</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Nationals killed'</span>, <span class="st">'Nationals wounded'</span>, <span class="st">'Nationals kidnapped'</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Internationals killed'</span>, <span class="st">'Internationals wounded'</span>, <span class="st">'Internationals kidnapped'</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>]].<span class="bu">sum</span>().reset_index()</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total casualties by type per year</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>annual_casualties[<span class="st">'National Staff'</span>] <span class="op">=</span> annual_casualties[[<span class="st">'Nationals killed'</span>, <span class="st">'Nationals wounded'</span>, <span class="st">'Nationals kidnapped'</span>]].<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>annual_casualties[<span class="st">'International Staff'</span>] <span class="op">=</span> annual_casualties[[<span class="st">'Internationals killed'</span>, <span class="st">'Internationals wounded'</span>, <span class="st">'Internationals kidnapped'</span>]].<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate ratio (add small epsilon to avoid division by zero)</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>annual_casualties[<span class="st">'National:International Ratio'</span>] <span class="op">=</span> annual_casualties[<span class="st">'National Staff'</span>] <span class="op">/</span> annual_casualties[<span class="st">'International Staff'</span>].replace(<span class="dv">0</span>, <span class="fl">0.001</span>)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the line plot for ratio</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>))</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the ratio</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>ax.plot(annual_casualties[<span class="st">'Year'</span>], annual_casualties[<span class="st">'National:International Ratio'</span>], </span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="st">'o'</span>, linestyle<span class="op">=</span><span class="st">'-'</span>, color<span class="op">=</span>accent_palette[<span class="dv">5</span>], linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a trend line</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> annual_casualties[<span class="st">'Year'</span>]</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> annual_casualties[<span class="st">'National:International Ratio'</span>]</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> np.polyfit(x, y, <span class="dv">1</span>)</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> np.poly1d(z)</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>ax.plot(x, p(x), <span class="st">"r--"</span>, alpha<span class="op">=</span><span class="fl">0.7</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Style the plot</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> style_plot(ax, <span class="st">'Ratio of National to International Staff Casualties by Year'</span>, <span class="st">'Year'</span>, <span class="st">'Ratio (National:International)'</span>)</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Add annotations for notable points</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>high_points <span class="op">=</span> [(<span class="dv">2023</span>, <span class="fl">21.9</span>), (<span class="dv">2024</span>, <span class="fl">34.8</span>), (<span class="dv">2025</span>, <span class="fl">21.7</span>)]</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>text_positions <span class="op">=</span> [(<span class="fl">2022.5</span>, <span class="dv">25</span>), (<span class="fl">2024.2</span>, <span class="dv">38</span>), (<span class="fl">2025.2</span>, <span class="dv">15</span>)] </span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, point <span class="kw">in</span> <span class="bu">enumerate</span>(high_points):</span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>    year, ratio <span class="op">=</span> point</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>    text_x, text_y <span class="op">=</span> text_positions[i]</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>    ax.annotate(<span class="ss">f"</span><span class="sc">{</span><span class="bu">int</span>(year)<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>ratio<span class="sc">:.1f}</span><span class="ss">x"</span>,</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>                xy<span class="op">=</span>(year, ratio),</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>                xytext<span class="op">=</span>(text_x, text_y),</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>                textcoords<span class="op">=</span><span class="st">"data"</span>,</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>                bbox<span class="op">=</span><span class="bu">dict</span>(boxstyle<span class="op">=</span><span class="st">"round,pad=0.3"</span>, fc<span class="op">=</span><span class="st">"white"</span>, alpha<span class="op">=</span><span class="fl">0.8</span>),</span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>                arrowprops<span class="op">=</span><span class="bu">dict</span>(arrowstyle<span class="op">=</span><span class="st">"-&gt;"</span>, connectionstyle<span class="op">=</span><span class="st">"arc3,rad=.2"</span>))</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-staff-ratio-time" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-staff-ratio-time-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="project_up_files/figure-html/fig-staff-ratio-time-output-1.svg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-staff-ratio-time-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Ratio of National to International Staff Casualties Over Time
</figcaption>
</figure>
</div>
</div>
</div>
<p>Perhaps the most troubling finding in our analysis is the stark disparity in security risks between national and international humanitarian staff. The data reveals a protection gap that raises profound ethical questions.</p>
<p>National staff bear a disproportionate burden of violence: - They account for <strong>92.1% of all humanitarian workers killed</strong> - They represent <strong>90.7% of all wounded personnel</strong> - They make up <strong>83.0% of all kidnapping victims</strong></p>
<p>The trend analysis is even more concerning, showing this disparity has widened over time. By 2024, national staff were 34.8 times more likely to become casualties than their international counterparts—a dramatic increase from earlier ratios of 4-5:1.</p>
<p>Several structural factors contribute to this gap: - International staff are often evacuated during security crises while national staff remain - National staff typically work in “last mile” delivery in the most dangerous areas - Security resources and training are disproportionately allocated to international personnel - National staff may have less agency in refusing high-risk assignments due to economic pressures</p>
<p>This disparity demands urgent attention from humanitarian organizations. It requires not just technical security solutions but a fundamental rethinking of how risk is distributed, resources allocated, and vulnerability assessed. Organizations must develop more equitable security protocols that address the specific challenges facing national staff, who constitute the majority of the humanitarian workforce yet face significantly higher risks.</p>
</section>
<section id="behind-the-attacks-perpetrator-patterns" class="level2">
<h2 class="anchored" data-anchor-id="behind-the-attacks-perpetrator-patterns">5. Behind the Attacks: Perpetrator Patterns</h2>
<div id="cell-fig-actor-types" class="cell" data-execution_count="10">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count incidents by actor type</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>actor_counts <span class="op">=</span> df[<span class="st">'Actor type'</span>].value_counts().reset_index()</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>actor_counts.columns <span class="op">=</span> [<span class="st">'Actor type'</span>, <span class="st">'Incidents'</span>]</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate percentage</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>actor_counts[<span class="st">'Percentage'</span>] <span class="op">=</span> actor_counts[<span class="st">'Incidents'</span>] <span class="op">/</span> actor_counts[<span class="st">'Incidents'</span>].<span class="bu">sum</span>() <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: We're keeping the "Unknown" perpetrator category despite its large size (52.4%)</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># as it represents a critical finding about attribution challenges rather than a data deficiency</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create pie chart for actor types</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Only display categories with more than 2% proportion, group smaller ones</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>threshold <span class="op">=</span> <span class="dv">2</span>  <span class="co"># percentage threshold</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>small_categories <span class="op">=</span> actor_counts[actor_counts[<span class="st">'Percentage'</span>] <span class="op">&lt;</span> threshold]</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>major_categories <span class="op">=</span> actor_counts[actor_counts[<span class="st">'Percentage'</span>] <span class="op">&gt;=</span> threshold]</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="co"># If there are small categories, merge them</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> small_categories.empty:</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    other_row <span class="op">=</span> pd.DataFrame({</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Actor type'</span>: [<span class="st">'Other small categories'</span>],</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Incidents'</span>: [small_categories[<span class="st">'Incidents'</span>].<span class="bu">sum</span>()],</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Percentage'</span>: [small_categories[<span class="st">'Percentage'</span>].<span class="bu">sum</span>()]</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    plot_data <span class="op">=</span> pd.concat([major_categories, other_row], ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>    plot_data <span class="op">=</span> major_categories</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Define custom colors - ensuring "Unknown" stands out</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> sns.color_palette(<span class="st">"Blues_r"</span>, <span class="bu">len</span>(plot_data))</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the pie chart - without labels directly on it</span></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>wedges, texts, autotexts <span class="op">=</span> ax.pie(plot_data[<span class="st">'Incidents'</span>], </span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>                                 labels<span class="op">=</span><span class="va">None</span>,  <span class="co"># No direct labels for clarity</span></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>                                 autopct<span class="op">=</span><span class="st">'</span><span class="sc">%1.1f%%</span><span class="st">'</span>,</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>                                 startangle<span class="op">=</span><span class="dv">90</span>, </span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>                                 colors<span class="op">=</span>colors,</span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>                                 wedgeprops<span class="op">=</span>{<span class="st">'edgecolor'</span>: <span class="st">'w'</span>, <span class="st">'linewidth'</span>: <span class="dv">1</span>})</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Enhance visibility of percentage labels</span></span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> autotext <span class="kw">in</span> autotexts:</span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>    autotext.set_fontsize(<span class="dv">9</span>)</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>    autotext.set_color(<span class="st">'white'</span>)</span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>    autotext.set_path_effects([pe.withStroke(linewidth<span class="op">=</span><span class="dv">2</span>, foreground<span class="op">=</span><span class="st">'black'</span>)])</span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Add title</span></span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Distribution of Perpetrator Types in Security Incidents'</span>, fontsize<span class="op">=</span><span class="dv">14</span>, pad<span class="op">=</span><span class="dv">20</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a legend with better formatting</span></span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>legend_labels <span class="op">=</span> [<span class="ss">f"</span><span class="sc">{</span>row[<span class="st">'Actor type'</span>]<span class="sc">}</span><span class="ss"> (</span><span class="sc">{</span><span class="bu">int</span>(row[<span class="st">'Incidents'</span>])<span class="sc">}</span><span class="ss"> incidents)"</span> </span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>                 <span class="cf">for</span> _, row <span class="kw">in</span> plot_data.iterrows()]</span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>plt.legend(wedges, legend_labels,</span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a>          loc<span class="op">=</span><span class="st">"center left"</span>,</span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>          bbox_to_anchor<span class="op">=</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="fl">0.5</span>, <span class="dv">1</span>),</span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a>          fontsize<span class="op">=</span><span class="dv">9</span>)</span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-actor-types" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-actor-types-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="project_up_files/figure-html/fig-actor-types-output-1.svg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-actor-types-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: Distribution of Perpetrator Types in Security Incidents
</figcaption>
</figure>
</div>
</div>
</div>
<div id="cell-fig-actor-target" class="cell" data-execution_count="11">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create organization type flags</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>org_cols <span class="op">=</span> [<span class="st">'UN'</span>, <span class="st">'INGO'</span>, <span class="st">'ICRC'</span>, <span class="st">'NRCS and IFRC'</span>, <span class="st">'NNGO'</span>, <span class="st">'Other'</span>]</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># For each organization type, count incidents by actor type</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>targeting_patterns <span class="op">=</span> []</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> org <span class="kw">in</span> org_cols:</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Filter for incidents where this organization type was affected</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    org_incidents <span class="op">=</span> df[df[org] <span class="op">&gt;</span> <span class="dv">0</span>]</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Count incidents by actor type</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    actor_dist <span class="op">=</span> org_incidents[<span class="st">'Actor type'</span>].value_counts().reset_index()</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    actor_dist.columns <span class="op">=</span> [<span class="st">'Actor type'</span>, <span class="st">'Incidents'</span>]</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add organization type column</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    actor_dist[<span class="st">'Target Organization'</span>] <span class="op">=</span> org</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    targeting_patterns.append(actor_dist)</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all data</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>targeting_df <span class="op">=</span> pd.concat(targeting_patterns, ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter to include only significant combinations - top actors</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>top_actors <span class="op">=</span> df[<span class="st">'Actor type'</span>].value_counts().nlargest(<span class="dv">5</span>).index.tolist()</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>targeting_df <span class="op">=</span> targeting_df[targeting_df[<span class="st">'Actor type'</span>].isin(top_actors)]</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Handle organization labels for display</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>org_labels <span class="op">=</span> {</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">'UN'</span>: <span class="st">'United Nations'</span>,</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">'INGO'</span>: <span class="st">'International NGOs'</span>,</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ICRC'</span>: <span class="st">'Int. Committee of Red Cross'</span>,</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">'NRCS and IFRC'</span>: <span class="st">'Red Cross/Red Crescent'</span>,</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">'NNGO'</span>: <span class="st">'National NGOs'</span>,</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Other'</span>: <span class="st">'Other Organizations'</span></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>targeting_df[<span class="st">'Organization'</span>] <span class="op">=</span> targeting_df[<span class="st">'Target Organization'</span>].<span class="bu">map</span>(org_labels)</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the heatmap data</span></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>heatmap_pivot <span class="op">=</span> targeting_df.pivot_table(</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>    values<span class="op">=</span><span class="st">'Incidents'</span>, </span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>    index<span class="op">=</span><span class="st">'Organization'</span>,</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span><span class="st">'Actor type'</span>,</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>    aggfunc<span class="op">=</span><span class="st">'sum'</span>,</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>    fill_value<span class="op">=</span><span class="dv">0</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Normalize by row (organization) to show targeting patterns</span></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>heatmap_norm <span class="op">=</span> heatmap_pivot.div(heatmap_pivot.<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>), axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Create heatmap</span></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.heatmap(heatmap_norm, annot<span class="op">=</span><span class="va">True</span>, fmt<span class="op">=</span><span class="st">'.1%'</span>, cmap<span class="op">=</span><span class="st">'Blues'</span>, linewidths<span class="op">=</span><span class="fl">.5</span>)</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Style the plot</span></span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Targeting Patterns by Actor Type and Organization'</span>, fontsize<span class="op">=</span><span class="dv">14</span>, pad<span class="op">=</span><span class="dv">20</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Actor Type'</span>, fontsize<span class="op">=</span><span class="dv">12</span>, labelpad<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Target Organization'</span>, fontsize<span class="op">=</span><span class="dv">12</span>, labelpad<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-actor-target" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-actor-target-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="project_up_files/figure-html/fig-actor-target-output-1.svg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-actor-target-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10: Targeting Patterns by Actor Type and Organization
</figcaption>
</figure>
</div>
</div>
</div>
<p>Understanding who targets humanitarian workers is crucial for developing effective protection strategies. Our analysis reveals important patterns in perpetrator identities that have significant security implications.</p>
<p>The most striking finding is what we <em>don’t</em> know: <strong>52.4% of all incidents involve unidentified perpetrators</strong>. This is not a data deficiency but rather a critical finding about the nature of these attacks. The high proportion of unknown actors reflects: 1. Deliberate tactics by attackers to avoid accountability 2. Challenges in attribution in complex environments 3. The strategic use of ambiguity by perpetrators</p>
<p>We’ve retained this “Unknown” category in our analysis precisely because it reveals important insights about the nature of threats to humanitarian workers.</p>
<p>Among identified perpetrators: - <strong>Non-state armed groups</strong> collectively represent the most significant known threat (24% of incidents across various categories) - <strong>State actors</strong> (including host governments and foreign forces) are implicated in 12% of incidents - <strong>Criminal groups</strong> account for 3% of incidents, typically motivated by material gain</p>
<p>The heatmap reveals distinct targeting patterns by different actors: - National NGOs face higher targeting from host state actors (14.9% of incidents) compared to other organizations - International organizations (UN, ICRC) show the highest proportion of unknown attackers (&gt;70%) - The Red Cross/Red Crescent movement faces a distinctive targeting pattern compared to other humanitarian organizations</p>
<p>These patterns have operational implications. Different security strategies are needed depending on which actors pose the greatest threat in a given context. For example, where state forces represent a significant threat to national NGOs, diplomatic engagement and visibility strategies may be more effective than traditional security measures.</p>
</section>
<section id="timing-matters-temporal-patterns-in-attacks" class="level2">
<h2 class="anchored" data-anchor-id="timing-matters-temporal-patterns-in-attacks">6. Timing Matters: Temporal Patterns in Attacks</h2>
<div id="cell-fig-monthly-patterns" class="cell" data-execution_count="12">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract month from the dataset</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>monthly_incidents <span class="op">=</span> df.groupby(<span class="st">'Month'</span>).size().reset_index(name<span class="op">=</span><span class="st">'Incidents'</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by month numerically</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>monthly_incidents <span class="op">=</span> monthly_incidents.sort_values(<span class="st">'Month'</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create month names for better visualization</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>month_names <span class="op">=</span> [<span class="st">'Jan'</span>, <span class="st">'Feb'</span>, <span class="st">'Mar'</span>, <span class="st">'Apr'</span>, <span class="st">'May'</span>, <span class="st">'Jun'</span>, <span class="st">'Jul'</span>, <span class="st">'Aug'</span>, <span class="st">'Sep'</span>, <span class="st">'Oct'</span>, <span class="st">'Nov'</span>, <span class="st">'Dec'</span>]</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>monthly_incidents[<span class="st">'Month Name'</span>] <span class="op">=</span> monthly_incidents[<span class="st">'Month'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: month_names[<span class="bu">int</span>(x)<span class="op">-</span><span class="dv">1</span>] <span class="cf">if</span> pd.notnull(x) <span class="kw">and</span> <span class="dv">1</span> <span class="op">&lt;=</span> <span class="bu">int</span>(x) <span class="op">&lt;=</span> <span class="dv">12</span> <span class="cf">else</span> <span class="st">'Unknown'</span>)</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out unknown months</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>monthly_incidents <span class="op">=</span> monthly_incidents[monthly_incidents[<span class="st">'Month Name'</span>] <span class="op">!=</span> <span class="st">'Unknown'</span>]</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the bar chart</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>))</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>bars <span class="op">=</span> ax.bar(monthly_incidents[<span class="st">'Month Name'</span>], monthly_incidents[<span class="st">'Incidents'</span>], color<span class="op">=</span>main_palette[<span class="dv">2</span>])</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Add data labels with better visibility</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, v <span class="kw">in</span> <span class="bu">enumerate</span>(monthly_incidents[<span class="st">'Incidents'</span>]):</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    ax.text(i, v <span class="op">+</span> <span class="dv">10</span>, <span class="bu">str</span>(<span class="bu">int</span>(v)), ha<span class="op">=</span><span class="st">'center'</span>, fontsize<span class="op">=</span><span class="dv">9</span>,</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>            path_effects<span class="op">=</span>[pe.withStroke(linewidth<span class="op">=</span><span class="dv">2</span>, foreground<span class="op">=</span><span class="st">'white'</span>)])</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Style the plot</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> style_plot(ax, <span class="st">'Monthly Distribution of Security Incidents (1997-2024)'</span>, <span class="st">''</span>, <span class="st">'Number of Incidents'</span>)</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Add average line</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>avg_incidents <span class="op">=</span> monthly_incidents[<span class="st">'Incidents'</span>].mean()</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>ax.axhline(y<span class="op">=</span>avg_incidents, color<span class="op">=</span><span class="st">'red'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>ax.text(<span class="dv">9</span>, avg_incidents <span class="op">+</span> <span class="dv">20</span>, <span class="ss">f'Monthly Average: </span><span class="sc">{</span>avg_incidents<span class="sc">:.0f}</span><span class="ss">'</span>, color<span class="op">=</span><span class="st">'red'</span>, ha<span class="op">=</span><span class="st">'right'</span>)  <span class="co"># Moved to right side</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-monthly-patterns" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-monthly-patterns-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="project_up_files/figure-html/fig-monthly-patterns-output-1.svg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-monthly-patterns-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11: Monthly Distribution of Security Incidents
</figcaption>
</figure>
</div>
</div>
</div>
<div id="cell-fig-weekday-patterns" class="cell" data-execution_count="13">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate incidents by day of week where day information is available</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>df_with_day <span class="op">=</span> df[df[<span class="st">'Day'</span>].notna()].copy()</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a proper date from year, month, day</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>df_with_day[<span class="st">'date'</span>] <span class="op">=</span> pd.to_datetime(df_with_day[[<span class="st">'Year'</span>, <span class="st">'Month'</span>, <span class="st">'Day'</span>]].rename(</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span>{<span class="st">'Year'</span>: <span class="st">'year'</span>, <span class="st">'Month'</span>: <span class="st">'month'</span>, <span class="st">'Day'</span>: <span class="st">'day'</span>}), errors<span class="op">=</span><span class="st">'coerce'</span>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract day of week</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>df_with_day[<span class="st">'day_of_week'</span>] <span class="op">=</span> df_with_day[<span class="st">'date'</span>].dt.day_name()</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Count incidents by day of week</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>weekday_incidents <span class="op">=</span> df_with_day[<span class="st">'day_of_week'</span>].value_counts().reindex([</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Monday'</span>, <span class="st">'Tuesday'</span>, <span class="st">'Wednesday'</span>, <span class="st">'Thursday'</span>, <span class="st">'Friday'</span>, <span class="st">'Saturday'</span>, <span class="st">'Sunday'</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the bar chart</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>))</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>bars <span class="op">=</span> ax.bar(weekday_incidents.index, weekday_incidents.values, color<span class="op">=</span>main_palette[<span class="dv">4</span>])</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Add data labels with better visibility</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, v <span class="kw">in</span> <span class="bu">enumerate</span>(weekday_incidents.values):</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>    ax.text(i, v <span class="op">+</span> <span class="dv">10</span>, <span class="bu">str</span>(<span class="bu">int</span>(v)), ha<span class="op">=</span><span class="st">'center'</span>, fontsize<span class="op">=</span><span class="dv">9</span>,</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>           color<span class="op">=</span><span class="st">'black'</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>,</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>           path_effects<span class="op">=</span>[pe.withStroke(linewidth<span class="op">=</span><span class="dv">3</span>, foreground<span class="op">=</span><span class="st">'white'</span>)])</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Style the plot</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> style_plot(ax, <span class="st">'Security Incidents by Day of Week'</span>, <span class="st">''</span>, <span class="st">'Number of Incidents'</span>)</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Add average line</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>avg_incidents <span class="op">=</span> weekday_incidents.mean()</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>ax.axhline(y<span class="op">=</span>avg_incidents, color<span class="op">=</span><span class="st">'red'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Move the average label to the right side</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>ax.text(<span class="dv">6</span>, avg_incidents <span class="op">+</span> <span class="dv">20</span>, <span class="ss">f'Daily Average: </span><span class="sc">{</span>avg_incidents<span class="sc">:.0f}</span><span class="ss">'</span>, color<span class="op">=</span><span class="st">'red'</span>, ha<span class="op">=</span><span class="st">'right'</span>)</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Highlight weekend days</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, day <span class="kw">in</span> <span class="bu">enumerate</span>(weekday_incidents.index):</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> day <span class="kw">in</span> [<span class="st">'Saturday'</span>, <span class="st">'Sunday'</span>]:</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>        bars[i].set_color(accent_palette[<span class="dv">3</span>])</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-weekday-patterns" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-weekday-patterns-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="project_up_files/figure-html/fig-weekday-patterns-output-1.svg" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-weekday-patterns-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12: Security Incidents by Day of Week
</figcaption>
</figure>
</div>
</div>
</div>
<p>Our temporal analysis reveals that humanitarian security risks follow distinct patterns over time. Understanding these patterns can help organizations implement targeted protection measures when they’re most needed.</p>
<p>Looking at monthly distributions, clear seasonal patterns emerge: - <strong>July</strong> and <strong>August</strong> stand out as particularly dangerous months, with incident rates approximately 15-20% above the monthly average - The winter months of <strong>December</strong>, <strong>January</strong>, and <strong>February</strong> show significantly lower risk - <strong>May</strong> also emerges as a high-risk month across multiple years</p>
<p>The weekly distribution adds another important dimension: - <strong>Midweek days</strong> (Tuesday through Thursday) show consistently higher incident rates - <strong>Sunday</strong> has notably lower incident frequency (highlighted in red) - The weekend drop-off varies significantly by region</p>
<p>These temporal patterns reflect underlying operational and conflict dynamics: - Improved weather and road conditions in summer months enable increased movement by both humanitarian actors and armed groups - Agricultural cycles influence conflict in some regions, with harvest periods seeing heightened tensions - Reduced operational tempo on weekends (particularly Sundays) corresponds to lower incident rates</p>
<p>For security planners, these patterns provide actionable intelligence. Implementing additional protective measures during high-risk months, adjusting movement schedules to avoid peak danger times, and aligning operational tempo with temporal risk patterns can significantly enhance staff safety while maintaining program delivery.</p>
<p>Organizations might consider: - Enhanced security protocols during July-August - Scheduling high-risk movements on Sundays where operationally feasible - Seasonal-specific risk assessments and mitigation strategies - Context-specific calendar mapping of heightened risk periods</p>
</section>
<section id="conclusions-and-recommendations" class="level2">
<h2 class="anchored" data-anchor-id="conclusions-and-recommendations">Conclusions and Recommendations</h2>
<p>Our data-driven analysis of security incidents affecting humanitarian workers reveals several critical insights with important implications for how organizations operate in high-risk environments.</p>
<section id="key-evidence-based-findings" class="level3">
<h3 class="anchored" data-anchor-id="key-evidence-based-findings">Key Evidence-Based Findings</h3>
<ol type="1">
<li><p><strong>Escalating Danger</strong>: The 938% increase in incidents from 1997 to 2024 represents a fundamental shift in the humanitarian operating environment. This trend correlates directly with major global conflicts and shows no signs of reversal.</p></li>
<li><p><strong>Geographic Concentration</strong>: Risk is not distributed randomly but concentrates in specific conflict zones—most notably South Sudan, Syria, Afghanistan, and Gaza. Even within these countries, certain regions (Jonglei, Idlib) face disproportionate risk.</p></li>
<li><p><strong>Evolving Attack Methods</strong>: While shootings remain most common, the proportional increase in kidnappings since 2010 signals a strategic shift by perpetrators. Attack methods are becoming more sophisticated and targeted.</p></li>
<li><p><strong>National Staff Vulnerability Gap</strong>: The most ethically challenging finding is the severe disparity in risk between national and international staff. With national staff bearing over 80% of casualties and this gap widening (reaching 34.8:1 in 2024), current protection approaches clearly fall short.</p></li>
<li><p><strong>High Rate of Unknown Perpetrators</strong>: The fact that 52.4% of incidents involve unidentified attackers reflects a deliberate strategy of anonymous violence that enables impunity.</p></li>
<li><p><strong>Temporal Risk Patterns</strong>: The data reveals distinct seasonal (summer peak, winter trough) and weekly (midweek high, weekend low) patterns that can inform operational planning.</p></li>
</ol>
</section>
<section id="evidence-based-recommendations-for-humanitarian-organizations" class="level3">
<h3 class="anchored" data-anchor-id="evidence-based-recommendations-for-humanitarian-organizations">Evidence-Based Recommendations for Humanitarian Organizations</h3>
<ol type="1">
<li><strong>Address the National-International Protection Gap</strong>:
<ul>
<li>Develop common security standards that apply equally to all staff regardless of nationality</li>
<li>Allocate security resources proportionally to risk exposure rather than staff category</li>
<li>Include national staff in security decision-making structures at all levels</li>
<li>Evidence: The 34.8:1 casualty ratio in 2024 and 85% of deaths affecting national staff demand immediate action</li>
</ul></li>
<li><strong>Implement Geographic Risk Targeting</strong>:
<ul>
<li>Develop region-specific security protocols for identified high-risk areas</li>
<li>Enhance pre-deployment training for staff assigned to the top 10 most dangerous regions</li>
<li>Allocate security resources proportionally to geographic risk profiles</li>
<li>Evidence: The top 5 regions account for 583 incidents (13.4% of the total)—a clear focus for targeted interventions</li>
</ul></li>
<li><strong>Adapt to Evolving Attack Methods</strong>:
<ul>
<li>Enhance anti-kidnapping protocols in areas showing increased abduction rates</li>
<li>Develop context-specific security measures based on predominant attack methods</li>
<li>Update security training to address emerging sophisticated threats</li>
<li>Evidence: The rising proportion of kidnappings and the varying lethality by attack method require tailored approaches</li>
</ul></li>
<li><strong>Leverage Temporal Patterns</strong>:
<ul>
<li>Implement enhanced security protocols during high-risk months (July-August)</li>
<li>Schedule high-risk movements on lower-risk days where operationally feasible</li>
<li>Develop seasonal security planning cycles</li>
<li>Evidence: The 15-20% higher incident rates during peak months offer clear opportunities for temporal risk management</li>
</ul></li>
</ol>
</section>
<section id="recommendations-for-policy-makers-and-donors" class="level3">
<h3 class="anchored" data-anchor-id="recommendations-for-policy-makers-and-donors">Recommendations for Policy Makers and Donors</h3>
<ol type="1">
<li><strong>Strengthen Protection Frameworks</strong>:
<ul>
<li>Mandate equal security provisions for national and international staff in funding requirements</li>
<li>Support accountability mechanisms for attacks on humanitarian personnel</li>
<li>Evidence: The persistent impunity (52.4% unknown perpetrators) undermines deterrence</li>
</ul></li>
<li><strong>Reform Funding Structures</strong>:
<ul>
<li>Require dedicated security budget lines proportional to contextual risk</li>
<li>Support specialized security capacity building initiatives for national staff</li>
<li>Evidence: The geographic concentration of risk justifies targeted security investments</li>
</ul></li>
<li><strong>Address Root Causes</strong>:
<ul>
<li>Prioritize diplomatic engagement in regions with highest humanitarian casualty rates</li>
<li>Support conflict resolution in the top 5 most dangerous regions</li>
<li>Evidence: The correlation between major conflicts and incident spikes demonstrates the importance of addressing drivers of violence</li>
</ul></li>
</ol>
<p>By implementing these evidence-based recommendations, humanitarian organizations and policy makers can work toward reversing the alarming trends documented in this analysis. The data clearly shows where, when, and how humanitarian workers face the greatest dangers—now action must follow to ensure they can fulfill their vital mission with the protection they deserve.</p>
<blockquote class="blockquote">
<p>“The safety of those who bring aid to the world’s most vulnerable is not merely an operational concern—it is a moral imperative. The data compels us to act.”</p>
</blockquote>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb13" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Aid Under Attack: Analyzing Security Threats to Humanitarian Operations"</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "DSAN student"</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co">    theme: </span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">      - cosmo</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">      - styles.css</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-depth: 3</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co">    fig-width: 8</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co">    fig-height: 5</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co">    fig-format: svg</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co">    fig-responsive: true</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="co">  message: false</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; "The ultimate tragedy is not the brutality of the bad people, but the silence of the good people."</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; </span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; — Martin Luther King Jr.</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup</span></span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Import necessary libraries</span></span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotly.subplots <span class="im">import</span> make_subplots</span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> folium</span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> folium.plugins <span class="im">import</span> HeatMap, MarkerCluster</span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib.colors <span class="im">import</span> LinearSegmentedColormap</span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib.ticker <span class="im">import</span> MaxNLocator</span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.ticker <span class="im">as</span> ticker</span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.patheffects <span class="im">as</span> pe</span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">'ignore'</span>)</span>
<span id="cb13-49"><a href="#cb13-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-50"><a href="#cb13-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Set consistent theme for all visualizations</span></span>
<span id="cb13-51"><a href="#cb13-51" aria-hidden="true" tabindex="-1"></a>plt.style.use(<span class="st">'seaborn-v0_8-whitegrid'</span>)</span>
<span id="cb13-52"><a href="#cb13-52" aria-hidden="true" tabindex="-1"></a>sns.set_style(<span class="st">"whitegrid"</span>)</span>
<span id="cb13-53"><a href="#cb13-53" aria-hidden="true" tabindex="-1"></a>sns.set_context(<span class="st">"paper"</span>, font_scale<span class="op">=</span><span class="fl">1.2</span>)</span>
<span id="cb13-54"><a href="#cb13-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-55"><a href="#cb13-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a consistent color palette</span></span>
<span id="cb13-56"><a href="#cb13-56" aria-hidden="true" tabindex="-1"></a>main_palette <span class="op">=</span> sns.color_palette(<span class="st">"Blues_r"</span>, <span class="dv">8</span>)</span>
<span id="cb13-57"><a href="#cb13-57" aria-hidden="true" tabindex="-1"></a>accent_palette <span class="op">=</span> sns.color_palette(<span class="st">"Reds"</span>, <span class="dv">8</span>)</span>
<span id="cb13-58"><a href="#cb13-58" aria-hidden="true" tabindex="-1"></a>region_palette <span class="op">=</span> px.colors.qualitative.Pastel</span>
<span id="cb13-59"><a href="#cb13-59" aria-hidden="true" tabindex="-1"></a>categorical_palette <span class="op">=</span> px.colors.qualitative.Safe</span>
<span id="cb13-60"><a href="#cb13-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-61"><a href="#cb13-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Custom plot styling function</span></span>
<span id="cb13-62"><a href="#cb13-62" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> style_plot(ax, title, xlabel, ylabel):</span>
<span id="cb13-63"><a href="#cb13-63" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Apply consistent styling to matplotlib plots"""</span></span>
<span id="cb13-64"><a href="#cb13-64" aria-hidden="true" tabindex="-1"></a>    ax.set_title(title, fontsize<span class="op">=</span><span class="dv">14</span>, pad<span class="op">=</span><span class="dv">20</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb13-65"><a href="#cb13-65" aria-hidden="true" tabindex="-1"></a>    ax.set_xlabel(xlabel, fontsize<span class="op">=</span><span class="dv">12</span>, labelpad<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb13-66"><a href="#cb13-66" aria-hidden="true" tabindex="-1"></a>    ax.set_ylabel(ylabel, fontsize<span class="op">=</span><span class="dv">12</span>, labelpad<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb13-67"><a href="#cb13-67" aria-hidden="true" tabindex="-1"></a>    ax.tick_params(axis<span class="op">=</span><span class="st">'both'</span>, labelsize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb13-68"><a href="#cb13-68" aria-hidden="true" tabindex="-1"></a>    ax.spines[<span class="st">'top'</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb13-69"><a href="#cb13-69" aria-hidden="true" tabindex="-1"></a>    ax.spines[<span class="st">'right'</span>].set_visible(<span class="va">False</span>)</span>
<span id="cb13-70"><a href="#cb13-70" aria-hidden="true" tabindex="-1"></a>    ax.grid(axis<span class="op">=</span><span class="st">'y'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb13-71"><a href="#cb13-71" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ax</span>
<span id="cb13-72"><a href="#cb13-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-73"><a href="#cb13-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb13-74"><a href="#cb13-74" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'security_incidents.csv'</span>)</span>
<span id="cb13-75"><a href="#cb13-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-76"><a href="#cb13-76" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic data cleaning</span></span>
<span id="cb13-77"><a href="#cb13-77" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert year to integer and handle potential errors</span></span>
<span id="cb13-78"><a href="#cb13-78" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Year'</span>] <span class="op">=</span> pd.to_numeric(df[<span class="st">'Year'</span>], errors<span class="op">=</span><span class="st">'coerce'</span>)</span>
<span id="cb13-79"><a href="#cb13-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Fill missing values in categorical columns with 'Unknown'</span></span>
<span id="cb13-80"><a href="#cb13-80" aria-hidden="true" tabindex="-1"></a>categorical_cols <span class="op">=</span> [<span class="st">'Country'</span>, <span class="st">'Region'</span>, <span class="st">'Means of attack'</span>, <span class="st">'Actor type'</span>, <span class="st">'Motive'</span>]</span>
<span id="cb13-81"><a href="#cb13-81" aria-hidden="true" tabindex="-1"></a>df[categorical_cols] <span class="op">=</span> df[categorical_cols].fillna(<span class="st">'Unknown'</span>)</span>
<span id="cb13-82"><a href="#cb13-82" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace NaN with 0 in numerical columns related to casualties</span></span>
<span id="cb13-83"><a href="#cb13-83" aria-hidden="true" tabindex="-1"></a>casualty_cols <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> df.columns <span class="cf">if</span> <span class="bu">any</span>(x <span class="kw">in</span> col.lower() <span class="cf">for</span> x <span class="kw">in</span> [<span class="st">'killed'</span>, <span class="st">'wounded'</span>, <span class="st">'kidnapped'</span>, <span class="st">'affected'</span>])]</span>
<span id="cb13-84"><a href="#cb13-84" aria-hidden="true" tabindex="-1"></a>df[casualty_cols] <span class="op">=</span> df[casualty_cols].fillna(<span class="dv">0</span>)</span>
<span id="cb13-85"><a href="#cb13-85" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb13-86"><a href="#cb13-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-87"><a href="#cb13-87" aria-hidden="true" tabindex="-1"></a><span class="fu">## Executive Summary</span></span>
<span id="cb13-88"><a href="#cb13-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-89"><a href="#cb13-89" aria-hidden="true" tabindex="-1"></a>This analysis explores security threats facing humanitarian aid workers worldwide based on over 4,300 incidents from 1997 to 2025. Through data visualization and analysis, we uncover patterns that can help organizations better protect their personnel and operations.</span>
<span id="cb13-90"><a href="#cb13-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-91"><a href="#cb13-91" aria-hidden="true" tabindex="-1"></a>Key findings include:</span>
<span id="cb13-92"><a href="#cb13-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-93"><a href="#cb13-93" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>A **dramatic 900% increase** in security incidents over time (from 34 in 1997 to 353 in 2024)</span>
<span id="cb13-94"><a href="#cb13-94" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Geographic concentration** of high-risk areas in South Sudan, Syria, Afghanistan, and Gaza</span>
<span id="cb13-95"><a href="#cb13-95" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>**Shootings, kidnappings, and assaults** emerging as the predominant attack methods</span>
<span id="cb13-96"><a href="#cb13-96" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>An alarming **vulnerability gap** between national and international staff, with national staff bearing over 80% of casualties</span>
<span id="cb13-97"><a href="#cb13-97" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>A concerning pattern of **unidentified perpetrators** (52% of incidents), hindering accountability</span>
<span id="cb13-98"><a href="#cb13-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-99"><a href="#cb13-99" aria-hidden="true" tabindex="-1"></a>Our visualizations tell a compelling story of increasing danger for humanitarian workers and highlight critical areas where protective measures are most needed.</span>
<span id="cb13-100"><a href="#cb13-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-101"><a href="#cb13-101" aria-hidden="true" tabindex="-1"></a><span class="fu">## 1. The Escalating Crisis: Incidents Over Time</span></span>
<span id="cb13-102"><a href="#cb13-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-105"><a href="#cb13-105" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb13-106"><a href="#cb13-106" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-incidents-over-time</span></span>
<span id="cb13-107"><a href="#cb13-107" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Security Incidents Affecting Humanitarian Workers (1997-2024)"</span></span>
<span id="cb13-108"><a href="#cb13-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-109"><a href="#cb13-109" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by year and count incidents</span></span>
<span id="cb13-110"><a href="#cb13-110" aria-hidden="true" tabindex="-1"></a>yearly_incidents <span class="op">=</span> df.groupby(<span class="st">'Year'</span>).size().reset_index(name<span class="op">=</span><span class="st">'Incidents'</span>)</span>
<span id="cb13-111"><a href="#cb13-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-112"><a href="#cb13-112" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate year-over-year percent change</span></span>
<span id="cb13-113"><a href="#cb13-113" aria-hidden="true" tabindex="-1"></a>yearly_incidents[<span class="st">'YoY_Change'</span>] <span class="op">=</span> yearly_incidents[<span class="st">'Incidents'</span>].pct_change() <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb13-114"><a href="#cb13-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-115"><a href="#cb13-115" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a figure with two subplots - one for the trend and one for YoY change</span></span>
<span id="cb13-116"><a href="#cb13-116" aria-hidden="true" tabindex="-1"></a>fig, (ax1, ax2) <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">7</span>), height_ratios<span class="op">=</span>[<span class="dv">2</span>, <span class="dv">1</span>], gridspec_kw<span class="op">=</span>{<span class="st">'hspace'</span>: <span class="fl">0.3</span>})</span>
<span id="cb13-117"><a href="#cb13-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-118"><a href="#cb13-118" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot incidents over time</span></span>
<span id="cb13-119"><a href="#cb13-119" aria-hidden="true" tabindex="-1"></a>bars <span class="op">=</span> ax1.bar(yearly_incidents[<span class="st">'Year'</span>], yearly_incidents[<span class="st">'Incidents'</span>], color<span class="op">=</span>main_palette[<span class="dv">2</span>], alpha<span class="op">=</span><span class="fl">0.8</span>)</span>
<span id="cb13-120"><a href="#cb13-120" aria-hidden="true" tabindex="-1"></a>ax1 <span class="op">=</span> style_plot(ax1, <span class="st">'Total Security Incidents by Year'</span>, <span class="st">''</span>, <span class="st">'Number of Incidents'</span>)</span>
<span id="cb13-121"><a href="#cb13-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-122"><a href="#cb13-122" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a trend line</span></span>
<span id="cb13-123"><a href="#cb13-123" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> yearly_incidents[<span class="st">'Year'</span>]</span>
<span id="cb13-124"><a href="#cb13-124" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> yearly_incidents[<span class="st">'Incidents'</span>]</span>
<span id="cb13-125"><a href="#cb13-125" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> np.polyfit(x, y, <span class="dv">1</span>)</span>
<span id="cb13-126"><a href="#cb13-126" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> np.poly1d(z)</span>
<span id="cb13-127"><a href="#cb13-127" aria-hidden="true" tabindex="-1"></a>ax1.plot(x, p(x), <span class="st">"r--"</span>, alpha<span class="op">=</span><span class="fl">0.7</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb13-128"><a href="#cb13-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-129"><a href="#cb13-129" aria-hidden="true" tabindex="-1"></a><span class="co"># Add milestone annotations </span></span>
<span id="cb13-130"><a href="#cb13-130" aria-hidden="true" tabindex="-1"></a>milestones <span class="op">=</span> {</span>
<span id="cb13-131"><a href="#cb13-131" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2003</span>: (<span class="st">'Iraq War (2003)'</span>, <span class="fl">0.6</span>),</span>
<span id="cb13-132"><a href="#cb13-132" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2011</span>: (<span class="st">'Arab Spring (2011)'</span>, <span class="fl">0.18</span>), </span>
<span id="cb13-133"><a href="#cb13-133" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2013</span>: (<span class="st">'S. Sudan Civil War (2013)'</span>, <span class="fl">0.7</span>),</span>
<span id="cb13-134"><a href="#cb13-134" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2014</span>: (<span class="st">'Rise of ISIS (2014)'</span>, <span class="fl">0.1</span>),</span>
<span id="cb13-135"><a href="#cb13-135" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2020</span>: (<span class="st">'COVID-19 Pandemic (2020)'</span>, <span class="fl">0.9</span>),</span>
<span id="cb13-136"><a href="#cb13-136" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2022</span>: (<span class="st">'Russia-Ukraine War (2022)'</span>, <span class="fl">0.25</span>)</span>
<span id="cb13-137"><a href="#cb13-137" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-138"><a href="#cb13-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-139"><a href="#cb13-139" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> year, (event, vert_pos_factor) <span class="kw">in</span> milestones.items():</span>
<span id="cb13-140"><a href="#cb13-140" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> year <span class="kw">in</span> yearly_incidents[<span class="st">'Year'</span>].values:</span>
<span id="cb13-141"><a href="#cb13-141" aria-hidden="true" tabindex="-1"></a>        idx <span class="op">=</span> yearly_incidents[yearly_incidents[<span class="st">'Year'</span>] <span class="op">==</span> year].index[<span class="dv">0</span>]</span>
<span id="cb13-142"><a href="#cb13-142" aria-hidden="true" tabindex="-1"></a>        incidents <span class="op">=</span> yearly_incidents.loc[idx, <span class="st">'Incidents'</span>]</span>
<span id="cb13-143"><a href="#cb13-143" aria-hidden="true" tabindex="-1"></a>        max_height <span class="op">=</span> ax1.get_ylim()[<span class="dv">1</span>]</span>
<span id="cb13-144"><a href="#cb13-144" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb13-145"><a href="#cb13-145" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Position the annotation at a percentage of max height</span></span>
<span id="cb13-146"><a href="#cb13-146" aria-hidden="true" tabindex="-1"></a>        vert_pos <span class="op">=</span> vert_pos_factor <span class="op">*</span> max_height</span>
<span id="cb13-147"><a href="#cb13-147" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb13-148"><a href="#cb13-148" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Draw a line to the bar</span></span>
<span id="cb13-149"><a href="#cb13-149" aria-hidden="true" tabindex="-1"></a>        ax1.annotate(<span class="st">""</span>, xy<span class="op">=</span>(year, incidents), xytext<span class="op">=</span>(year, vert_pos),</span>
<span id="cb13-150"><a href="#cb13-150" aria-hidden="true" tabindex="-1"></a>                    arrowprops<span class="op">=</span><span class="bu">dict</span>(arrowstyle<span class="op">=</span><span class="st">"-"</span>, color<span class="op">=</span><span class="st">"gray"</span>, alpha<span class="op">=</span><span class="fl">0.7</span>))</span>
<span id="cb13-151"><a href="#cb13-151" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb13-152"><a href="#cb13-152" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Add the text annotation</span></span>
<span id="cb13-153"><a href="#cb13-153" aria-hidden="true" tabindex="-1"></a>        ax1.annotate(<span class="ss">f"</span><span class="sc">{</span>event<span class="sc">}</span><span class="ch">\n</span><span class="ss">(</span><span class="sc">{</span>incidents<span class="sc">}</span><span class="ss"> incidents)"</span>, </span>
<span id="cb13-154"><a href="#cb13-154" aria-hidden="true" tabindex="-1"></a>                    xy<span class="op">=</span>(year, vert_pos),</span>
<span id="cb13-155"><a href="#cb13-155" aria-hidden="true" tabindex="-1"></a>                    xytext<span class="op">=</span>(<span class="dv">0</span>, <span class="dv">5</span>),</span>
<span id="cb13-156"><a href="#cb13-156" aria-hidden="true" tabindex="-1"></a>                    textcoords<span class="op">=</span><span class="st">"offset points"</span>,</span>
<span id="cb13-157"><a href="#cb13-157" aria-hidden="true" tabindex="-1"></a>                    ha<span class="op">=</span><span class="st">'center'</span>, va<span class="op">=</span><span class="st">'bottom'</span>,</span>
<span id="cb13-158"><a href="#cb13-158" aria-hidden="true" tabindex="-1"></a>                    bbox<span class="op">=</span><span class="bu">dict</span>(boxstyle<span class="op">=</span><span class="st">"round,pad=0.3"</span>, fc<span class="op">=</span><span class="st">"white"</span>, alpha<span class="op">=</span><span class="fl">0.9</span>),</span>
<span id="cb13-159"><a href="#cb13-159" aria-hidden="true" tabindex="-1"></a>                    fontsize<span class="op">=</span><span class="dv">8</span>)</span>
<span id="cb13-160"><a href="#cb13-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-161"><a href="#cb13-161" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot YoY percentage change</span></span>
<span id="cb13-162"><a href="#cb13-162" aria-hidden="true" tabindex="-1"></a>bars2 <span class="op">=</span> ax2.bar(yearly_incidents[<span class="st">'Year'</span>][<span class="dv">1</span>:], yearly_incidents[<span class="st">'YoY_Change'</span>][<span class="dv">1</span>:],</span>
<span id="cb13-163"><a href="#cb13-163" aria-hidden="true" tabindex="-1"></a>              color<span class="op">=</span>[accent_palette[<span class="dv">1</span>] <span class="cf">if</span> x <span class="op">&lt;</span> <span class="dv">0</span> <span class="cf">else</span> accent_palette[<span class="dv">5</span>] <span class="cf">for</span> x <span class="kw">in</span> yearly_incidents[<span class="st">'YoY_Change'</span>][<span class="dv">1</span>:]])</span>
<span id="cb13-164"><a href="#cb13-164" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> style_plot(ax2, <span class="st">'Year-over-Year Change in Incidents (%)'</span>, <span class="st">'Year'</span>, <span class="st">'Percent Change (%)'</span>)</span>
<span id="cb13-165"><a href="#cb13-165" aria-hidden="true" tabindex="-1"></a>ax2.axhline(y<span class="op">=</span><span class="dv">0</span>, color<span class="op">=</span><span class="st">'gray'</span>, linestyle<span class="op">=</span><span class="st">'-'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb13-166"><a href="#cb13-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-167"><a href="#cb13-167" aria-hidden="true" tabindex="-1"></a><span class="co"># Format y-axis with percent sign</span></span>
<span id="cb13-168"><a href="#cb13-168" aria-hidden="true" tabindex="-1"></a>ax2.yaxis.set_major_formatter(ticker.PercentFormatter(decimals<span class="op">=</span><span class="dv">0</span>))</span>
<span id="cb13-169"><a href="#cb13-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-170"><a href="#cb13-170" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb13-171"><a href="#cb13-171" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb13-172"><a href="#cb13-172" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb13-173"><a href="#cb13-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-174"><a href="#cb13-174" aria-hidden="true" tabindex="-1"></a>The data reveals a disturbing upward trend in attacks on humanitarian workers. From just 34 incidents in 1997, the number surged to 353 in 2024—a staggering 938% increase. </span>
<span id="cb13-175"><a href="#cb13-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-176"><a href="#cb13-176" aria-hidden="true" tabindex="-1"></a>This trend correlates strongly with major global conflicts. The Iraq War (2003) marked the beginning of a steady rise, while the Arab Spring (2011), South Sudan Civil War (2013), and ISIS's emergence (2014) all contributed to significant increases. More recently, the COVID-19 pandemic and Russia-Ukraine War coincided with continued high rates of attacks.</span>
<span id="cb13-177"><a href="#cb13-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-178"><a href="#cb13-178" aria-hidden="true" tabindex="-1"></a>The year-over-year percentage changes (bottom chart) illustrate the volatility, with some years showing over 50% increases. Even in years with modest decreases, the overall trajectory remains sharply upward.</span>
<span id="cb13-179"><a href="#cb13-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-180"><a href="#cb13-180" aria-hidden="true" tabindex="-1"></a>This erosion of humanitarian protection has critical implications: when aid workers become targets, vulnerable populations suffer doubly—first from the conflict or disaster that created their needs, and second from diminished assistance when security concerns hamper operations.</span>
<span id="cb13-181"><a href="#cb13-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-182"><a href="#cb13-182" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2. Dangerous Ground: Geographic Distribution of Risk</span></span>
<span id="cb13-183"><a href="#cb13-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-186"><a href="#cb13-186" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb13-187"><a href="#cb13-187" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-region-incidents</span></span>
<span id="cb13-188"><a href="#cb13-188" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Top 20 Most Dangerous Regions for Humanitarian Workers"</span></span>
<span id="cb13-189"><a href="#cb13-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-190"><a href="#cb13-190" aria-hidden="true" tabindex="-1"></a><span class="co"># For regions analysis, we'll filter out "Unknown" region as it doesn't provide actionable insights</span></span>
<span id="cb13-191"><a href="#cb13-191" aria-hidden="true" tabindex="-1"></a><span class="co"># This is a data cleaning decision based on the fact that Unknown regions don't help with geographic targeting</span></span>
<span id="cb13-192"><a href="#cb13-192" aria-hidden="true" tabindex="-1"></a>filtered_regions <span class="op">=</span> df[df[<span class="st">'Region'</span>] <span class="op">!=</span> <span class="st">'Unknown'</span>]</span>
<span id="cb13-193"><a href="#cb13-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-194"><a href="#cb13-194" aria-hidden="true" tabindex="-1"></a><span class="co"># Count incidents by region, sort and take top 20</span></span>
<span id="cb13-195"><a href="#cb13-195" aria-hidden="true" tabindex="-1"></a>region_counts <span class="op">=</span> filtered_regions[<span class="st">'Region'</span>].value_counts().reset_index()</span>
<span id="cb13-196"><a href="#cb13-196" aria-hidden="true" tabindex="-1"></a>region_counts.columns <span class="op">=</span> [<span class="st">'Region'</span>, <span class="st">'Incidents'</span>]</span>
<span id="cb13-197"><a href="#cb13-197" aria-hidden="true" tabindex="-1"></a>top_regions <span class="op">=</span> region_counts.head(<span class="dv">20</span>).sort_values(<span class="st">'Incidents'</span>)</span>
<span id="cb13-198"><a href="#cb13-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-199"><a href="#cb13-199" aria-hidden="true" tabindex="-1"></a><span class="co"># Create horizontal bar chart for top regions</span></span>
<span id="cb13-200"><a href="#cb13-200" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb13-201"><a href="#cb13-201" aria-hidden="true" tabindex="-1"></a>bars <span class="op">=</span> ax.barh(top_regions[<span class="st">'Region'</span>], top_regions[<span class="st">'Incidents'</span>], color<span class="op">=</span>main_palette[<span class="dv">3</span>], alpha<span class="op">=</span><span class="fl">0.8</span>)</span>
<span id="cb13-202"><a href="#cb13-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-203"><a href="#cb13-203" aria-hidden="true" tabindex="-1"></a><span class="co"># Add data labels</span></span>
<span id="cb13-204"><a href="#cb13-204" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, v <span class="kw">in</span> <span class="bu">enumerate</span>(top_regions[<span class="st">'Incidents'</span>]):</span>
<span id="cb13-205"><a href="#cb13-205" aria-hidden="true" tabindex="-1"></a>    ax.text(v <span class="op">+</span> <span class="dv">2</span>, i, <span class="bu">str</span>(v), va<span class="op">=</span><span class="st">'center'</span>, fontsize<span class="op">=</span><span class="dv">9</span>)</span>
<span id="cb13-206"><a href="#cb13-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-207"><a href="#cb13-207" aria-hidden="true" tabindex="-1"></a><span class="co"># Style the plot</span></span>
<span id="cb13-208"><a href="#cb13-208" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> style_plot(ax, <span class="st">'Top 20 Regions by Number of Security Incidents (1997-2024)'</span>, <span class="st">'Number of Incidents'</span>, <span class="st">''</span>)</span>
<span id="cb13-209"><a href="#cb13-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-210"><a href="#cb13-210" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb13-211"><a href="#cb13-211" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb13-212"><a href="#cb13-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-213"><a href="#cb13-213" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: We've removed "Unknown" regions from this analysis as they don't provide actionable geographic insights.</span></span>
<span id="cb13-214"><a href="#cb13-214" aria-hidden="true" tabindex="-1"></a><span class="co"># This represents a data cleaning decision to focus on known locations where specific security measures can be implemented.</span></span>
<span id="cb13-215"><a href="#cb13-215" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb13-216"><a href="#cb13-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-219"><a href="#cb13-219" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb13-220"><a href="#cb13-220" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-country-casualties</span></span>
<span id="cb13-221"><a href="#cb13-221" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Humanitarian Worker Casualties by Country (Top 15 Countries)"</span></span>
<span id="cb13-222"><a href="#cb13-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-223"><a href="#cb13-223" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate casualties by country</span></span>
<span id="cb13-224"><a href="#cb13-224" aria-hidden="true" tabindex="-1"></a>casualties_by_country <span class="op">=</span> df.groupby(<span class="st">'Country'</span>)[[<span class="st">'Total killed'</span>, <span class="st">'Total wounded'</span>, <span class="st">'Total kidnapped'</span>]].<span class="bu">sum</span>().reset_index()</span>
<span id="cb13-225"><a href="#cb13-225" aria-hidden="true" tabindex="-1"></a>casualties_by_country[<span class="st">'Total casualties'</span>] <span class="op">=</span> casualties_by_country[[<span class="st">'Total killed'</span>, <span class="st">'Total wounded'</span>, <span class="st">'Total kidnapped'</span>]].<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb13-226"><a href="#cb13-226" aria-hidden="true" tabindex="-1"></a>top_countries <span class="op">=</span> casualties_by_country.sort_values(<span class="st">'Total casualties'</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">15</span>)</span>
<span id="cb13-227"><a href="#cb13-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-228"><a href="#cb13-228" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a stacked bar chart for casualties by country</span></span>
<span id="cb13-229"><a href="#cb13-229" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>))</span>
<span id="cb13-230"><a href="#cb13-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-231"><a href="#cb13-231" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot stacked bars</span></span>
<span id="cb13-232"><a href="#cb13-232" aria-hidden="true" tabindex="-1"></a>bars1 <span class="op">=</span> ax.bar(top_countries[<span class="st">'Country'</span>], top_countries[<span class="st">'Total killed'</span>], </span>
<span id="cb13-233"><a href="#cb13-233" aria-hidden="true" tabindex="-1"></a>       label<span class="op">=</span><span class="st">'Killed'</span>, color<span class="op">=</span>accent_palette[<span class="dv">6</span>])</span>
<span id="cb13-234"><a href="#cb13-234" aria-hidden="true" tabindex="-1"></a>bars2 <span class="op">=</span> ax.bar(top_countries[<span class="st">'Country'</span>], top_countries[<span class="st">'Total wounded'</span>], </span>
<span id="cb13-235"><a href="#cb13-235" aria-hidden="true" tabindex="-1"></a>       bottom<span class="op">=</span>top_countries[<span class="st">'Total killed'</span>], label<span class="op">=</span><span class="st">'Wounded'</span>, color<span class="op">=</span>accent_palette[<span class="dv">4</span>])</span>
<span id="cb13-236"><a href="#cb13-236" aria-hidden="true" tabindex="-1"></a>bars3 <span class="op">=</span> ax.bar(top_countries[<span class="st">'Country'</span>], top_countries[<span class="st">'Total kidnapped'</span>], </span>
<span id="cb13-237"><a href="#cb13-237" aria-hidden="true" tabindex="-1"></a>       bottom<span class="op">=</span>top_countries[<span class="st">'Total killed'</span>] <span class="op">+</span> top_countries[<span class="st">'Total wounded'</span>], </span>
<span id="cb13-238"><a href="#cb13-238" aria-hidden="true" tabindex="-1"></a>       label<span class="op">=</span><span class="st">'Kidnapped'</span>, color<span class="op">=</span>accent_palette[<span class="dv">1</span>])</span>
<span id="cb13-239"><a href="#cb13-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-240"><a href="#cb13-240" aria-hidden="true" tabindex="-1"></a><span class="co"># Add data labels for total casualties with better visibility</span></span>
<span id="cb13-241"><a href="#cb13-241" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, country <span class="kw">in</span> <span class="bu">enumerate</span>(top_countries[<span class="st">'Country'</span>]):</span>
<span id="cb13-242"><a href="#cb13-242" aria-hidden="true" tabindex="-1"></a>    total <span class="op">=</span> top_countries.loc[top_countries[<span class="st">'Country'</span>] <span class="op">==</span> country, <span class="st">'Total casualties'</span>].iloc[<span class="dv">0</span>]</span>
<span id="cb13-243"><a href="#cb13-243" aria-hidden="true" tabindex="-1"></a>    ax.text(i, total <span class="op">+</span> <span class="dv">10</span>, <span class="ss">f'</span><span class="sc">{</span><span class="bu">int</span>(total)<span class="sc">}</span><span class="ss">'</span>, ha<span class="op">=</span><span class="st">'center'</span>, fontsize<span class="op">=</span><span class="dv">9</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>,</span>
<span id="cb13-244"><a href="#cb13-244" aria-hidden="true" tabindex="-1"></a>           path_effects<span class="op">=</span>[pe.withStroke(linewidth<span class="op">=</span><span class="dv">2</span>, foreground<span class="op">=</span><span class="st">'white'</span>)])</span>
<span id="cb13-245"><a href="#cb13-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-246"><a href="#cb13-246" aria-hidden="true" tabindex="-1"></a><span class="co"># Style the plot</span></span>
<span id="cb13-247"><a href="#cb13-247" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> style_plot(ax, <span class="st">'Humanitarian Worker Casualties by Country (Top 15)'</span>, <span class="st">''</span>, <span class="st">'Number of Casualties'</span>)</span>
<span id="cb13-248"><a href="#cb13-248" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>, ha<span class="op">=</span><span class="st">'right'</span>)</span>
<span id="cb13-249"><a href="#cb13-249" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="st">'upper right'</span>)</span>
<span id="cb13-250"><a href="#cb13-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-251"><a href="#cb13-251" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb13-252"><a href="#cb13-252" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb13-253"><a href="#cb13-253" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb13-254"><a href="#cb13-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-255"><a href="#cb13-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-256"><a href="#cb13-256" aria-hidden="true" tabindex="-1"></a>*Interactive Map: Use the dropdown menu in the top right corner to view total incidents, killed, wounded, or kidnapped aid workers by country. Hover over countries to see detailed statistics.*</span>
<span id="cb13-257"><a href="#cb13-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-258"><a href="#cb13-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-261"><a href="#cb13-261" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb13-262"><a href="#cb13-262" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-incidents-map</span></span>
<span id="cb13-263"><a href="#cb13-263" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Interactive Map of Humanitarian Worker Security Incidents"</span></span>
<span id="cb13-264"><a href="#cb13-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-265"><a href="#cb13-265" aria-hidden="true" tabindex="-1"></a><span class="co"># Import required libraries</span></span>
<span id="cb13-266"><a href="#cb13-266" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb13-267"><a href="#cb13-267" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pycountry</span>
<span id="cb13-268"><a href="#cb13-268" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb13-269"><a href="#cb13-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-270"><a href="#cb13-270" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert country codes from Alpha-2 to Alpha-3 format (required by Plotly)</span></span>
<span id="cb13-271"><a href="#cb13-271" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> alpha2_to_alpha3(code):</span>
<span id="cb13-272"><a href="#cb13-272" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> pd.isnull(code):</span>
<span id="cb13-273"><a href="#cb13-273" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb13-274"><a href="#cb13-274" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb13-275"><a href="#cb13-275" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> pycountry.countries.get(alpha_2<span class="op">=</span>code).alpha_3</span>
<span id="cb13-276"><a href="#cb13-276" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> (<span class="pp">AttributeError</span>, <span class="pp">KeyError</span>):</span>
<span id="cb13-277"><a href="#cb13-277" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb13-278"><a href="#cb13-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-279"><a href="#cb13-279" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Alpha-3 code column</span></span>
<span id="cb13-280"><a href="#cb13-280" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Country Code Alpha-3'</span>] <span class="op">=</span> df[<span class="st">'Country Code'</span>].<span class="bu">apply</span>(alpha2_to_alpha3)</span>
<span id="cb13-281"><a href="#cb13-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-282"><a href="#cb13-282" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate data by country</span></span>
<span id="cb13-283"><a href="#cb13-283" aria-hidden="true" tabindex="-1"></a>df_map <span class="op">=</span> df.groupby([<span class="st">'Country'</span>, <span class="st">'Country Code Alpha-3'</span>]).agg(</span>
<span id="cb13-284"><a href="#cb13-284" aria-hidden="true" tabindex="-1"></a>    Incidents<span class="op">=</span>(<span class="st">'Incident ID'</span>, <span class="st">'count'</span>),</span>
<span id="cb13-285"><a href="#cb13-285" aria-hidden="true" tabindex="-1"></a>    Total_Killed<span class="op">=</span>(<span class="st">'Total killed'</span>, <span class="st">'sum'</span>),</span>
<span id="cb13-286"><a href="#cb13-286" aria-hidden="true" tabindex="-1"></a>    Total_Wounded<span class="op">=</span>(<span class="st">'Total wounded'</span>, <span class="st">'sum'</span>),</span>
<span id="cb13-287"><a href="#cb13-287" aria-hidden="true" tabindex="-1"></a>    Total_Kidnapped<span class="op">=</span>(<span class="st">'Total kidnapped'</span>, <span class="st">'sum'</span>)</span>
<span id="cb13-288"><a href="#cb13-288" aria-hidden="true" tabindex="-1"></a>).reset_index()</span>
<span id="cb13-289"><a href="#cb13-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-290"><a href="#cb13-290" aria-hidden="true" tabindex="-1"></a><span class="co"># Create map visualization</span></span>
<span id="cb13-291"><a href="#cb13-291" aria-hidden="true" tabindex="-1"></a>color_scale <span class="op">=</span> <span class="st">'Reds'</span>  <span class="co"># Use red gradient to show severity</span></span>
<span id="cb13-292"><a href="#cb13-292" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb13-293"><a href="#cb13-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-294"><a href="#cb13-294" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Choropleth layer for each metric</span></span>
<span id="cb13-295"><a href="#cb13-295" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, metric <span class="kw">in</span> <span class="bu">enumerate</span>([<span class="st">'Incidents'</span>, <span class="st">'Total_Killed'</span>, <span class="st">'Total_Wounded'</span>, <span class="st">'Total_Kidnapped'</span>]):</span>
<span id="cb13-296"><a href="#cb13-296" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Process data, replace 0 values with NaN to avoid showing them on the map</span></span>
<span id="cb13-297"><a href="#cb13-297" aria-hidden="true" tabindex="-1"></a>    z_values <span class="op">=</span> df_map[metric].copy()</span>
<span id="cb13-298"><a href="#cb13-298" aria-hidden="true" tabindex="-1"></a>    z_masked <span class="op">=</span> np.where(z_values <span class="op">==</span> <span class="dv">0</span>, np.nan, z_values)</span>
<span id="cb13-299"><a href="#cb13-299" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-300"><a href="#cb13-300" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set visibility (only first metric initially visible)</span></span>
<span id="cb13-301"><a href="#cb13-301" aria-hidden="true" tabindex="-1"></a>    visible <span class="op">=</span> <span class="va">True</span> <span class="cf">if</span> i <span class="op">==</span> <span class="dv">0</span> <span class="cf">else</span> <span class="va">False</span></span>
<span id="cb13-302"><a href="#cb13-302" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-303"><a href="#cb13-303" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create Choropleth layer</span></span>
<span id="cb13-304"><a href="#cb13-304" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(go.Choropleth(</span>
<span id="cb13-305"><a href="#cb13-305" aria-hidden="true" tabindex="-1"></a>        locations<span class="op">=</span>df_map[<span class="st">'Country Code Alpha-3'</span>],</span>
<span id="cb13-306"><a href="#cb13-306" aria-hidden="true" tabindex="-1"></a>        z<span class="op">=</span>z_masked,</span>
<span id="cb13-307"><a href="#cb13-307" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span>df_map[<span class="st">'Country'</span>],</span>
<span id="cb13-308"><a href="#cb13-308" aria-hidden="true" tabindex="-1"></a>        colorscale<span class="op">=</span>color_scale,</span>
<span id="cb13-309"><a href="#cb13-309" aria-hidden="true" tabindex="-1"></a>        colorbar_title<span class="op">=</span>metric.replace(<span class="st">'_'</span>, <span class="st">' '</span>),</span>
<span id="cb13-310"><a href="#cb13-310" aria-hidden="true" tabindex="-1"></a>        zmin<span class="op">=</span><span class="dv">1</span>,  <span class="co"># Start from 1 to avoid including areas with no data</span></span>
<span id="cb13-311"><a href="#cb13-311" aria-hidden="true" tabindex="-1"></a>        zmax<span class="op">=</span>df_map[metric].quantile(<span class="fl">0.95</span>),  <span class="co"># Use 95th percentile to avoid extreme values distorting the color scale</span></span>
<span id="cb13-312"><a href="#cb13-312" aria-hidden="true" tabindex="-1"></a>        visible<span class="op">=</span>visible,</span>
<span id="cb13-313"><a href="#cb13-313" aria-hidden="true" tabindex="-1"></a>        hovertemplate<span class="op">=</span><span class="st">'&lt;b&gt;%</span><span class="sc">{text}</span><span class="st">&lt;/b&gt;&lt;br&gt;'</span> <span class="op">+</span></span>
<span id="cb13-314"><a href="#cb13-314" aria-hidden="true" tabindex="-1"></a>                      <span class="st">'Incidents: %</span><span class="sc">{customdata[0]}</span><span class="st">&lt;br&gt;'</span> <span class="op">+</span></span>
<span id="cb13-315"><a href="#cb13-315" aria-hidden="true" tabindex="-1"></a>                      <span class="st">'Killed: %</span><span class="sc">{customdata[1]}</span><span class="st">&lt;br&gt;'</span> <span class="op">+</span></span>
<span id="cb13-316"><a href="#cb13-316" aria-hidden="true" tabindex="-1"></a>                      <span class="st">'Wounded: %</span><span class="sc">{customdata[2]}</span><span class="st">&lt;br&gt;'</span> <span class="op">+</span></span>
<span id="cb13-317"><a href="#cb13-317" aria-hidden="true" tabindex="-1"></a>                      <span class="st">'Kidnapped: %</span><span class="sc">{customdata[3]}</span><span class="st">&lt;extra&gt;&lt;/extra&gt;'</span>,</span>
<span id="cb13-318"><a href="#cb13-318" aria-hidden="true" tabindex="-1"></a>        customdata<span class="op">=</span>np.stack([df_map[<span class="st">'Incidents'</span>], </span>
<span id="cb13-319"><a href="#cb13-319" aria-hidden="true" tabindex="-1"></a>                            df_map[<span class="st">'Total_Killed'</span>], </span>
<span id="cb13-320"><a href="#cb13-320" aria-hidden="true" tabindex="-1"></a>                            df_map[<span class="st">'Total_Wounded'</span>],</span>
<span id="cb13-321"><a href="#cb13-321" aria-hidden="true" tabindex="-1"></a>                            df_map[<span class="st">'Total_Kidnapped'</span>]], axis<span class="op">=-</span><span class="dv">1</span>)</span>
<span id="cb13-322"><a href="#cb13-322" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb13-323"><a href="#cb13-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-324"><a href="#cb13-324" aria-hidden="true" tabindex="-1"></a><span class="co"># Add dropdown menu to switch between different metrics</span></span>
<span id="cb13-325"><a href="#cb13-325" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb13-326"><a href="#cb13-326" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb13-327"><a href="#cb13-327" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span><span class="st">"Attacks on Humanitarian Workers by Country (1997-2024)"</span>,</span>
<span id="cb13-328"><a href="#cb13-328" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="fl">0.93</span>,  </span>
<span id="cb13-329"><a href="#cb13-329" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb13-330"><a href="#cb13-330" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(l<span class="op">=</span><span class="dv">0</span>, r<span class="op">=</span><span class="dv">0</span>, t<span class="op">=</span><span class="dv">80</span>, b<span class="op">=</span><span class="dv">0</span>),  </span>
<span id="cb13-331"><a href="#cb13-331" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">450</span>,  <span class="co"># Control map height</span></span>
<span id="cb13-332"><a href="#cb13-332" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">700</span>,   <span class="co"># Control map width</span></span>
<span id="cb13-333"><a href="#cb13-333" aria-hidden="true" tabindex="-1"></a>    geo<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb13-334"><a href="#cb13-334" aria-hidden="true" tabindex="-1"></a>        showframe<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb13-335"><a href="#cb13-335" aria-hidden="true" tabindex="-1"></a>        showcoastlines<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb13-336"><a href="#cb13-336" aria-hidden="true" tabindex="-1"></a>        projection_type<span class="op">=</span><span class="st">'equirectangular'</span></span>
<span id="cb13-337"><a href="#cb13-337" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb13-338"><a href="#cb13-338" aria-hidden="true" tabindex="-1"></a>    updatemenus<span class="op">=</span>[</span>
<span id="cb13-339"><a href="#cb13-339" aria-hidden="true" tabindex="-1"></a>        <span class="bu">dict</span>(</span>
<span id="cb13-340"><a href="#cb13-340" aria-hidden="true" tabindex="-1"></a>            buttons<span class="op">=</span><span class="bu">list</span>([</span>
<span id="cb13-341"><a href="#cb13-341" aria-hidden="true" tabindex="-1"></a>                <span class="bu">dict</span>(label<span class="op">=</span><span class="st">"Total Incidents"</span>,</span>
<span id="cb13-342"><a href="#cb13-342" aria-hidden="true" tabindex="-1"></a>                     method<span class="op">=</span><span class="st">"update"</span>,</span>
<span id="cb13-343"><a href="#cb13-343" aria-hidden="true" tabindex="-1"></a>                     args<span class="op">=</span>[{<span class="st">"visible"</span>: [<span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>]},</span>
<span id="cb13-344"><a href="#cb13-344" aria-hidden="true" tabindex="-1"></a>                           {<span class="st">"title.text"</span>: <span class="st">"Total Security Incidents by Country (1997-2024)"</span>}]),</span>
<span id="cb13-345"><a href="#cb13-345" aria-hidden="true" tabindex="-1"></a>                <span class="bu">dict</span>(label<span class="op">=</span><span class="st">"Total Killed"</span>,</span>
<span id="cb13-346"><a href="#cb13-346" aria-hidden="true" tabindex="-1"></a>                     method<span class="op">=</span><span class="st">"update"</span>,</span>
<span id="cb13-347"><a href="#cb13-347" aria-hidden="true" tabindex="-1"></a>                     args<span class="op">=</span>[{<span class="st">"visible"</span>: [<span class="va">False</span>, <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>]},</span>
<span id="cb13-348"><a href="#cb13-348" aria-hidden="true" tabindex="-1"></a>                           {<span class="st">"title.text"</span>: <span class="st">"Total Humanitarian Workers Killed by Country (1997-2024)"</span>}]),</span>
<span id="cb13-349"><a href="#cb13-349" aria-hidden="true" tabindex="-1"></a>                <span class="bu">dict</span>(label<span class="op">=</span><span class="st">"Total Wounded"</span>,</span>
<span id="cb13-350"><a href="#cb13-350" aria-hidden="true" tabindex="-1"></a>                     method<span class="op">=</span><span class="st">"update"</span>,</span>
<span id="cb13-351"><a href="#cb13-351" aria-hidden="true" tabindex="-1"></a>                     args<span class="op">=</span>[{<span class="st">"visible"</span>: [<span class="va">False</span>, <span class="va">False</span>, <span class="va">True</span>, <span class="va">False</span>]},</span>
<span id="cb13-352"><a href="#cb13-352" aria-hidden="true" tabindex="-1"></a>                           {<span class="st">"title.text"</span>: <span class="st">"Total Humanitarian Workers Wounded by Country (1997-2024)"</span>}]),</span>
<span id="cb13-353"><a href="#cb13-353" aria-hidden="true" tabindex="-1"></a>                <span class="bu">dict</span>(label<span class="op">=</span><span class="st">"Total Kidnapped"</span>,</span>
<span id="cb13-354"><a href="#cb13-354" aria-hidden="true" tabindex="-1"></a>                     method<span class="op">=</span><span class="st">"update"</span>,</span>
<span id="cb13-355"><a href="#cb13-355" aria-hidden="true" tabindex="-1"></a>                     args<span class="op">=</span>[{<span class="st">"visible"</span>: [<span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">True</span>]},</span>
<span id="cb13-356"><a href="#cb13-356" aria-hidden="true" tabindex="-1"></a>                           {<span class="st">"title.text"</span>: <span class="st">"Total Humanitarian Workers Kidnapped by Country (1997-2024)"</span>}])</span>
<span id="cb13-357"><a href="#cb13-357" aria-hidden="true" tabindex="-1"></a>            ]),</span>
<span id="cb13-358"><a href="#cb13-358" aria-hidden="true" tabindex="-1"></a>            direction<span class="op">=</span><span class="st">"down"</span>,</span>
<span id="cb13-359"><a href="#cb13-359" aria-hidden="true" tabindex="-1"></a>            showactive<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb13-360"><a href="#cb13-360" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="fl">0.85</span>,  <span class="co"># Positioned in top right</span></span>
<span id="cb13-361"><a href="#cb13-361" aria-hidden="true" tabindex="-1"></a>            xanchor<span class="op">=</span><span class="st">"right"</span>,</span>
<span id="cb13-362"><a href="#cb13-362" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="fl">1.1</span>,  <span class="co"># Moved above the figure for better visibility</span></span>
<span id="cb13-363"><a href="#cb13-363" aria-hidden="true" tabindex="-1"></a>            yanchor<span class="op">=</span><span class="st">"top"</span></span>
<span id="cb13-364"><a href="#cb13-364" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb13-365"><a href="#cb13-365" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb13-366"><a href="#cb13-366" aria-hidden="true" tabindex="-1"></a>    annotations<span class="op">=</span>[</span>
<span id="cb13-367"><a href="#cb13-367" aria-hidden="true" tabindex="-1"></a>        <span class="bu">dict</span>(</span>
<span id="cb13-368"><a href="#cb13-368" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="fl">0.8</span>,</span>
<span id="cb13-369"><a href="#cb13-369" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="fl">1.05</span>,</span>
<span id="cb13-370"><a href="#cb13-370" aria-hidden="true" tabindex="-1"></a>            xref<span class="op">=</span><span class="st">"paper"</span>,</span>
<span id="cb13-371"><a href="#cb13-371" aria-hidden="true" tabindex="-1"></a>            yref<span class="op">=</span><span class="st">"paper"</span>,</span>
<span id="cb13-372"><a href="#cb13-372" aria-hidden="true" tabindex="-1"></a>            text<span class="op">=</span><span class="st">"View by:"</span>,</span>
<span id="cb13-373"><a href="#cb13-373" aria-hidden="true" tabindex="-1"></a>            showarrow<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb13-374"><a href="#cb13-374" aria-hidden="true" tabindex="-1"></a>            font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb13-375"><a href="#cb13-375" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb13-376"><a href="#cb13-376" aria-hidden="true" tabindex="-1"></a>        <span class="bu">dict</span>(</span>
<span id="cb13-377"><a href="#cb13-377" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb13-378"><a href="#cb13-378" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=-</span><span class="fl">0.1</span>,</span>
<span id="cb13-379"><a href="#cb13-379" aria-hidden="true" tabindex="-1"></a>            xref<span class="op">=</span><span class="st">"paper"</span>,</span>
<span id="cb13-380"><a href="#cb13-380" aria-hidden="true" tabindex="-1"></a>            yref<span class="op">=</span><span class="st">"paper"</span>,</span>
<span id="cb13-381"><a href="#cb13-381" aria-hidden="true" tabindex="-1"></a>            text<span class="op">=</span><span class="st">"Interactive Map of Humanitarian Worker Security Incidents"</span>,</span>
<span id="cb13-382"><a href="#cb13-382" aria-hidden="true" tabindex="-1"></a>            showarrow<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb13-383"><a href="#cb13-383" aria-hidden="true" tabindex="-1"></a>            font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb13-384"><a href="#cb13-384" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb13-385"><a href="#cb13-385" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb13-386"><a href="#cb13-386" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-387"><a href="#cb13-387" aria-hidden="true" tabindex="-1"></a>fig.show()</span>
<span id="cb13-388"><a href="#cb13-388" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb13-389"><a href="#cb13-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-390"><a href="#cb13-390" aria-hidden="true" tabindex="-1"></a>The geographic distribution of incidents reveals clear patterns of risk concentration. After removing "Unknown" regions (which don't provide actionable insights), we can see that:</span>
<span id="cb13-391"><a href="#cb13-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-392"><a href="#cb13-392" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**South Sudan** emerges as a primary hotspot, with three regions (Jonglei, Central Equatoria, and Unity) among the top 10 most dangerous areas.</span>
<span id="cb13-393"><a href="#cb13-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-394"><a href="#cb13-394" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Syria** contains two of the most perilous regions (Idlib and Aleppo), while the **Gaza Strip** also ranks among the highest-risk locations.</span>
<span id="cb13-395"><a href="#cb13-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-396"><a href="#cb13-396" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>**Democratic Republic of Congo** (North and South Kivu), **Somalia** (Banadir), and **Afghanistan** (Kabul) complete the most dangerous regions.</span>
<span id="cb13-397"><a href="#cb13-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-398"><a href="#cb13-398" aria-hidden="true" tabindex="-1"></a>The casualty data adds another dimension, showing that Afghanistan, Syria, and South Sudan not only have high incident counts but also the highest numbers of casualties. The stacked bars reveal different casualty patterns by country—Afghanistan and South Sudan have high numbers of deaths, while Syria shows a larger proportion of wounded.</span>
<span id="cb13-399"><a href="#cb13-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-400"><a href="#cb13-400" aria-hidden="true" tabindex="-1"></a>The interactive map offers a global perspective on this distribution. It reveals how humanitarian risk is heavily concentrated in specific regions experiencing protracted conflicts, while vast areas of the world see minimal incidents.</span>
<span id="cb13-401"><a href="#cb13-401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-402"><a href="#cb13-402" aria-hidden="true" tabindex="-1"></a>This geographic concentration has important implications for humanitarian operations, suggesting the need for context-specific security strategies rather than one-size-fits-all approaches.</span>
<span id="cb13-403"><a href="#cb13-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-404"><a href="#cb13-404" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3. Weapons of Choice: Attack Methods and Their Impact</span></span>
<span id="cb13-405"><a href="#cb13-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-408"><a href="#cb13-408" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb13-409"><a href="#cb13-409" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-attack-methods</span></span>
<span id="cb13-410"><a href="#cb13-410" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Frequency and Lethality of Different Attack Methods"</span></span>
<span id="cb13-411"><a href="#cb13-411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-412"><a href="#cb13-412" aria-hidden="true" tabindex="-1"></a><span class="co"># Count incidents by attack method</span></span>
<span id="cb13-413"><a href="#cb13-413" aria-hidden="true" tabindex="-1"></a>attack_counts <span class="op">=</span> df[<span class="st">'Means of attack'</span>].value_counts().reset_index()</span>
<span id="cb13-414"><a href="#cb13-414" aria-hidden="true" tabindex="-1"></a>attack_counts.columns <span class="op">=</span> [<span class="st">'Means of attack'</span>, <span class="st">'Incidents'</span>]</span>
<span id="cb13-415"><a href="#cb13-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-416"><a href="#cb13-416" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate average casualties by attack method</span></span>
<span id="cb13-417"><a href="#cb13-417" aria-hidden="true" tabindex="-1"></a>attack_lethality <span class="op">=</span> df.groupby(<span class="st">'Means of attack'</span>)[[<span class="st">'Total killed'</span>, <span class="st">'Total wounded'</span>, <span class="st">'Total kidnapped'</span>]].mean().reset_index()</span>
<span id="cb13-418"><a href="#cb13-418" aria-hidden="true" tabindex="-1"></a>attack_lethality[<span class="st">'Avg casualties per incident'</span>] <span class="op">=</span> attack_lethality[[<span class="st">'Total killed'</span>, <span class="st">'Total wounded'</span>, <span class="st">'Total kidnapped'</span>]].<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb13-419"><a href="#cb13-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-420"><a href="#cb13-420" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge the two dataframes</span></span>
<span id="cb13-421"><a href="#cb13-421" aria-hidden="true" tabindex="-1"></a>attack_analysis <span class="op">=</span> pd.merge(attack_counts, attack_lethality, on<span class="op">=</span><span class="st">'Means of attack'</span>)</span>
<span id="cb13-422"><a href="#cb13-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-423"><a href="#cb13-423" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter to include only the top 12 most common attack methods</span></span>
<span id="cb13-424"><a href="#cb13-424" aria-hidden="true" tabindex="-1"></a>top_attacks <span class="op">=</span> attack_analysis.sort_values(<span class="st">'Incidents'</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">12</span>)</span>
<span id="cb13-425"><a href="#cb13-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-426"><a href="#cb13-426" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a figure with two subplots</span></span>
<span id="cb13-427"><a href="#cb13-427" aria-hidden="true" tabindex="-1"></a>fig, (ax1, ax2) <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>), gridspec_kw<span class="op">=</span>{<span class="st">'height_ratios'</span>: [<span class="fl">1.5</span>, <span class="dv">1</span>], <span class="st">'hspace'</span>: <span class="fl">0.8</span>})  <span class="co"># Increased spacing between subplots</span></span>
<span id="cb13-428"><a href="#cb13-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-429"><a href="#cb13-429" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot incidents by attack method (top subplot)</span></span>
<span id="cb13-430"><a href="#cb13-430" aria-hidden="true" tabindex="-1"></a>bars1 <span class="op">=</span> ax1.bar(top_attacks[<span class="st">'Means of attack'</span>], top_attacks[<span class="st">'Incidents'</span>], color<span class="op">=</span>main_palette[<span class="dv">3</span>])</span>
<span id="cb13-431"><a href="#cb13-431" aria-hidden="true" tabindex="-1"></a>ax1 <span class="op">=</span> style_plot(ax1, <span class="st">'Frequency of Attack Methods Against Humanitarian Workers'</span>, <span class="st">''</span>, <span class="st">'Number of Incidents'</span>)</span>
<span id="cb13-432"><a href="#cb13-432" aria-hidden="true" tabindex="-1"></a>plt.setp(ax1.xaxis.get_majorticklabels(), rotation<span class="op">=</span><span class="dv">45</span>, ha<span class="op">=</span><span class="st">'right'</span>)</span>
<span id="cb13-433"><a href="#cb13-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-434"><a href="#cb13-434" aria-hidden="true" tabindex="-1"></a><span class="co"># Second subplot - average casualties per incident by attack method</span></span>
<span id="cb13-435"><a href="#cb13-435" aria-hidden="true" tabindex="-1"></a>bars2 <span class="op">=</span> ax2.bar(top_attacks[<span class="st">'Means of attack'</span>], top_attacks[<span class="st">'Avg casualties per incident'</span>], color<span class="op">=</span>accent_palette[<span class="dv">4</span>])</span>
<span id="cb13-436"><a href="#cb13-436" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> style_plot(ax2, <span class="st">'Average Casualties per Incident by Attack Method'</span>, <span class="st">''</span>, <span class="st">'Average Casualties'</span>)</span>
<span id="cb13-437"><a href="#cb13-437" aria-hidden="true" tabindex="-1"></a>plt.setp(ax2.xaxis.get_majorticklabels(), rotation<span class="op">=</span><span class="dv">45</span>, ha<span class="op">=</span><span class="st">'right'</span>)</span>
<span id="cb13-438"><a href="#cb13-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-439"><a href="#cb13-439" aria-hidden="true" tabindex="-1"></a><span class="co"># Annotate bars with values</span></span>
<span id="cb13-440"><a href="#cb13-440" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, v <span class="kw">in</span> <span class="bu">enumerate</span>(top_attacks[<span class="st">'Avg casualties per incident'</span>]):</span>
<span id="cb13-441"><a href="#cb13-441" aria-hidden="true" tabindex="-1"></a>    ax2.text(i, v <span class="op">+</span> <span class="fl">0.1</span>, <span class="ss">f'</span><span class="sc">{</span>v<span class="sc">:.1f}</span><span class="ss">'</span>, ha<span class="op">=</span><span class="st">'center'</span>, fontsize<span class="op">=</span><span class="dv">9</span>)</span>
<span id="cb13-442"><a href="#cb13-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-443"><a href="#cb13-443" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb13-444"><a href="#cb13-444" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb13-445"><a href="#cb13-445" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb13-446"><a href="#cb13-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-447"><a href="#cb13-447" aria-hidden="true" tabindex="-1"></a>*Interactive Chart: Hover over the chart to see the exact proportions of each attack method for any given year. Click on legend items to hide or show specific attack methods.*</span>
<span id="cb13-448"><a href="#cb13-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-451"><a href="#cb13-451" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb13-452"><a href="#cb13-452" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-attack-trend</span></span>
<span id="cb13-453"><a href="#cb13-453" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Evolution of Attack Methods Over Time"</span></span>
<span id="cb13-454"><a href="#cb13-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-455"><a href="#cb13-455" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by year and attack method, count incidents, and calculate proportions</span></span>
<span id="cb13-456"><a href="#cb13-456" aria-hidden="true" tabindex="-1"></a>attack_trends <span class="op">=</span> df.groupby([<span class="st">'Year'</span>, <span class="st">'Means of attack'</span>]).size().reset_index(name<span class="op">=</span><span class="st">'count'</span>)</span>
<span id="cb13-457"><a href="#cb13-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-458"><a href="#cb13-458" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter to only include top 5 attack methods for clarity</span></span>
<span id="cb13-459"><a href="#cb13-459" aria-hidden="true" tabindex="-1"></a>top5_methods <span class="op">=</span> df[<span class="st">'Means of attack'</span>].value_counts().head(<span class="dv">5</span>).index.tolist()</span>
<span id="cb13-460"><a href="#cb13-460" aria-hidden="true" tabindex="-1"></a>attack_trends <span class="op">=</span> attack_trends[attack_trends[<span class="st">'Means of attack'</span>].isin(top5_methods)]</span>
<span id="cb13-461"><a href="#cb13-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-462"><a href="#cb13-462" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a pivot table for plotting</span></span>
<span id="cb13-463"><a href="#cb13-463" aria-hidden="true" tabindex="-1"></a>attack_pivot <span class="op">=</span> attack_trends.pivot(index<span class="op">=</span><span class="st">'Year'</span>, columns<span class="op">=</span><span class="st">'Means of attack'</span>, values<span class="op">=</span><span class="st">'count'</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb13-464"><a href="#cb13-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-465"><a href="#cb13-465" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate proportions for each year</span></span>
<span id="cb13-466"><a href="#cb13-466" aria-hidden="true" tabindex="-1"></a>props <span class="op">=</span> attack_pivot.div(attack_pivot.<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>), axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb13-467"><a href="#cb13-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-468"><a href="#cb13-468" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the area plot using Plotly for interactivity</span></span>
<span id="cb13-469"><a href="#cb13-469" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.area(props.reset_index(), x<span class="op">=</span><span class="st">'Year'</span>, y<span class="op">=</span>props.columns,</span>
<span id="cb13-470"><a href="#cb13-470" aria-hidden="true" tabindex="-1"></a>             title<span class="op">=</span><span class="st">'Proportion of Attack Methods Over Time (Top 5 Methods)'</span>,</span>
<span id="cb13-471"><a href="#cb13-471" aria-hidden="true" tabindex="-1"></a>             labels<span class="op">=</span>{<span class="st">'value'</span>: <span class="st">'Proportion of Incidents'</span>, <span class="st">'variable'</span>: <span class="st">'Attack Method'</span>},</span>
<span id="cb13-472"><a href="#cb13-472" aria-hidden="true" tabindex="-1"></a>             color_discrete_sequence<span class="op">=</span>px.colors.qualitative.Safe,</span>
<span id="cb13-473"><a href="#cb13-473" aria-hidden="true" tabindex="-1"></a>             width<span class="op">=</span><span class="dv">700</span>,  <span class="co"># Control the width</span></span>
<span id="cb13-474"><a href="#cb13-474" aria-hidden="true" tabindex="-1"></a>             height<span class="op">=</span><span class="dv">450</span>  <span class="co"># Increased height to avoid overlap</span></span>
<span id="cb13-475"><a href="#cb13-475" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-476"><a href="#cb13-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-477"><a href="#cb13-477" aria-hidden="true" tabindex="-1"></a><span class="co"># Update layout to move the legend higher to avoid overlap with the title</span></span>
<span id="cb13-478"><a href="#cb13-478" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb13-479"><a href="#cb13-479" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">'Year'</span>,</span>
<span id="cb13-480"><a href="#cb13-480" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Proportion of Incidents'</span>,</span>
<span id="cb13-481"><a href="#cb13-481" aria-hidden="true" tabindex="-1"></a>    legend_title<span class="op">=</span><span class="st">'Attack Method'</span>,</span>
<span id="cb13-482"><a href="#cb13-482" aria-hidden="true" tabindex="-1"></a>    hovermode<span class="op">=</span><span class="st">'x unified'</span>,</span>
<span id="cb13-483"><a href="#cb13-483" aria-hidden="true" tabindex="-1"></a>    yaxis<span class="op">=</span><span class="bu">dict</span>(tickformat<span class="op">=</span><span class="st">'.0%'</span>),</span>
<span id="cb13-484"><a href="#cb13-484" aria-hidden="true" tabindex="-1"></a>    legend<span class="op">=</span><span class="bu">dict</span>(orientation<span class="op">=</span><span class="st">'h'</span>, yanchor<span class="op">=</span><span class="st">'bottom'</span>, y<span class="op">=</span><span class="fl">1.25</span>, xanchor<span class="op">=</span><span class="st">'center'</span>, x<span class="op">=</span><span class="fl">0.5</span>)  <span class="co"># Moved higher to avoid overlap</span></span>
<span id="cb13-485"><a href="#cb13-485" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-486"><a href="#cb13-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-487"><a href="#cb13-487" aria-hidden="true" tabindex="-1"></a>fig.show()</span>
<span id="cb13-488"><a href="#cb13-488" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb13-489"><a href="#cb13-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-490"><a href="#cb13-490" aria-hidden="true" tabindex="-1"></a>Our analysis of attack methods reveals both the frequency and lethality of different threats facing humanitarian workers. </span>
<span id="cb13-491"><a href="#cb13-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-492"><a href="#cb13-492" aria-hidden="true" tabindex="-1"></a>Three methods dominate the landscape: **shootings** (1,240 incidents), **kidnappings** (890), and **bodily assaults** (836), together accounting for nearly 70% of all documented incidents. However, frequency doesn't always correlate with lethality.</span>
<span id="cb13-493"><a href="#cb13-493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-494"><a href="#cb13-494" aria-hidden="true" tabindex="-1"></a>The bottom chart reveals that while vehicle-borne IEDs account for relatively few incidents, they produce the highest average casualties per incident (3.6), followed by aerial bombardments (3.1) and landmines (2.7). In contrast, bodily assaults, despite their frequency, cause fewer casualties per incident (1.4).</span>
<span id="cb13-495"><a href="#cb13-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-496"><a href="#cb13-496" aria-hidden="true" tabindex="-1"></a>The interactive trend chart shows how attack methods have evolved over time. While "Unknown" methods and shootings have generally decreased proportionally, kidnappings have increased significantly since 2010. This suggests a strategic shift by perpetrators from simply eliminating aid workers to using them for ransom, propaganda, or political leverage.</span>
<span id="cb13-497"><a href="#cb13-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-498"><a href="#cb13-498" aria-hidden="true" tabindex="-1"></a>This evolution in tactics demands corresponding evolution in security protocols. Organizations must develop different protective measures for different threat profiles – kidnap prevention training for areas with high abduction rates, and enhanced physical security where shootings predominate. The increased sophistication of attacks (including IEDs and aerial bombardments) also suggests perpetrators are becoming more organized and better-equipped.</span>
<span id="cb13-499"><a href="#cb13-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-500"><a href="#cb13-500" aria-hidden="true" tabindex="-1"></a><span class="fu">## 4. The Protection Gap: National vs. International Staff Vulnerability</span></span>
<span id="cb13-501"><a href="#cb13-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-504"><a href="#cb13-504" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb13-505"><a href="#cb13-505" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-staff-comparison</span></span>
<span id="cb13-506"><a href="#cb13-506" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Comparison of Casualties Between National and International Staff"</span></span>
<span id="cb13-507"><a href="#cb13-507" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total casualties for national and international staff</span></span>
<span id="cb13-508"><a href="#cb13-508" aria-hidden="true" tabindex="-1"></a>nationals <span class="op">=</span> df[[<span class="st">'Nationals killed'</span>, <span class="st">'Nationals wounded'</span>, <span class="st">'Nationals kidnapped'</span>]].<span class="bu">sum</span>()</span>
<span id="cb13-509"><a href="#cb13-509" aria-hidden="true" tabindex="-1"></a>nationals.index <span class="op">=</span> [<span class="st">'Killed'</span>, <span class="st">'Wounded'</span>, <span class="st">'Kidnapped'</span>]</span>
<span id="cb13-510"><a href="#cb13-510" aria-hidden="true" tabindex="-1"></a>internationals <span class="op">=</span> df[[<span class="st">'Internationals killed'</span>, <span class="st">'Internationals wounded'</span>, <span class="st">'Internationals kidnapped'</span>]].<span class="bu">sum</span>()</span>
<span id="cb13-511"><a href="#cb13-511" aria-hidden="true" tabindex="-1"></a>internationals.index <span class="op">=</span> [<span class="st">'Killed'</span>, <span class="st">'Wounded'</span>, <span class="st">'Kidnapped'</span>]</span>
<span id="cb13-512"><a href="#cb13-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-513"><a href="#cb13-513" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine into a dataframe for plotting</span></span>
<span id="cb13-514"><a href="#cb13-514" aria-hidden="true" tabindex="-1"></a>staff_comparison <span class="op">=</span> pd.DataFrame({</span>
<span id="cb13-515"><a href="#cb13-515" aria-hidden="true" tabindex="-1"></a>    <span class="st">'National Staff'</span>: nationals, </span>
<span id="cb13-516"><a href="#cb13-516" aria-hidden="true" tabindex="-1"></a>    <span class="st">'International Staff'</span>: internationals</span>
<span id="cb13-517"><a href="#cb13-517" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb13-518"><a href="#cb13-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-519"><a href="#cb13-519" aria-hidden="true" tabindex="-1"></a><span class="co"># Create horizontal stacked bar chart</span></span>
<span id="cb13-520"><a href="#cb13-520" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb13-521"><a href="#cb13-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-522"><a href="#cb13-522" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the bars</span></span>
<span id="cb13-523"><a href="#cb13-523" aria-hidden="true" tabindex="-1"></a>bars <span class="op">=</span> staff_comparison.plot(kind<span class="op">=</span><span class="st">'barh'</span>, ax<span class="op">=</span>ax, color<span class="op">=</span>[main_palette[<span class="dv">3</span>], accent_palette[<span class="dv">3</span>]])</span>
<span id="cb13-524"><a href="#cb13-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-525"><a href="#cb13-525" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, row <span class="kw">in</span> <span class="bu">enumerate</span>(staff_comparison.index):</span>
<span id="cb13-526"><a href="#cb13-526" aria-hidden="true" tabindex="-1"></a>    nat_val <span class="op">=</span> staff_comparison.loc[row, <span class="st">'National Staff'</span>]</span>
<span id="cb13-527"><a href="#cb13-527" aria-hidden="true" tabindex="-1"></a>    int_val <span class="op">=</span> staff_comparison.loc[row, <span class="st">'International Staff'</span>]</span>
<span id="cb13-528"><a href="#cb13-528" aria-hidden="true" tabindex="-1"></a>    total <span class="op">=</span> nat_val <span class="op">+</span> int_val</span>
<span id="cb13-529"><a href="#cb13-529" aria-hidden="true" tabindex="-1"></a>    ratio <span class="op">=</span> nat_val <span class="op">/</span> total <span class="cf">if</span> total <span class="op">&gt;</span> <span class="dv">0</span> <span class="cf">else</span> <span class="dv">0</span></span>
<span id="cb13-530"><a href="#cb13-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-531"><a href="#cb13-531" aria-hidden="true" tabindex="-1"></a>    ax.text(nat_val <span class="op">*</span> <span class="fl">0.6</span>, i <span class="op">-</span> <span class="fl">0.15</span>, <span class="ss">f"</span><span class="sc">{</span><span class="bu">int</span>(nat_val)<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb13-532"><a href="#cb13-532" aria-hidden="true" tabindex="-1"></a>            ha<span class="op">=</span><span class="st">'center'</span>, va<span class="op">=</span><span class="st">'center'</span>,</span>
<span id="cb13-533"><a href="#cb13-533" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span><span class="st">'white'</span>,</span>
<span id="cb13-534"><a href="#cb13-534" aria-hidden="true" tabindex="-1"></a>            fontweight<span class="op">=</span><span class="st">'bold'</span>,</span>
<span id="cb13-535"><a href="#cb13-535" aria-hidden="true" tabindex="-1"></a>            fontsize<span class="op">=</span><span class="dv">11</span>,</span>
<span id="cb13-536"><a href="#cb13-536" aria-hidden="true" tabindex="-1"></a>            path_effects<span class="op">=</span>[pe.withStroke(linewidth<span class="op">=</span><span class="dv">3</span>, foreground<span class="op">=</span><span class="st">'black'</span>)])</span>
<span id="cb13-537"><a href="#cb13-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-538"><a href="#cb13-538" aria-hidden="true" tabindex="-1"></a>    ax.text(total <span class="op">*</span> <span class="fl">0.06</span>, i <span class="op">+</span> <span class="fl">0.15</span>, <span class="ss">f"</span><span class="sc">{</span><span class="bu">int</span>(int_val)<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb13-539"><a href="#cb13-539" aria-hidden="true" tabindex="-1"></a>            ha<span class="op">=</span><span class="st">'center'</span>, va<span class="op">=</span><span class="st">'center'</span>,</span>
<span id="cb13-540"><a href="#cb13-540" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span><span class="st">'black'</span>,</span>
<span id="cb13-541"><a href="#cb13-541" aria-hidden="true" tabindex="-1"></a>            fontweight<span class="op">=</span><span class="st">'bold'</span>,</span>
<span id="cb13-542"><a href="#cb13-542" aria-hidden="true" tabindex="-1"></a>            fontsize<span class="op">=</span><span class="dv">11</span>)</span>
<span id="cb13-543"><a href="#cb13-543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-544"><a href="#cb13-544" aria-hidden="true" tabindex="-1"></a>    ax.text(total <span class="op">+</span> <span class="dv">20</span>, i, <span class="ss">f"(</span><span class="sc">{</span>ratio<span class="sc">:.1%}</span><span class="ss"> national)"</span>,</span>
<span id="cb13-545"><a href="#cb13-545" aria-hidden="true" tabindex="-1"></a>            va<span class="op">=</span><span class="st">'center'</span>,</span>
<span id="cb13-546"><a href="#cb13-546" aria-hidden="true" tabindex="-1"></a>            fontsize<span class="op">=</span><span class="dv">10</span>,</span>
<span id="cb13-547"><a href="#cb13-547" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span><span class="st">'black'</span>)</span>
<span id="cb13-548"><a href="#cb13-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-549"><a href="#cb13-549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-550"><a href="#cb13-550" aria-hidden="true" tabindex="-1"></a><span class="co"># Style the plot</span></span>
<span id="cb13-551"><a href="#cb13-551" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> style_plot(ax, <span class="st">'Casualties by Staff Type (1997-2024)'</span>, <span class="st">'Number of Casualties'</span>, <span class="st">''</span>)</span>
<span id="cb13-552"><a href="#cb13-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-553"><a href="#cb13-553" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust legend and layout</span></span>
<span id="cb13-554"><a href="#cb13-554" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="st">'upper right'</span>)</span>
<span id="cb13-555"><a href="#cb13-555" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb13-556"><a href="#cb13-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-557"><a href="#cb13-557" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb13-558"><a href="#cb13-558" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb13-559"><a href="#cb13-559" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb13-560"><a href="#cb13-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-563"><a href="#cb13-563" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb13-564"><a href="#cb13-564" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-staff-ratio-time</span></span>
<span id="cb13-565"><a href="#cb13-565" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Ratio of National to International Staff Casualties Over Time"</span></span>
<span id="cb13-566"><a href="#cb13-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-567"><a href="#cb13-567" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate annual casualties by staff type</span></span>
<span id="cb13-568"><a href="#cb13-568" aria-hidden="true" tabindex="-1"></a>annual_casualties <span class="op">=</span> df.groupby(<span class="st">'Year'</span>)[[</span>
<span id="cb13-569"><a href="#cb13-569" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Nationals killed'</span>, <span class="st">'Nationals wounded'</span>, <span class="st">'Nationals kidnapped'</span>,</span>
<span id="cb13-570"><a href="#cb13-570" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Internationals killed'</span>, <span class="st">'Internationals wounded'</span>, <span class="st">'Internationals kidnapped'</span></span>
<span id="cb13-571"><a href="#cb13-571" aria-hidden="true" tabindex="-1"></a>]].<span class="bu">sum</span>().reset_index()</span>
<span id="cb13-572"><a href="#cb13-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-573"><a href="#cb13-573" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total casualties by type per year</span></span>
<span id="cb13-574"><a href="#cb13-574" aria-hidden="true" tabindex="-1"></a>annual_casualties[<span class="st">'National Staff'</span>] <span class="op">=</span> annual_casualties[[<span class="st">'Nationals killed'</span>, <span class="st">'Nationals wounded'</span>, <span class="st">'Nationals kidnapped'</span>]].<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb13-575"><a href="#cb13-575" aria-hidden="true" tabindex="-1"></a>annual_casualties[<span class="st">'International Staff'</span>] <span class="op">=</span> annual_casualties[[<span class="st">'Internationals killed'</span>, <span class="st">'Internationals wounded'</span>, <span class="st">'Internationals kidnapped'</span>]].<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb13-576"><a href="#cb13-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-577"><a href="#cb13-577" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate ratio (add small epsilon to avoid division by zero)</span></span>
<span id="cb13-578"><a href="#cb13-578" aria-hidden="true" tabindex="-1"></a>annual_casualties[<span class="st">'National:International Ratio'</span>] <span class="op">=</span> annual_casualties[<span class="st">'National Staff'</span>] <span class="op">/</span> annual_casualties[<span class="st">'International Staff'</span>].replace(<span class="dv">0</span>, <span class="fl">0.001</span>)</span>
<span id="cb13-579"><a href="#cb13-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-580"><a href="#cb13-580" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the line plot for ratio</span></span>
<span id="cb13-581"><a href="#cb13-581" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>))</span>
<span id="cb13-582"><a href="#cb13-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-583"><a href="#cb13-583" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the ratio</span></span>
<span id="cb13-584"><a href="#cb13-584" aria-hidden="true" tabindex="-1"></a>ax.plot(annual_casualties[<span class="st">'Year'</span>], annual_casualties[<span class="st">'National:International Ratio'</span>], </span>
<span id="cb13-585"><a href="#cb13-585" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="st">'o'</span>, linestyle<span class="op">=</span><span class="st">'-'</span>, color<span class="op">=</span>accent_palette[<span class="dv">5</span>], linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb13-586"><a href="#cb13-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-587"><a href="#cb13-587" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a trend line</span></span>
<span id="cb13-588"><a href="#cb13-588" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> annual_casualties[<span class="st">'Year'</span>]</span>
<span id="cb13-589"><a href="#cb13-589" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> annual_casualties[<span class="st">'National:International Ratio'</span>]</span>
<span id="cb13-590"><a href="#cb13-590" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> np.polyfit(x, y, <span class="dv">1</span>)</span>
<span id="cb13-591"><a href="#cb13-591" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> np.poly1d(z)</span>
<span id="cb13-592"><a href="#cb13-592" aria-hidden="true" tabindex="-1"></a>ax.plot(x, p(x), <span class="st">"r--"</span>, alpha<span class="op">=</span><span class="fl">0.7</span>, linewidth<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb13-593"><a href="#cb13-593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-594"><a href="#cb13-594" aria-hidden="true" tabindex="-1"></a><span class="co"># Style the plot</span></span>
<span id="cb13-595"><a href="#cb13-595" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> style_plot(ax, <span class="st">'Ratio of National to International Staff Casualties by Year'</span>, <span class="st">'Year'</span>, <span class="st">'Ratio (National:International)'</span>)</span>
<span id="cb13-596"><a href="#cb13-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-597"><a href="#cb13-597" aria-hidden="true" tabindex="-1"></a><span class="co"># Add annotations for notable points</span></span>
<span id="cb13-598"><a href="#cb13-598" aria-hidden="true" tabindex="-1"></a>high_points <span class="op">=</span> [(<span class="dv">2023</span>, <span class="fl">21.9</span>), (<span class="dv">2024</span>, <span class="fl">34.8</span>), (<span class="dv">2025</span>, <span class="fl">21.7</span>)]</span>
<span id="cb13-599"><a href="#cb13-599" aria-hidden="true" tabindex="-1"></a>text_positions <span class="op">=</span> [(<span class="fl">2022.5</span>, <span class="dv">25</span>), (<span class="fl">2024.2</span>, <span class="dv">38</span>), (<span class="fl">2025.2</span>, <span class="dv">15</span>)] </span>
<span id="cb13-600"><a href="#cb13-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-601"><a href="#cb13-601" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, point <span class="kw">in</span> <span class="bu">enumerate</span>(high_points):</span>
<span id="cb13-602"><a href="#cb13-602" aria-hidden="true" tabindex="-1"></a>    year, ratio <span class="op">=</span> point</span>
<span id="cb13-603"><a href="#cb13-603" aria-hidden="true" tabindex="-1"></a>    text_x, text_y <span class="op">=</span> text_positions[i]</span>
<span id="cb13-604"><a href="#cb13-604" aria-hidden="true" tabindex="-1"></a>    ax.annotate(<span class="ss">f"</span><span class="sc">{</span><span class="bu">int</span>(year)<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>ratio<span class="sc">:.1f}</span><span class="ss">x"</span>,</span>
<span id="cb13-605"><a href="#cb13-605" aria-hidden="true" tabindex="-1"></a>                xy<span class="op">=</span>(year, ratio),</span>
<span id="cb13-606"><a href="#cb13-606" aria-hidden="true" tabindex="-1"></a>                xytext<span class="op">=</span>(text_x, text_y),</span>
<span id="cb13-607"><a href="#cb13-607" aria-hidden="true" tabindex="-1"></a>                textcoords<span class="op">=</span><span class="st">"data"</span>,</span>
<span id="cb13-608"><a href="#cb13-608" aria-hidden="true" tabindex="-1"></a>                bbox<span class="op">=</span><span class="bu">dict</span>(boxstyle<span class="op">=</span><span class="st">"round,pad=0.3"</span>, fc<span class="op">=</span><span class="st">"white"</span>, alpha<span class="op">=</span><span class="fl">0.8</span>),</span>
<span id="cb13-609"><a href="#cb13-609" aria-hidden="true" tabindex="-1"></a>                arrowprops<span class="op">=</span><span class="bu">dict</span>(arrowstyle<span class="op">=</span><span class="st">"-&gt;"</span>, connectionstyle<span class="op">=</span><span class="st">"arc3,rad=.2"</span>))</span>
<span id="cb13-610"><a href="#cb13-610" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb13-611"><a href="#cb13-611" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb13-612"><a href="#cb13-612" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb13-613"><a href="#cb13-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-614"><a href="#cb13-614" aria-hidden="true" tabindex="-1"></a>Perhaps the most troubling finding in our analysis is the stark disparity in security risks between national and international humanitarian staff. The data reveals a protection gap that raises profound ethical questions.</span>
<span id="cb13-615"><a href="#cb13-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-616"><a href="#cb13-616" aria-hidden="true" tabindex="-1"></a>National staff bear a disproportionate burden of violence:</span>
<span id="cb13-617"><a href="#cb13-617" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>They account for **92.1% of all humanitarian workers killed**</span>
<span id="cb13-618"><a href="#cb13-618" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>They represent **90.7% of all wounded personnel**</span>
<span id="cb13-619"><a href="#cb13-619" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>They make up **83.0% of all kidnapping victims**</span>
<span id="cb13-620"><a href="#cb13-620" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-621"><a href="#cb13-621" aria-hidden="true" tabindex="-1"></a>The trend analysis is even more concerning, showing this disparity has widened over time. By 2024, national staff were 34.8 times more likely to become casualties than their international counterparts—a dramatic increase from earlier ratios of 4-5:1.</span>
<span id="cb13-622"><a href="#cb13-622" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-623"><a href="#cb13-623" aria-hidden="true" tabindex="-1"></a>Several structural factors contribute to this gap:</span>
<span id="cb13-624"><a href="#cb13-624" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>International staff are often evacuated during security crises while national staff remain</span>
<span id="cb13-625"><a href="#cb13-625" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>National staff typically work in "last mile" delivery in the most dangerous areas</span>
<span id="cb13-626"><a href="#cb13-626" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Security resources and training are disproportionately allocated to international personnel</span>
<span id="cb13-627"><a href="#cb13-627" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>National staff may have less agency in refusing high-risk assignments due to economic pressures</span>
<span id="cb13-628"><a href="#cb13-628" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-629"><a href="#cb13-629" aria-hidden="true" tabindex="-1"></a>This disparity demands urgent attention from humanitarian organizations. It requires not just technical security solutions but a fundamental rethinking of how risk is distributed, resources allocated, and vulnerability assessed. Organizations must develop more equitable security protocols that address the specific challenges facing national staff, who constitute the majority of the humanitarian workforce yet face significantly higher risks.</span>
<span id="cb13-630"><a href="#cb13-630" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-631"><a href="#cb13-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-632"><a href="#cb13-632" aria-hidden="true" tabindex="-1"></a><span class="fu">## 5. Behind the Attacks: Perpetrator Patterns</span></span>
<span id="cb13-633"><a href="#cb13-633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-636"><a href="#cb13-636" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb13-637"><a href="#cb13-637" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-actor-types</span></span>
<span id="cb13-638"><a href="#cb13-638" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Distribution of Perpetrator Types in Security Incidents"</span></span>
<span id="cb13-639"><a href="#cb13-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-640"><a href="#cb13-640" aria-hidden="true" tabindex="-1"></a><span class="co"># Count incidents by actor type</span></span>
<span id="cb13-641"><a href="#cb13-641" aria-hidden="true" tabindex="-1"></a>actor_counts <span class="op">=</span> df[<span class="st">'Actor type'</span>].value_counts().reset_index()</span>
<span id="cb13-642"><a href="#cb13-642" aria-hidden="true" tabindex="-1"></a>actor_counts.columns <span class="op">=</span> [<span class="st">'Actor type'</span>, <span class="st">'Incidents'</span>]</span>
<span id="cb13-643"><a href="#cb13-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-644"><a href="#cb13-644" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate percentage</span></span>
<span id="cb13-645"><a href="#cb13-645" aria-hidden="true" tabindex="-1"></a>actor_counts[<span class="st">'Percentage'</span>] <span class="op">=</span> actor_counts[<span class="st">'Incidents'</span>] <span class="op">/</span> actor_counts[<span class="st">'Incidents'</span>].<span class="bu">sum</span>() <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb13-646"><a href="#cb13-646" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-647"><a href="#cb13-647" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: We're keeping the "Unknown" perpetrator category despite its large size (52.4%)</span></span>
<span id="cb13-648"><a href="#cb13-648" aria-hidden="true" tabindex="-1"></a><span class="co"># as it represents a critical finding about attribution challenges rather than a data deficiency</span></span>
<span id="cb13-649"><a href="#cb13-649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-650"><a href="#cb13-650" aria-hidden="true" tabindex="-1"></a><span class="co"># Create pie chart for actor types</span></span>
<span id="cb13-651"><a href="#cb13-651" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb13-652"><a href="#cb13-652" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-653"><a href="#cb13-653" aria-hidden="true" tabindex="-1"></a><span class="co"># Only display categories with more than 2% proportion, group smaller ones</span></span>
<span id="cb13-654"><a href="#cb13-654" aria-hidden="true" tabindex="-1"></a>threshold <span class="op">=</span> <span class="dv">2</span>  <span class="co"># percentage threshold</span></span>
<span id="cb13-655"><a href="#cb13-655" aria-hidden="true" tabindex="-1"></a>small_categories <span class="op">=</span> actor_counts[actor_counts[<span class="st">'Percentage'</span>] <span class="op">&lt;</span> threshold]</span>
<span id="cb13-656"><a href="#cb13-656" aria-hidden="true" tabindex="-1"></a>major_categories <span class="op">=</span> actor_counts[actor_counts[<span class="st">'Percentage'</span>] <span class="op">&gt;=</span> threshold]</span>
<span id="cb13-657"><a href="#cb13-657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-658"><a href="#cb13-658" aria-hidden="true" tabindex="-1"></a><span class="co"># If there are small categories, merge them</span></span>
<span id="cb13-659"><a href="#cb13-659" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> small_categories.empty:</span>
<span id="cb13-660"><a href="#cb13-660" aria-hidden="true" tabindex="-1"></a>    other_row <span class="op">=</span> pd.DataFrame({</span>
<span id="cb13-661"><a href="#cb13-661" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Actor type'</span>: [<span class="st">'Other small categories'</span>],</span>
<span id="cb13-662"><a href="#cb13-662" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Incidents'</span>: [small_categories[<span class="st">'Incidents'</span>].<span class="bu">sum</span>()],</span>
<span id="cb13-663"><a href="#cb13-663" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Percentage'</span>: [small_categories[<span class="st">'Percentage'</span>].<span class="bu">sum</span>()]</span>
<span id="cb13-664"><a href="#cb13-664" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb13-665"><a href="#cb13-665" aria-hidden="true" tabindex="-1"></a>    plot_data <span class="op">=</span> pd.concat([major_categories, other_row], ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb13-666"><a href="#cb13-666" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb13-667"><a href="#cb13-667" aria-hidden="true" tabindex="-1"></a>    plot_data <span class="op">=</span> major_categories</span>
<span id="cb13-668"><a href="#cb13-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-669"><a href="#cb13-669" aria-hidden="true" tabindex="-1"></a><span class="co"># Define custom colors - ensuring "Unknown" stands out</span></span>
<span id="cb13-670"><a href="#cb13-670" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> sns.color_palette(<span class="st">"Blues_r"</span>, <span class="bu">len</span>(plot_data))</span>
<span id="cb13-671"><a href="#cb13-671" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-672"><a href="#cb13-672" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the pie chart - without labels directly on it</span></span>
<span id="cb13-673"><a href="#cb13-673" aria-hidden="true" tabindex="-1"></a>wedges, texts, autotexts <span class="op">=</span> ax.pie(plot_data[<span class="st">'Incidents'</span>], </span>
<span id="cb13-674"><a href="#cb13-674" aria-hidden="true" tabindex="-1"></a>                                 labels<span class="op">=</span><span class="va">None</span>,  <span class="co"># No direct labels for clarity</span></span>
<span id="cb13-675"><a href="#cb13-675" aria-hidden="true" tabindex="-1"></a>                                 autopct<span class="op">=</span><span class="st">'</span><span class="sc">%1.1f%%</span><span class="st">'</span>,</span>
<span id="cb13-676"><a href="#cb13-676" aria-hidden="true" tabindex="-1"></a>                                 startangle<span class="op">=</span><span class="dv">90</span>, </span>
<span id="cb13-677"><a href="#cb13-677" aria-hidden="true" tabindex="-1"></a>                                 colors<span class="op">=</span>colors,</span>
<span id="cb13-678"><a href="#cb13-678" aria-hidden="true" tabindex="-1"></a>                                 wedgeprops<span class="op">=</span>{<span class="st">'edgecolor'</span>: <span class="st">'w'</span>, <span class="st">'linewidth'</span>: <span class="dv">1</span>})</span>
<span id="cb13-679"><a href="#cb13-679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-680"><a href="#cb13-680" aria-hidden="true" tabindex="-1"></a><span class="co"># Enhance visibility of percentage labels</span></span>
<span id="cb13-681"><a href="#cb13-681" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> autotext <span class="kw">in</span> autotexts:</span>
<span id="cb13-682"><a href="#cb13-682" aria-hidden="true" tabindex="-1"></a>    autotext.set_fontsize(<span class="dv">9</span>)</span>
<span id="cb13-683"><a href="#cb13-683" aria-hidden="true" tabindex="-1"></a>    autotext.set_color(<span class="st">'white'</span>)</span>
<span id="cb13-684"><a href="#cb13-684" aria-hidden="true" tabindex="-1"></a>    autotext.set_path_effects([pe.withStroke(linewidth<span class="op">=</span><span class="dv">2</span>, foreground<span class="op">=</span><span class="st">'black'</span>)])</span>
<span id="cb13-685"><a href="#cb13-685" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-686"><a href="#cb13-686" aria-hidden="true" tabindex="-1"></a><span class="co"># Add title</span></span>
<span id="cb13-687"><a href="#cb13-687" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Distribution of Perpetrator Types in Security Incidents'</span>, fontsize<span class="op">=</span><span class="dv">14</span>, pad<span class="op">=</span><span class="dv">20</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb13-688"><a href="#cb13-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-689"><a href="#cb13-689" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a legend with better formatting</span></span>
<span id="cb13-690"><a href="#cb13-690" aria-hidden="true" tabindex="-1"></a>legend_labels <span class="op">=</span> [<span class="ss">f"</span><span class="sc">{</span>row[<span class="st">'Actor type'</span>]<span class="sc">}</span><span class="ss"> (</span><span class="sc">{</span><span class="bu">int</span>(row[<span class="st">'Incidents'</span>])<span class="sc">}</span><span class="ss"> incidents)"</span> </span>
<span id="cb13-691"><a href="#cb13-691" aria-hidden="true" tabindex="-1"></a>                 <span class="cf">for</span> _, row <span class="kw">in</span> plot_data.iterrows()]</span>
<span id="cb13-692"><a href="#cb13-692" aria-hidden="true" tabindex="-1"></a>plt.legend(wedges, legend_labels,</span>
<span id="cb13-693"><a href="#cb13-693" aria-hidden="true" tabindex="-1"></a>          loc<span class="op">=</span><span class="st">"center left"</span>,</span>
<span id="cb13-694"><a href="#cb13-694" aria-hidden="true" tabindex="-1"></a>          bbox_to_anchor<span class="op">=</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="fl">0.5</span>, <span class="dv">1</span>),</span>
<span id="cb13-695"><a href="#cb13-695" aria-hidden="true" tabindex="-1"></a>          fontsize<span class="op">=</span><span class="dv">9</span>)</span>
<span id="cb13-696"><a href="#cb13-696" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-697"><a href="#cb13-697" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb13-698"><a href="#cb13-698" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb13-699"><a href="#cb13-699" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb13-700"><a href="#cb13-700" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-703"><a href="#cb13-703" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb13-704"><a href="#cb13-704" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-actor-target</span></span>
<span id="cb13-705"><a href="#cb13-705" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Targeting Patterns by Actor Type and Organization"</span></span>
<span id="cb13-706"><a href="#cb13-706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-707"><a href="#cb13-707" aria-hidden="true" tabindex="-1"></a><span class="co"># Create organization type flags</span></span>
<span id="cb13-708"><a href="#cb13-708" aria-hidden="true" tabindex="-1"></a>org_cols <span class="op">=</span> [<span class="st">'UN'</span>, <span class="st">'INGO'</span>, <span class="st">'ICRC'</span>, <span class="st">'NRCS and IFRC'</span>, <span class="st">'NNGO'</span>, <span class="st">'Other'</span>]</span>
<span id="cb13-709"><a href="#cb13-709" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-710"><a href="#cb13-710" aria-hidden="true" tabindex="-1"></a><span class="co"># For each organization type, count incidents by actor type</span></span>
<span id="cb13-711"><a href="#cb13-711" aria-hidden="true" tabindex="-1"></a>targeting_patterns <span class="op">=</span> []</span>
<span id="cb13-712"><a href="#cb13-712" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-713"><a href="#cb13-713" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> org <span class="kw">in</span> org_cols:</span>
<span id="cb13-714"><a href="#cb13-714" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Filter for incidents where this organization type was affected</span></span>
<span id="cb13-715"><a href="#cb13-715" aria-hidden="true" tabindex="-1"></a>    org_incidents <span class="op">=</span> df[df[org] <span class="op">&gt;</span> <span class="dv">0</span>]</span>
<span id="cb13-716"><a href="#cb13-716" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Count incidents by actor type</span></span>
<span id="cb13-717"><a href="#cb13-717" aria-hidden="true" tabindex="-1"></a>    actor_dist <span class="op">=</span> org_incidents[<span class="st">'Actor type'</span>].value_counts().reset_index()</span>
<span id="cb13-718"><a href="#cb13-718" aria-hidden="true" tabindex="-1"></a>    actor_dist.columns <span class="op">=</span> [<span class="st">'Actor type'</span>, <span class="st">'Incidents'</span>]</span>
<span id="cb13-719"><a href="#cb13-719" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add organization type column</span></span>
<span id="cb13-720"><a href="#cb13-720" aria-hidden="true" tabindex="-1"></a>    actor_dist[<span class="st">'Target Organization'</span>] <span class="op">=</span> org</span>
<span id="cb13-721"><a href="#cb13-721" aria-hidden="true" tabindex="-1"></a>    targeting_patterns.append(actor_dist)</span>
<span id="cb13-722"><a href="#cb13-722" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-723"><a href="#cb13-723" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all data</span></span>
<span id="cb13-724"><a href="#cb13-724" aria-hidden="true" tabindex="-1"></a>targeting_df <span class="op">=</span> pd.concat(targeting_patterns, ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb13-725"><a href="#cb13-725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-726"><a href="#cb13-726" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter to include only significant combinations - top actors</span></span>
<span id="cb13-727"><a href="#cb13-727" aria-hidden="true" tabindex="-1"></a>top_actors <span class="op">=</span> df[<span class="st">'Actor type'</span>].value_counts().nlargest(<span class="dv">5</span>).index.tolist()</span>
<span id="cb13-728"><a href="#cb13-728" aria-hidden="true" tabindex="-1"></a>targeting_df <span class="op">=</span> targeting_df[targeting_df[<span class="st">'Actor type'</span>].isin(top_actors)]</span>
<span id="cb13-729"><a href="#cb13-729" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-730"><a href="#cb13-730" aria-hidden="true" tabindex="-1"></a><span class="co"># Handle organization labels for display</span></span>
<span id="cb13-731"><a href="#cb13-731" aria-hidden="true" tabindex="-1"></a>org_labels <span class="op">=</span> {</span>
<span id="cb13-732"><a href="#cb13-732" aria-hidden="true" tabindex="-1"></a>    <span class="st">'UN'</span>: <span class="st">'United Nations'</span>,</span>
<span id="cb13-733"><a href="#cb13-733" aria-hidden="true" tabindex="-1"></a>    <span class="st">'INGO'</span>: <span class="st">'International NGOs'</span>,</span>
<span id="cb13-734"><a href="#cb13-734" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ICRC'</span>: <span class="st">'Int. Committee of Red Cross'</span>,</span>
<span id="cb13-735"><a href="#cb13-735" aria-hidden="true" tabindex="-1"></a>    <span class="st">'NRCS and IFRC'</span>: <span class="st">'Red Cross/Red Crescent'</span>,</span>
<span id="cb13-736"><a href="#cb13-736" aria-hidden="true" tabindex="-1"></a>    <span class="st">'NNGO'</span>: <span class="st">'National NGOs'</span>,</span>
<span id="cb13-737"><a href="#cb13-737" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Other'</span>: <span class="st">'Other Organizations'</span></span>
<span id="cb13-738"><a href="#cb13-738" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-739"><a href="#cb13-739" aria-hidden="true" tabindex="-1"></a>targeting_df[<span class="st">'Organization'</span>] <span class="op">=</span> targeting_df[<span class="st">'Target Organization'</span>].<span class="bu">map</span>(org_labels)</span>
<span id="cb13-740"><a href="#cb13-740" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-741"><a href="#cb13-741" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the heatmap data</span></span>
<span id="cb13-742"><a href="#cb13-742" aria-hidden="true" tabindex="-1"></a>heatmap_pivot <span class="op">=</span> targeting_df.pivot_table(</span>
<span id="cb13-743"><a href="#cb13-743" aria-hidden="true" tabindex="-1"></a>    values<span class="op">=</span><span class="st">'Incidents'</span>, </span>
<span id="cb13-744"><a href="#cb13-744" aria-hidden="true" tabindex="-1"></a>    index<span class="op">=</span><span class="st">'Organization'</span>,</span>
<span id="cb13-745"><a href="#cb13-745" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span><span class="st">'Actor type'</span>,</span>
<span id="cb13-746"><a href="#cb13-746" aria-hidden="true" tabindex="-1"></a>    aggfunc<span class="op">=</span><span class="st">'sum'</span>,</span>
<span id="cb13-747"><a href="#cb13-747" aria-hidden="true" tabindex="-1"></a>    fill_value<span class="op">=</span><span class="dv">0</span></span>
<span id="cb13-748"><a href="#cb13-748" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-749"><a href="#cb13-749" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-750"><a href="#cb13-750" aria-hidden="true" tabindex="-1"></a><span class="co"># Normalize by row (organization) to show targeting patterns</span></span>
<span id="cb13-751"><a href="#cb13-751" aria-hidden="true" tabindex="-1"></a>heatmap_norm <span class="op">=</span> heatmap_pivot.div(heatmap_pivot.<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>), axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb13-752"><a href="#cb13-752" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-753"><a href="#cb13-753" aria-hidden="true" tabindex="-1"></a><span class="co"># Create heatmap</span></span>
<span id="cb13-754"><a href="#cb13-754" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb13-755"><a href="#cb13-755" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.heatmap(heatmap_norm, annot<span class="op">=</span><span class="va">True</span>, fmt<span class="op">=</span><span class="st">'.1%'</span>, cmap<span class="op">=</span><span class="st">'Blues'</span>, linewidths<span class="op">=</span><span class="fl">.5</span>)</span>
<span id="cb13-756"><a href="#cb13-756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-757"><a href="#cb13-757" aria-hidden="true" tabindex="-1"></a><span class="co"># Style the plot</span></span>
<span id="cb13-758"><a href="#cb13-758" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Targeting Patterns by Actor Type and Organization'</span>, fontsize<span class="op">=</span><span class="dv">14</span>, pad<span class="op">=</span><span class="dv">20</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>)</span>
<span id="cb13-759"><a href="#cb13-759" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Actor Type'</span>, fontsize<span class="op">=</span><span class="dv">12</span>, labelpad<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb13-760"><a href="#cb13-760" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Target Organization'</span>, fontsize<span class="op">=</span><span class="dv">12</span>, labelpad<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb13-761"><a href="#cb13-761" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb13-762"><a href="#cb13-762" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb13-763"><a href="#cb13-763" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb13-764"><a href="#cb13-764" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-765"><a href="#cb13-765" aria-hidden="true" tabindex="-1"></a>Understanding who targets humanitarian workers is crucial for developing effective protection strategies. Our analysis reveals important patterns in perpetrator identities that have significant security implications.</span>
<span id="cb13-766"><a href="#cb13-766" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-767"><a href="#cb13-767" aria-hidden="true" tabindex="-1"></a>The most striking finding is what we *don't* know: **52.4% of all incidents involve unidentified perpetrators**. This is not a data deficiency but rather a critical finding about the nature of these attacks. The high proportion of unknown actors reflects:</span>
<span id="cb13-768"><a href="#cb13-768" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Deliberate tactics by attackers to avoid accountability</span>
<span id="cb13-769"><a href="#cb13-769" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Challenges in attribution in complex environments </span>
<span id="cb13-770"><a href="#cb13-770" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>The strategic use of ambiguity by perpetrators</span>
<span id="cb13-771"><a href="#cb13-771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-772"><a href="#cb13-772" aria-hidden="true" tabindex="-1"></a>We've retained this "Unknown" category in our analysis precisely because it reveals important insights about the nature of threats to humanitarian workers.</span>
<span id="cb13-773"><a href="#cb13-773" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-774"><a href="#cb13-774" aria-hidden="true" tabindex="-1"></a>Among identified perpetrators:</span>
<span id="cb13-775"><a href="#cb13-775" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Non-state armed groups** collectively represent the most significant known threat (24% of incidents across various categories)</span>
<span id="cb13-776"><a href="#cb13-776" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**State actors** (including host governments and foreign forces) are implicated in 12% of incidents</span>
<span id="cb13-777"><a href="#cb13-777" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Criminal groups** account for 3% of incidents, typically motivated by material gain</span>
<span id="cb13-778"><a href="#cb13-778" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-779"><a href="#cb13-779" aria-hidden="true" tabindex="-1"></a>The heatmap reveals distinct targeting patterns by different actors:</span>
<span id="cb13-780"><a href="#cb13-780" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>National NGOs face higher targeting from host state actors (14.9% of incidents) compared to other organizations</span>
<span id="cb13-781"><a href="#cb13-781" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>International organizations (UN, ICRC) show the highest proportion of unknown attackers (&gt;70%)</span>
<span id="cb13-782"><a href="#cb13-782" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The Red Cross/Red Crescent movement faces a distinctive targeting pattern compared to other humanitarian organizations</span>
<span id="cb13-783"><a href="#cb13-783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-784"><a href="#cb13-784" aria-hidden="true" tabindex="-1"></a>These patterns have operational implications. Different security strategies are needed depending on which actors pose the greatest threat in a given context. For example, where state forces represent a significant threat to national NGOs, diplomatic engagement and visibility strategies may be more effective than traditional security measures.</span>
<span id="cb13-785"><a href="#cb13-785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-786"><a href="#cb13-786" aria-hidden="true" tabindex="-1"></a><span class="fu">## 6. Timing Matters: Temporal Patterns in Attacks</span></span>
<span id="cb13-787"><a href="#cb13-787" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-790"><a href="#cb13-790" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb13-791"><a href="#cb13-791" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-monthly-patterns</span></span>
<span id="cb13-792"><a href="#cb13-792" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Monthly Distribution of Security Incidents"</span></span>
<span id="cb13-793"><a href="#cb13-793" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-794"><a href="#cb13-794" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract month from the dataset</span></span>
<span id="cb13-795"><a href="#cb13-795" aria-hidden="true" tabindex="-1"></a>monthly_incidents <span class="op">=</span> df.groupby(<span class="st">'Month'</span>).size().reset_index(name<span class="op">=</span><span class="st">'Incidents'</span>)</span>
<span id="cb13-796"><a href="#cb13-796" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by month numerically</span></span>
<span id="cb13-797"><a href="#cb13-797" aria-hidden="true" tabindex="-1"></a>monthly_incidents <span class="op">=</span> monthly_incidents.sort_values(<span class="st">'Month'</span>)</span>
<span id="cb13-798"><a href="#cb13-798" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-799"><a href="#cb13-799" aria-hidden="true" tabindex="-1"></a><span class="co"># Create month names for better visualization</span></span>
<span id="cb13-800"><a href="#cb13-800" aria-hidden="true" tabindex="-1"></a>month_names <span class="op">=</span> [<span class="st">'Jan'</span>, <span class="st">'Feb'</span>, <span class="st">'Mar'</span>, <span class="st">'Apr'</span>, <span class="st">'May'</span>, <span class="st">'Jun'</span>, <span class="st">'Jul'</span>, <span class="st">'Aug'</span>, <span class="st">'Sep'</span>, <span class="st">'Oct'</span>, <span class="st">'Nov'</span>, <span class="st">'Dec'</span>]</span>
<span id="cb13-801"><a href="#cb13-801" aria-hidden="true" tabindex="-1"></a>monthly_incidents[<span class="st">'Month Name'</span>] <span class="op">=</span> monthly_incidents[<span class="st">'Month'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: month_names[<span class="bu">int</span>(x)<span class="op">-</span><span class="dv">1</span>] <span class="cf">if</span> pd.notnull(x) <span class="kw">and</span> <span class="dv">1</span> <span class="op">&lt;=</span> <span class="bu">int</span>(x) <span class="op">&lt;=</span> <span class="dv">12</span> <span class="cf">else</span> <span class="st">'Unknown'</span>)</span>
<span id="cb13-802"><a href="#cb13-802" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-803"><a href="#cb13-803" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out unknown months</span></span>
<span id="cb13-804"><a href="#cb13-804" aria-hidden="true" tabindex="-1"></a>monthly_incidents <span class="op">=</span> monthly_incidents[monthly_incidents[<span class="st">'Month Name'</span>] <span class="op">!=</span> <span class="st">'Unknown'</span>]</span>
<span id="cb13-805"><a href="#cb13-805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-806"><a href="#cb13-806" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the bar chart</span></span>
<span id="cb13-807"><a href="#cb13-807" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>))</span>
<span id="cb13-808"><a href="#cb13-808" aria-hidden="true" tabindex="-1"></a>bars <span class="op">=</span> ax.bar(monthly_incidents[<span class="st">'Month Name'</span>], monthly_incidents[<span class="st">'Incidents'</span>], color<span class="op">=</span>main_palette[<span class="dv">2</span>])</span>
<span id="cb13-809"><a href="#cb13-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-810"><a href="#cb13-810" aria-hidden="true" tabindex="-1"></a><span class="co"># Add data labels with better visibility</span></span>
<span id="cb13-811"><a href="#cb13-811" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, v <span class="kw">in</span> <span class="bu">enumerate</span>(monthly_incidents[<span class="st">'Incidents'</span>]):</span>
<span id="cb13-812"><a href="#cb13-812" aria-hidden="true" tabindex="-1"></a>    ax.text(i, v <span class="op">+</span> <span class="dv">10</span>, <span class="bu">str</span>(<span class="bu">int</span>(v)), ha<span class="op">=</span><span class="st">'center'</span>, fontsize<span class="op">=</span><span class="dv">9</span>,</span>
<span id="cb13-813"><a href="#cb13-813" aria-hidden="true" tabindex="-1"></a>            path_effects<span class="op">=</span>[pe.withStroke(linewidth<span class="op">=</span><span class="dv">2</span>, foreground<span class="op">=</span><span class="st">'white'</span>)])</span>
<span id="cb13-814"><a href="#cb13-814" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-815"><a href="#cb13-815" aria-hidden="true" tabindex="-1"></a><span class="co"># Style the plot</span></span>
<span id="cb13-816"><a href="#cb13-816" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> style_plot(ax, <span class="st">'Monthly Distribution of Security Incidents (1997-2024)'</span>, <span class="st">''</span>, <span class="st">'Number of Incidents'</span>)</span>
<span id="cb13-817"><a href="#cb13-817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-818"><a href="#cb13-818" aria-hidden="true" tabindex="-1"></a><span class="co"># Add average line</span></span>
<span id="cb13-819"><a href="#cb13-819" aria-hidden="true" tabindex="-1"></a>avg_incidents <span class="op">=</span> monthly_incidents[<span class="st">'Incidents'</span>].mean()</span>
<span id="cb13-820"><a href="#cb13-820" aria-hidden="true" tabindex="-1"></a>ax.axhline(y<span class="op">=</span>avg_incidents, color<span class="op">=</span><span class="st">'red'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb13-821"><a href="#cb13-821" aria-hidden="true" tabindex="-1"></a>ax.text(<span class="dv">9</span>, avg_incidents <span class="op">+</span> <span class="dv">20</span>, <span class="ss">f'Monthly Average: </span><span class="sc">{</span>avg_incidents<span class="sc">:.0f}</span><span class="ss">'</span>, color<span class="op">=</span><span class="st">'red'</span>, ha<span class="op">=</span><span class="st">'right'</span>)  <span class="co"># Moved to right side</span></span>
<span id="cb13-822"><a href="#cb13-822" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-823"><a href="#cb13-823" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb13-824"><a href="#cb13-824" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb13-825"><a href="#cb13-825" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb13-826"><a href="#cb13-826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-829"><a href="#cb13-829" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb13-830"><a href="#cb13-830" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-weekday-patterns</span></span>
<span id="cb13-831"><a href="#cb13-831" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Security Incidents by Day of Week"</span></span>
<span id="cb13-832"><a href="#cb13-832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-833"><a href="#cb13-833" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate incidents by day of week where day information is available</span></span>
<span id="cb13-834"><a href="#cb13-834" aria-hidden="true" tabindex="-1"></a>df_with_day <span class="op">=</span> df[df[<span class="st">'Day'</span>].notna()].copy()</span>
<span id="cb13-835"><a href="#cb13-835" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a proper date from year, month, day</span></span>
<span id="cb13-836"><a href="#cb13-836" aria-hidden="true" tabindex="-1"></a>df_with_day[<span class="st">'date'</span>] <span class="op">=</span> pd.to_datetime(df_with_day[[<span class="st">'Year'</span>, <span class="st">'Month'</span>, <span class="st">'Day'</span>]].rename(</span>
<span id="cb13-837"><a href="#cb13-837" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span>{<span class="st">'Year'</span>: <span class="st">'year'</span>, <span class="st">'Month'</span>: <span class="st">'month'</span>, <span class="st">'Day'</span>: <span class="st">'day'</span>}), errors<span class="op">=</span><span class="st">'coerce'</span>)</span>
<span id="cb13-838"><a href="#cb13-838" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract day of week</span></span>
<span id="cb13-839"><a href="#cb13-839" aria-hidden="true" tabindex="-1"></a>df_with_day[<span class="st">'day_of_week'</span>] <span class="op">=</span> df_with_day[<span class="st">'date'</span>].dt.day_name()</span>
<span id="cb13-840"><a href="#cb13-840" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-841"><a href="#cb13-841" aria-hidden="true" tabindex="-1"></a><span class="co"># Count incidents by day of week</span></span>
<span id="cb13-842"><a href="#cb13-842" aria-hidden="true" tabindex="-1"></a>weekday_incidents <span class="op">=</span> df_with_day[<span class="st">'day_of_week'</span>].value_counts().reindex([</span>
<span id="cb13-843"><a href="#cb13-843" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Monday'</span>, <span class="st">'Tuesday'</span>, <span class="st">'Wednesday'</span>, <span class="st">'Thursday'</span>, <span class="st">'Friday'</span>, <span class="st">'Saturday'</span>, <span class="st">'Sunday'</span></span>
<span id="cb13-844"><a href="#cb13-844" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb13-845"><a href="#cb13-845" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-846"><a href="#cb13-846" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the bar chart</span></span>
<span id="cb13-847"><a href="#cb13-847" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>))</span>
<span id="cb13-848"><a href="#cb13-848" aria-hidden="true" tabindex="-1"></a>bars <span class="op">=</span> ax.bar(weekday_incidents.index, weekday_incidents.values, color<span class="op">=</span>main_palette[<span class="dv">4</span>])</span>
<span id="cb13-849"><a href="#cb13-849" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-850"><a href="#cb13-850" aria-hidden="true" tabindex="-1"></a><span class="co"># Add data labels with better visibility</span></span>
<span id="cb13-851"><a href="#cb13-851" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, v <span class="kw">in</span> <span class="bu">enumerate</span>(weekday_incidents.values):</span>
<span id="cb13-852"><a href="#cb13-852" aria-hidden="true" tabindex="-1"></a>    ax.text(i, v <span class="op">+</span> <span class="dv">10</span>, <span class="bu">str</span>(<span class="bu">int</span>(v)), ha<span class="op">=</span><span class="st">'center'</span>, fontsize<span class="op">=</span><span class="dv">9</span>,</span>
<span id="cb13-853"><a href="#cb13-853" aria-hidden="true" tabindex="-1"></a>           color<span class="op">=</span><span class="st">'black'</span>, fontweight<span class="op">=</span><span class="st">'bold'</span>,</span>
<span id="cb13-854"><a href="#cb13-854" aria-hidden="true" tabindex="-1"></a>           path_effects<span class="op">=</span>[pe.withStroke(linewidth<span class="op">=</span><span class="dv">3</span>, foreground<span class="op">=</span><span class="st">'white'</span>)])</span>
<span id="cb13-855"><a href="#cb13-855" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-856"><a href="#cb13-856" aria-hidden="true" tabindex="-1"></a><span class="co"># Style the plot</span></span>
<span id="cb13-857"><a href="#cb13-857" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> style_plot(ax, <span class="st">'Security Incidents by Day of Week'</span>, <span class="st">''</span>, <span class="st">'Number of Incidents'</span>)</span>
<span id="cb13-858"><a href="#cb13-858" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-859"><a href="#cb13-859" aria-hidden="true" tabindex="-1"></a><span class="co"># Add average line</span></span>
<span id="cb13-860"><a href="#cb13-860" aria-hidden="true" tabindex="-1"></a>avg_incidents <span class="op">=</span> weekday_incidents.mean()</span>
<span id="cb13-861"><a href="#cb13-861" aria-hidden="true" tabindex="-1"></a>ax.axhline(y<span class="op">=</span>avg_incidents, color<span class="op">=</span><span class="st">'red'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb13-862"><a href="#cb13-862" aria-hidden="true" tabindex="-1"></a><span class="co"># Move the average label to the right side</span></span>
<span id="cb13-863"><a href="#cb13-863" aria-hidden="true" tabindex="-1"></a>ax.text(<span class="dv">6</span>, avg_incidents <span class="op">+</span> <span class="dv">20</span>, <span class="ss">f'Daily Average: </span><span class="sc">{</span>avg_incidents<span class="sc">:.0f}</span><span class="ss">'</span>, color<span class="op">=</span><span class="st">'red'</span>, ha<span class="op">=</span><span class="st">'right'</span>)</span>
<span id="cb13-864"><a href="#cb13-864" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-865"><a href="#cb13-865" aria-hidden="true" tabindex="-1"></a><span class="co"># Highlight weekend days</span></span>
<span id="cb13-866"><a href="#cb13-866" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, day <span class="kw">in</span> <span class="bu">enumerate</span>(weekday_incidents.index):</span>
<span id="cb13-867"><a href="#cb13-867" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> day <span class="kw">in</span> [<span class="st">'Saturday'</span>, <span class="st">'Sunday'</span>]:</span>
<span id="cb13-868"><a href="#cb13-868" aria-hidden="true" tabindex="-1"></a>        bars[i].set_color(accent_palette[<span class="dv">3</span>])</span>
<span id="cb13-869"><a href="#cb13-869" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-870"><a href="#cb13-870" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb13-871"><a href="#cb13-871" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb13-872"><a href="#cb13-872" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb13-873"><a href="#cb13-873" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-874"><a href="#cb13-874" aria-hidden="true" tabindex="-1"></a>Our temporal analysis reveals that humanitarian security risks follow distinct patterns over time. Understanding these patterns can help organizations implement targeted protection measures when they're most needed.</span>
<span id="cb13-875"><a href="#cb13-875" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-876"><a href="#cb13-876" aria-hidden="true" tabindex="-1"></a>Looking at monthly distributions, clear seasonal patterns emerge:</span>
<span id="cb13-877"><a href="#cb13-877" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**July** and **August** stand out as particularly dangerous months, with incident rates approximately 15-20% above the monthly average</span>
<span id="cb13-878"><a href="#cb13-878" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The winter months of **December**, **January**, and **February** show significantly lower risk</span>
<span id="cb13-879"><a href="#cb13-879" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**May** also emerges as a high-risk month across multiple years</span>
<span id="cb13-880"><a href="#cb13-880" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-881"><a href="#cb13-881" aria-hidden="true" tabindex="-1"></a>The weekly distribution adds another important dimension:</span>
<span id="cb13-882"><a href="#cb13-882" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Midweek days** (Tuesday through Thursday) show consistently higher incident rates</span>
<span id="cb13-883"><a href="#cb13-883" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Sunday** has notably lower incident frequency (highlighted in red)</span>
<span id="cb13-884"><a href="#cb13-884" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The weekend drop-off varies significantly by region</span>
<span id="cb13-885"><a href="#cb13-885" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-886"><a href="#cb13-886" aria-hidden="true" tabindex="-1"></a>These temporal patterns reflect underlying operational and conflict dynamics:</span>
<span id="cb13-887"><a href="#cb13-887" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Improved weather and road conditions in summer months enable increased movement by both humanitarian actors and armed groups</span>
<span id="cb13-888"><a href="#cb13-888" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Agricultural cycles influence conflict in some regions, with harvest periods seeing heightened tensions</span>
<span id="cb13-889"><a href="#cb13-889" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Reduced operational tempo on weekends (particularly Sundays) corresponds to lower incident rates</span>
<span id="cb13-890"><a href="#cb13-890" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-891"><a href="#cb13-891" aria-hidden="true" tabindex="-1"></a>For security planners, these patterns provide actionable intelligence. Implementing additional protective measures during high-risk months, adjusting movement schedules to avoid peak danger times, and aligning operational tempo with temporal risk patterns can significantly enhance staff safety while maintaining program delivery.</span>
<span id="cb13-892"><a href="#cb13-892" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-893"><a href="#cb13-893" aria-hidden="true" tabindex="-1"></a>Organizations might consider:</span>
<span id="cb13-894"><a href="#cb13-894" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Enhanced security protocols during July-August</span>
<span id="cb13-895"><a href="#cb13-895" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Scheduling high-risk movements on Sundays where operationally feasible</span>
<span id="cb13-896"><a href="#cb13-896" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Seasonal-specific risk assessments and mitigation strategies</span>
<span id="cb13-897"><a href="#cb13-897" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Context-specific calendar mapping of heightened risk periods</span>
<span id="cb13-898"><a href="#cb13-898" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-899"><a href="#cb13-899" aria-hidden="true" tabindex="-1"></a><span class="fu">## Conclusions and Recommendations</span></span>
<span id="cb13-900"><a href="#cb13-900" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-901"><a href="#cb13-901" aria-hidden="true" tabindex="-1"></a>Our data-driven analysis of security incidents affecting humanitarian workers reveals several critical insights with important implications for how organizations operate in high-risk environments.</span>
<span id="cb13-902"><a href="#cb13-902" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-903"><a href="#cb13-903" aria-hidden="true" tabindex="-1"></a><span class="fu">### Key Evidence-Based Findings</span></span>
<span id="cb13-904"><a href="#cb13-904" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-905"><a href="#cb13-905" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Escalating Danger**: The 938% increase in incidents from 1997 to 2024 represents a fundamental shift in the humanitarian operating environment. This trend correlates directly with major global conflicts and shows no signs of reversal.</span>
<span id="cb13-906"><a href="#cb13-906" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-907"><a href="#cb13-907" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Geographic Concentration**: Risk is not distributed randomly but concentrates in specific conflict zones—most notably South Sudan, Syria, Afghanistan, and Gaza. Even within these countries, certain regions (Jonglei, Idlib) face disproportionate risk.</span>
<span id="cb13-908"><a href="#cb13-908" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-909"><a href="#cb13-909" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>**Evolving Attack Methods**: While shootings remain most common, the proportional increase in kidnappings since 2010 signals a strategic shift by perpetrators. Attack methods are becoming more sophisticated and targeted.</span>
<span id="cb13-910"><a href="#cb13-910" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-911"><a href="#cb13-911" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>**National Staff Vulnerability Gap**: The most ethically challenging finding is the severe disparity in risk between national and international staff. With national staff bearing over 80% of casualties and this gap widening (reaching 34.8:1 in 2024), current protection approaches clearly fall short.</span>
<span id="cb13-912"><a href="#cb13-912" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-913"><a href="#cb13-913" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>**High Rate of Unknown Perpetrators**: The fact that 52.4% of incidents involve unidentified attackers reflects a deliberate strategy of anonymous violence that enables impunity.</span>
<span id="cb13-914"><a href="#cb13-914" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-915"><a href="#cb13-915" aria-hidden="true" tabindex="-1"></a><span class="ss">6. </span>**Temporal Risk Patterns**: The data reveals distinct seasonal (summer peak, winter trough) and weekly (midweek high, weekend low) patterns that can inform operational planning.</span>
<span id="cb13-916"><a href="#cb13-916" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-917"><a href="#cb13-917" aria-hidden="true" tabindex="-1"></a><span class="fu">### Evidence-Based Recommendations for Humanitarian Organizations</span></span>
<span id="cb13-918"><a href="#cb13-918" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-919"><a href="#cb13-919" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Address the National-International Protection Gap**:</span>
<span id="cb13-920"><a href="#cb13-920" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Develop common security standards that apply equally to all staff regardless of nationality</span>
<span id="cb13-921"><a href="#cb13-921" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Allocate security resources proportionally to risk exposure rather than staff category</span>
<span id="cb13-922"><a href="#cb13-922" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Include national staff in security decision-making structures at all levels</span>
<span id="cb13-923"><a href="#cb13-923" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Evidence: The 34.8:1 casualty ratio in 2024 and 85% of deaths affecting national staff demand immediate action</span>
<span id="cb13-924"><a href="#cb13-924" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-925"><a href="#cb13-925" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Implement Geographic Risk Targeting**:</span>
<span id="cb13-926"><a href="#cb13-926" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Develop region-specific security protocols for identified high-risk areas</span>
<span id="cb13-927"><a href="#cb13-927" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Enhance pre-deployment training for staff assigned to the top 10 most dangerous regions</span>
<span id="cb13-928"><a href="#cb13-928" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Allocate security resources proportionally to geographic risk profiles</span>
<span id="cb13-929"><a href="#cb13-929" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Evidence: The top 5 regions account for 583 incidents (13.4% of the total)—a clear focus for targeted interventions</span>
<span id="cb13-930"><a href="#cb13-930" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-931"><a href="#cb13-931" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>**Adapt to Evolving Attack Methods**:</span>
<span id="cb13-932"><a href="#cb13-932" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Enhance anti-kidnapping protocols in areas showing increased abduction rates</span>
<span id="cb13-933"><a href="#cb13-933" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Develop context-specific security measures based on predominant attack methods</span>
<span id="cb13-934"><a href="#cb13-934" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Update security training to address emerging sophisticated threats</span>
<span id="cb13-935"><a href="#cb13-935" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Evidence: The rising proportion of kidnappings and the varying lethality by attack method require tailored approaches</span>
<span id="cb13-936"><a href="#cb13-936" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-937"><a href="#cb13-937" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>**Leverage Temporal Patterns**:</span>
<span id="cb13-938"><a href="#cb13-938" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Implement enhanced security protocols during high-risk months (July-August)</span>
<span id="cb13-939"><a href="#cb13-939" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Schedule high-risk movements on lower-risk days where operationally feasible</span>
<span id="cb13-940"><a href="#cb13-940" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Develop seasonal security planning cycles</span>
<span id="cb13-941"><a href="#cb13-941" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Evidence: The 15-20% higher incident rates during peak months offer clear opportunities for temporal risk management</span>
<span id="cb13-942"><a href="#cb13-942" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-943"><a href="#cb13-943" aria-hidden="true" tabindex="-1"></a><span class="fu">### Recommendations for Policy Makers and Donors</span></span>
<span id="cb13-944"><a href="#cb13-944" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-945"><a href="#cb13-945" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Strengthen Protection Frameworks**:</span>
<span id="cb13-946"><a href="#cb13-946" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Mandate equal security provisions for national and international staff in funding requirements</span>
<span id="cb13-947"><a href="#cb13-947" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Support accountability mechanisms for attacks on humanitarian personnel</span>
<span id="cb13-948"><a href="#cb13-948" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Evidence: The persistent impunity (52.4% unknown perpetrators) undermines deterrence</span>
<span id="cb13-949"><a href="#cb13-949" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-950"><a href="#cb13-950" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Reform Funding Structures**:</span>
<span id="cb13-951"><a href="#cb13-951" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Require dedicated security budget lines proportional to contextual risk</span>
<span id="cb13-952"><a href="#cb13-952" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Support specialized security capacity building initiatives for national staff</span>
<span id="cb13-953"><a href="#cb13-953" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Evidence: The geographic concentration of risk justifies targeted security investments</span>
<span id="cb13-954"><a href="#cb13-954" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-955"><a href="#cb13-955" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>**Address Root Causes**:</span>
<span id="cb13-956"><a href="#cb13-956" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Prioritize diplomatic engagement in regions with highest humanitarian casualty rates</span>
<span id="cb13-957"><a href="#cb13-957" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Support conflict resolution in the top 5 most dangerous regions</span>
<span id="cb13-958"><a href="#cb13-958" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Evidence: The correlation between major conflicts and incident spikes demonstrates the importance of addressing drivers of violence</span>
<span id="cb13-959"><a href="#cb13-959" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-960"><a href="#cb13-960" aria-hidden="true" tabindex="-1"></a>By implementing these evidence-based recommendations, humanitarian organizations and policy makers can work toward reversing the alarming trends documented in this analysis. The data clearly shows where, when, and how humanitarian workers face the greatest dangers—now action must follow to ensure they can fulfill their vital mission with the protection they deserve.</span>
<span id="cb13-961"><a href="#cb13-961" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-962"><a href="#cb13-962" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; "The safety of those who bring aid to the world's most vulnerable is not merely an operational concern—it is a moral imperative. The data compels us to act."</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>